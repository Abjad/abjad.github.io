

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>abjad.pitch.segments &mdash; Abjad 3.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/abjad.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/uqbar.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/lightbox2/css/lightbox.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  
  
    <link rel="canonical" href="https://abjad.github.io_modules/abjad/pitch/segments.html"/>
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script defer="defer" src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/ga.js"></script>
        <script defer="defer" src="../../../_static/lightbox2/js/lightbox.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #cc3300" >
          


    <a href="../../../index.html" class="icon icon-home" alt="Documentation
    Home"> Abjad 3.2



    <img src="../../../_static/abjad-logo.png" class="logo" alt="Logo"/>

</a>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">First steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../first_steps/audience.html">Audience</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../first_steps/macos.html">macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../first_steps/linux.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../first_steps/windows.html">Windows</a></li>
</ul>
<p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/about_the_docs.html">About the docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/containers_basic_operations_on.html">Containers, basic operations on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/containers_retrieving_by_name.html">Containers, retrieving by name</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/containers_time_interpretation_of.html">Containers, time interpretation of</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/contexts_lilypond_type_of.html">Contexts, LilyPond type of</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/indicators.html">Indicators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/lilypond_files_preamble_of.html">LilyPond files, preamble of</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/lilypond_format_of_abjad_objects.html">LilyPond format, of Abjad objects</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/corpus_selection.html">Corpus, figure selection from</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/design_by_dyads.html">Design, by dyads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/enumeration.html">Enumeration, of rhythmic cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/magic_square_from_twelve_tone_row.html">Magic square, from twelve-tone row</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/scales_diatonic.html">Scales, diatonic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/score_fragment_piano.html">Score fragment, piano</a></li>
</ul>
<p class="caption"><span class="caption-text">All classes &amp; functions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">Abjad API</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/best_practices.html">Best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/developer_installation.html">Developer installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/lilypond_context_concatenation.html">LilyPond context concatenation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/publications.html">Publications</a></li>
</ul>
<p class="caption"><span class="caption-text">Score gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery_2020.html">2020-16</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery_2015.html">2015-11</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery_2010.html">2010-00</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Abjad</a>
        
      </nav>


      <div class="wy-nav-content">

<div class="rst-content">

    


    <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    <div itemprop="articleBody">
    
  <h1>Source code for abjad.pitch.segments</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">importlib</span>
<span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">types</span>

<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">math</span>
<span class="kn">from</span> <span class="nn">..duration</span> <span class="kn">import</span> <span class="n">Multiplier</span>
<span class="kn">from</span> <span class="nn">..expression</span> <span class="kn">import</span> <span class="n">Expression</span><span class="p">,</span> <span class="n">Signature</span>
<span class="kn">from</span> <span class="nn">..new</span> <span class="kn">import</span> <span class="n">new</span>
<span class="kn">from</span> <span class="nn">..sequence</span> <span class="kn">import</span> <span class="n">Sequence</span>
<span class="kn">from</span> <span class="nn">..storage</span> <span class="kn">import</span> <span class="n">FormatSpecification</span>
<span class="kn">from</span> <span class="nn">..typedcollections</span> <span class="kn">import</span> <span class="n">TypedCollection</span><span class="p">,</span> <span class="n">TypedTuple</span>
<span class="kn">from</span> <span class="nn">.Octave</span> <span class="kn">import</span> <span class="n">Octave</span>
<span class="kn">from</span> <span class="nn">.intervalclasses</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">IntervalClass</span><span class="p">,</span>
    <span class="n">NamedIntervalClass</span><span class="p">,</span>
    <span class="n">NamedInversionEquivalentIntervalClass</span><span class="p">,</span>
    <span class="n">NumberedIntervalClass</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.intervals</span> <span class="kn">import</span> <span class="n">Interval</span><span class="p">,</span> <span class="n">NamedInterval</span><span class="p">,</span> <span class="n">NumberedInterval</span>
<span class="kn">from</span> <span class="nn">.pitchclasses</span> <span class="kn">import</span> <span class="n">NamedPitchClass</span><span class="p">,</span> <span class="n">NumberedPitchClass</span><span class="p">,</span> <span class="n">PitchClass</span>
<span class="kn">from</span> <span class="nn">.pitches</span> <span class="kn">import</span> <span class="n">NamedPitch</span><span class="p">,</span> <span class="n">NumberedPitch</span><span class="p">,</span> <span class="n">Pitch</span>


<div class="viewcode-block" id="Segment"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.Segment">[docs]</a><span class="k">class</span> <span class="nc">Segment</span><span class="p">(</span><span class="n">TypedTuple</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract segment.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ##</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_equivalence_markup&quot;</span><span class="p">,</span> <span class="s2">&quot;_expression&quot;</span><span class="p">)</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">prototype</span> <span class="o">=</span> <span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Iterator</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">GeneratorType</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">items</span> <span class="o">=</span> <span class="n">items</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">prototype</span><span class="p">):</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">item_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">item_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_named_item_class</span>
            <span class="k">if</span> <span class="n">items</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">TypedCollection</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span>
                    <span class="n">items</span><span class="o">.</span><span class="n">item_class</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_item_class</span>
                <span class="p">):</span>
                    <span class="n">item_class</span> <span class="o">=</span> <span class="n">items</span><span class="o">.</span><span class="n">item_class</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Set</span><span class="p">):</span>
                        <span class="n">items</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="n">item_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_named_item_class</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                        <span class="n">item_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_numbered_item_class</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_item_class</span><span class="p">):</span>
                        <span class="n">item_class</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item_class</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">abjad</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;abjad&quot;</span><span class="p">)</span>
            <span class="n">globals_</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;abjad&quot;</span><span class="p">:</span> <span class="n">abjad</span><span class="p">}</span>
            <span class="n">globals_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
            <span class="n">item_class</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">item_class</span><span class="p">,</span> <span class="n">globals_</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">item_class</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_item_class</span><span class="p">)</span>
        <span class="n">TypedTuple</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_equivalence_markup</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="Segment.__str__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.Segment.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets string representation of segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="s2">&gt;&quot;</span></div>

    <span class="c1">### PRIVATE PROPERTIES ###</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractproperty</span>
    <span class="k">def</span> <span class="nf">_named_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractproperty</span>
    <span class="k">def</span> <span class="nf">_numbered_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractproperty</span>
    <span class="k">def</span> <span class="nf">_parent_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="c1">### PRIVATE METHODS ###</span>

    <span class="k">def</span> <span class="nf">_coerce_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_item_class</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_format_specification</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Named&quot;</span><span class="p">):</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="p">,</span> <span class="s2">&quot;pitch_number&quot;</span><span class="p">):</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">pitch_number</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="p">,</span> <span class="s2">&quot;pitch_class_number&quot;</span><span class="p">):</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">pitch_class_number</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Numbered&quot;</span><span class="p">):</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">math</span><span class="o">.</span><span class="n">integer_equivalent_number_to_integer</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">number</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="p">,</span> <span class="s2">&quot;__abs__&quot;</span><span class="p">):</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;invalid item class: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FormatSpecification</span><span class="p">(</span>
            <span class="n">client</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">repr_is_indented</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">repr_keyword_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">repr_args_values</span><span class="o">=</span><span class="p">[</span><span class="n">items</span><span class="p">],</span>
            <span class="n">storage_format_args_values</span><span class="o">=</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_collection</span><span class="p">)],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_padded_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">strings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">item</span><span class="si">!s:</span><span class="s2">&gt;</span><span class="si">{</span><span class="n">width</span><span class="si">}}</span><span class="s2">&quot;</span>
            <span class="n">strings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">strings</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="Segment.from_selection"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.Segment.from_selection">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">from_selection</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">selection</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes segment from ``selection``.</span>

<span class="sd">        Returns new segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>

<div class="viewcode-block" id="Segment.has_duplicates"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.Segment.has_duplicates">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">has_duplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true when segment has duplicates.</span>

<span class="sd">        Returns true or false.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div></div>


<div class="viewcode-block" id="IntervalClassSegment"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.IntervalClassSegment">[docs]</a><span class="k">class</span> <span class="nc">IntervalClassSegment</span><span class="p">(</span><span class="n">Segment</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interval-class segment.</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        An interval-class segment:</span>

<span class="sd">        &gt;&gt;&gt; intervals = &#39;m2 M10 -aug4 P5&#39;</span>
<span class="sd">        &gt;&gt;&gt; abjad.IntervalClassSegment(intervals)</span>
<span class="sd">        IntervalClassSegment([&#39;+m2&#39;, &#39;+M3&#39;, &#39;-A4&#39;, &#39;+P5&#39;])</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Another interval-class segment:</span>

<span class="sd">        &gt;&gt;&gt; intervals = &#39;P4 P5 P11 P12&#39;</span>
<span class="sd">        &gt;&gt;&gt; abjad.IntervalClassSegment(intervals)</span>
<span class="sd">        IntervalClassSegment([&#39;+P4&#39;, &#39;+P5&#39;, &#39;+P4&#39;, &#39;+P5&#39;])</span>

<span class="sd">    Returns interval-class segment.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">### PRIVATE PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_named_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NamedIntervalClass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_numbered_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NumberedIntervalClass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_parent_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">IntervalClass</span>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_tertian</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true when all named interval-classes in segment are tertian.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; interval_class_segment = abjad.IntervalClassSegment(</span>
<span class="sd">            ...     items=[(&#39;major&#39;, 3), (&#39;minor&#39;, 6), (&#39;major&#39;, 6)],</span>
<span class="sd">            ...     item_class=abjad.NamedIntervalClass,</span>
<span class="sd">            ...     )</span>
<span class="sd">            &gt;&gt;&gt; interval_class_segment.is_tertian</span>
<span class="sd">            True</span>

<span class="sd">        Returns true or false.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">inversion_equivalent_interval_class_segment</span> <span class="o">=</span> <span class="n">new</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">NamedInversionEquivalentIntervalClass</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">interval</span> <span class="ow">in</span> <span class="n">inversion_equivalent_interval_class_segment</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">interval</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="IntervalClassSegment.from_selection"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.IntervalClassSegment.from_selection">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_selection</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">selection</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes interval-class segment from component selection.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; staff_1 = abjad.Staff(&quot;c&#39;4 &lt;d&#39; fs&#39; a&#39;&gt;4 b2&quot;)</span>
<span class="sd">            &gt;&gt;&gt; staff_2 = abjad.Staff(&quot;c4. r8 g2&quot;)</span>
<span class="sd">            &gt;&gt;&gt; selection = abjad.select((staff_1, staff_2))</span>
<span class="sd">            &gt;&gt;&gt; abjad.IntervalClassSegment.from_selection(selection)</span>
<span class="sd">            IntervalClassSegment([&#39;-M2&#39;, &#39;-M3&#39;, &#39;-m3&#39;, &#39;+m7&#39;, &#39;+M7&#39;, &#39;-P5&#39;])</span>

<span class="sd">        Returns interval-class segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pitch_segment</span> <span class="o">=</span> <span class="n">PitchSegment</span><span class="o">.</span><span class="n">from_selection</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
        <span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">pitch_segment</span><span class="p">]</span>
        <span class="n">intervals</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">difference_series</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">class_</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">intervals</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span></div>

<div class="viewcode-block" id="IntervalClassSegment.has_duplicates"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.IntervalClassSegment.has_duplicates">[docs]</a>    <span class="k">def</span> <span class="nf">has_duplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true when segment contains duplicates.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; intervals = &#39;m2 M3 -aug4 m2 P5&#39;</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.IntervalClassSegment(intervals)</span>
<span class="sd">            &gt;&gt;&gt; segment.has_duplicates()</span>
<span class="sd">            True</span>

<span class="sd">            &gt;&gt;&gt; intervals = &#39;M3 -aug4 m2 P5&#39;</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.IntervalClassSegment(intervals)</span>
<span class="sd">            &gt;&gt;&gt; segment.has_duplicates()</span>
<span class="sd">            False</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="IntervalSegment"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.IntervalSegment">[docs]</a><span class="k">class</span> <span class="nc">IntervalSegment</span><span class="p">(</span><span class="n">Segment</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interval segment.</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Initializes from string:</span>

<span class="sd">        &gt;&gt;&gt; intervals = &#39;m2 M10 -aug4 P5&#39;</span>
<span class="sd">        &gt;&gt;&gt; abjad.IntervalSegment(intervals)</span>
<span class="sd">        IntervalSegment([&#39;+m2&#39;, &#39;+M10&#39;, &#39;-A4&#39;, &#39;+P5&#39;])</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Initializes from pitch segment:</span>

<span class="sd">        &gt;&gt;&gt; pitch_segment = abjad.PitchSegment(&quot;c d e f g a b c&#39;&quot;)</span>
<span class="sd">        &gt;&gt;&gt; abjad.IntervalSegment(pitch_segment)</span>
<span class="sd">        IntervalSegment([&#39;+M2&#39;, &#39;+M2&#39;, &#39;+m2&#39;, &#39;+M2&#39;, &#39;+M2&#39;, &#39;+M2&#39;, &#39;+m2&#39;])</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">PitchSegment</span><span class="p">):</span>
            <span class="n">intervals</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">one</span><span class="p">,</span> <span class="n">two</span> <span class="ow">in</span> <span class="n">Sequence</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="o">.</span><span class="n">nwise</span><span class="p">():</span>
                <span class="n">intervals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one</span> <span class="o">-</span> <span class="n">two</span><span class="p">)</span>
            <span class="n">items</span> <span class="o">=</span> <span class="n">intervals</span>
        <span class="n">Segment</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span>

    <span class="c1">### PRIVATE PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_named_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NamedInterval</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_numbered_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NumberedInterval</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_parent_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Interval</span>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">slope</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets slope of interval segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            The slope of a interval segment is the sum of its</span>
<span class="sd">            intervals divided by its length:</span>

<span class="sd">            &gt;&gt;&gt; abjad.IntervalSegment([1, 2]).slope</span>
<span class="sd">            Multiplier(3, 2)</span>

<span class="sd">        Returns multiplier.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">number</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Multiplier</span><span class="o">.</span><span class="n">from_float</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">spread</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets spread of interval segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            The maximum interval spanned by any combination of</span>
<span class="sd">            the intervals within a numbered interval segment.</span>

<span class="sd">            &gt;&gt;&gt; abjad.IntervalSegment([1, 2, -3, 1, -2, 1]).spread</span>
<span class="sd">            NumberedInterval(4)</span>

<span class="sd">            &gt;&gt;&gt; abjad.IntervalSegment([1, 1, 1, 2, -3, -2]).spread</span>
<span class="sd">            NumberedInterval(5)</span>

<span class="sd">        Returns numbered interval.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">current</span> <span class="o">=</span> <span class="n">maximum</span> <span class="o">=</span> <span class="n">minimum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">current</span> <span class="o">+=</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">maximum</span> <span class="o">&lt;</span> <span class="n">current</span><span class="p">:</span>
                <span class="n">maximum</span> <span class="o">=</span> <span class="n">current</span>
            <span class="k">if</span> <span class="n">current</span> <span class="o">&lt;</span> <span class="n">minimum</span><span class="p">:</span>
                <span class="n">minimum</span> <span class="o">=</span> <span class="n">current</span>
        <span class="k">return</span> <span class="n">NumberedInterval</span><span class="p">(</span><span class="n">maximum</span> <span class="o">-</span> <span class="n">minimum</span><span class="p">)</span>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="IntervalSegment.from_selection"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.IntervalSegment.from_selection">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_selection</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">selection</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes interval segment from component ``selection``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; staff = abjad.Staff(&quot;c&#39;8 d&#39;8 e&#39;8 f&#39;8 g&#39;8 a&#39;8 b&#39;8 c&#39;&#39;8&quot;)</span>
<span class="sd">            &gt;&gt;&gt; abjad.IntervalSegment.from_selection(</span>
<span class="sd">            ...     abjad.select(staff),</span>
<span class="sd">            ...     item_class=abjad.NumberedInterval,</span>
<span class="sd">            ...     )</span>
<span class="sd">            IntervalSegment([2, 2, 1, 2, 2, 2, 1])</span>

<span class="sd">        Returns interval segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pitch_segment</span> <span class="o">=</span> <span class="n">PitchSegment</span><span class="o">.</span><span class="n">from_selection</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
        <span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">pitch_segment</span><span class="p">]</span>
        <span class="n">intervals</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">math</span><span class="o">.</span><span class="n">difference_series</span><span class="p">(</span><span class="n">pitches</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">class_</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">intervals</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span></div>

<div class="viewcode-block" id="IntervalSegment.has_duplicates"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.IntervalSegment.has_duplicates">[docs]</a>    <span class="k">def</span> <span class="nf">has_duplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true if segment has duplicate items.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; intervals = &#39;m2 M3 -aug4 m2 P5&#39;</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.IntervalSegment(intervals)</span>
<span class="sd">            &gt;&gt;&gt; segment.has_duplicates()</span>
<span class="sd">            True</span>

<span class="sd">            &gt;&gt;&gt; intervals = &#39;M3 -aug4 m2 P5&#39;</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.IntervalSegment(intervals)</span>
<span class="sd">            &gt;&gt;&gt; segment.has_duplicates()</span>
<span class="sd">            False</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="IntervalSegment.rotate"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.IntervalSegment.rotate">[docs]</a>    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rotates interval segment by index ``n``.</span>

<span class="sd">        Returns new interval segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">:]</span> <span class="o">+</span> <span class="bp">self</span><span class="p">[:</span><span class="o">-</span><span class="n">n</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="PitchClassSegment"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment">[docs]</a><span class="k">class</span> <span class="nc">PitchClassSegment</span><span class="p">(</span><span class="n">Segment</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pitch-class segment.</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Initializes segment with numbered pitch-classes:</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example expression</span>

<span class="sd">            &gt;&gt;&gt; expression = abjad.Expression()</span>
<span class="sd">            &gt;&gt;&gt; expression = abjad.pitch_class_segment()</span>

<span class="sd">            &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Initializes segment with named pitch-classes:</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; items = [&#39;c&#39;, &#39;ef&#39;, &#39;bqs,&#39;, &#39;d&#39;]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(</span>
<span class="sd">            ...     items=items,</span>
<span class="sd">            ...     item_class=abjad.NamedPitchClass,</span>
<span class="sd">            ...     )</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    bqs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example expression</span>

<span class="sd">            &gt;&gt;&gt; expression = abjad.Expression()</span>
<span class="sd">            &gt;&gt;&gt; expression = abjad.pitch_class_segment(</span>
<span class="sd">            ...     item_class=abjad.NamedPitchClass,</span>
<span class="sd">            ...     )</span>

<span class="sd">            &gt;&gt;&gt; segment = expression([&#39;c&#39;, &#39;ef&#39;, &#39;bqs,&#39;, &#39;d&#39;])</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    bqs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">items</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_class</span><span class="p">:</span>
            <span class="n">item_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_named_item_class</span>
        <span class="n">Segment</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="PitchClassSegment.__add__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.__add__">[docs]</a>    <span class="nd">@Signature</span><span class="p">(</span>
        <span class="n">markup_maker_callback</span><span class="o">=</span><span class="s2">&quot;_make___add___markup&quot;</span><span class="p">,</span>
        <span class="n">string_template_callback</span><span class="o">=</span><span class="s2">&quot;_make___add___string_template&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds ``argument`` to segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segments:</span>

<span class="sd">            &gt;&gt;&gt; pitch_numbers = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; abjad.PitchClassSegment(items=pitch_numbers)</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; J = abjad.PitchClassSegment(items=pitch_numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(J)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; pitch_names = [&#39;c&#39;, &#39;ef&#39;, &#39;bqs,&#39;, &#39;d&#39;]</span>
<span class="sd">            &gt;&gt;&gt; abjad.PitchClassSegment(items=pitch_names)</span>
<span class="sd">            PitchClassSegment(&quot;c ef bqs d&quot;)</span>

<span class="sd">            &gt;&gt;&gt; K = abjad.PitchClassSegment(items=pitch_names)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(K)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Adds J and K:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J + K</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7, 0, 3, 11.5, 2])</span>

<span class="sd">                &gt;&gt;&gt; segment = J + K</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression + pitch_names</span>

<span class="sd">                &gt;&gt;&gt; expression(pitch_numbers)</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7, 0, 3, 11.5, 2])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &quot;J + [&#39;c&#39;, &#39;ef&#39;, &#39;bqs,&#39;, &#39;d&#39;]&quot;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression(pitch_names)</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \line</span>
<span class="sd">                                {</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                    +</span>
<span class="sd">                                    &quot;[&#39;c&#39;, &#39;ef&#39;, &#39;bqs,&#39;, &#39;d&#39;]&quot;</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Adds J repeatedly:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J + J + J</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7, 10, 10.5, 6, 7, 10.5, 7, 10, 10.5, 6, 7, 10.5, 7])</span>


<span class="sd">                &gt;&gt;&gt; segment = J + J + J</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression_J = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression_J + expression_J + expression_J</span>

<span class="sd">                &gt;&gt;&gt; expression(pitch_numbers)</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7, 10, 10.5, 6, 7, 10.5, 7, 10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;J + J + J&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression(pitch_numbers)</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \line</span>
<span class="sd">                                {</span>
<span class="sd">                                    \line</span>
<span class="sd">                                        {</span>
<span class="sd">                                            \bold</span>
<span class="sd">                                                J</span>
<span class="sd">                                            +</span>
<span class="sd">                                            \bold</span>
<span class="sd">                                                J</span>
<span class="sd">                                        }</span>
<span class="sd">                                    +</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Adds transformed segments:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.rotate(n=1) + K.rotate(n=2)</span>
<span class="sd">                PitchClassSegment([7, 10, 10.5, 6, 7, 10.5, 11.5, 2, 0, 3])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.rotate(n=1) + K.rotate(n=2)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.rotate(n=1)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression + K.rotate(n=2)</span>

<span class="sd">                &gt;&gt;&gt; expression(pitch_numbers)</span>
<span class="sd">                PitchClassSegment([7, 10, 10.5, 6, 7, 10.5, 11.5, 2, 0, 3])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;r1(J) + PC&lt;bqs d c ef&gt;&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression(pitch_numbers)</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \line</span>
<span class="sd">                                {</span>
<span class="sd">                                    \concat</span>
<span class="sd">                                        {</span>
<span class="sd">                                            r</span>
<span class="sd">                                            \sub</span>
<span class="sd">                                                1</span>
<span class="sd">                                            \bold</span>
<span class="sd">                                                J</span>
<span class="sd">                                        }</span>
<span class="sd">                                    +</span>
<span class="sd">                                    &quot;PC&lt;bqs d c ef&gt;&quot;</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Reverses result:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; segment = J.rotate(n=1) + K.rotate(n=2)</span>
<span class="sd">                &gt;&gt;&gt; segment.retrograde()</span>
<span class="sd">                PitchClassSegment([3, 0, 2, 11.5, 10.5, 7, 6, 10.5, 10, 7])</span>

<span class="sd">                &gt;&gt;&gt; segment = segment.retrograde()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.rotate(n=1)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression + K.rotate(n=2)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.retrograde()</span>

<span class="sd">                &gt;&gt;&gt; expression(pitch_numbers)</span>
<span class="sd">                PitchClassSegment([3, 0, 2, 11.5, 10.5, 7, 6, 10.5, 10, 7])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;R(r1(J) + PC&lt;bqs d c ef&gt;)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression(pitch_numbers)</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    R</span>
<span class="sd">                                    \line</span>
<span class="sd">                                        {</span>
<span class="sd">                                            \concat</span>
<span class="sd">                                                {</span>
<span class="sd">                                                    r</span>
<span class="sd">                                                    \sub</span>
<span class="sd">                                                        1</span>
<span class="sd">                                                    \bold</span>
<span class="sd">                                                        J</span>
<span class="sd">                                                }</span>
<span class="sd">                                            +</span>
<span class="sd">                                            &quot;PC&lt;bqs d c ef&gt;&quot;</span>
<span class="sd">                                        }</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example expression</span>

<span class="sd">            Establishes equivalence:</span>

<span class="sd">            &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">            &gt;&gt;&gt; expression = expression.rotate(n=1)</span>
<span class="sd">            &gt;&gt;&gt; expression = expression + K.rotate(n=2)</span>
<span class="sd">            &gt;&gt;&gt; expression = expression.establish_equivalence(name=&#39;Q&#39;)</span>

<span class="sd">            &gt;&gt;&gt; expression(pitch_numbers)</span>
<span class="sd">            PitchClassSegment([7, 10, 10.5, 6, 7, 10.5, 11.5, 2, 0, 3])</span>

<span class="sd">            &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">            &#39;Q = r1(J) + PC&lt;bqs d c ef&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; segment = expression(pitch_numbers)</span>
<span class="sd">            &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    ^ \markup {</span>
<span class="sd">                        \line</span>
<span class="sd">                            {</span>
<span class="sd">                                \bold</span>
<span class="sd">                                    Q</span>
<span class="sd">                                =</span>
<span class="sd">                                \line</span>
<span class="sd">                                    {</span>
<span class="sd">                                        \concat</span>
<span class="sd">                                            {</span>
<span class="sd">                                                r</span>
<span class="sd">                                                \sub</span>
<span class="sd">                                                    1</span>
<span class="sd">                                                \bold</span>
<span class="sd">                                                    J</span>
<span class="sd">                                            }</span>
<span class="sd">                                        +</span>
<span class="sd">                                        &quot;PC&lt;bqs d c ef&gt;&quot;</span>
<span class="sd">                                    }</span>
<span class="sd">                            }</span>
<span class="sd">                        }</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    bqs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example expression</span>

<span class="sd">            Transforms equivalence:</span>

<span class="sd">            &gt;&gt;&gt; expression = expression.transpose(n=1)</span>

<span class="sd">            &gt;&gt;&gt; expression(pitch_numbers)</span>
<span class="sd">            PitchClassSegment([8, 11, 11.5, 7, 8, 11.5, 0.5, 3, 1, 4])</span>

<span class="sd">            &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">            &#39;T1(Q)&#39;</span>

<span class="sd">            &gt;&gt;&gt; segment = expression(pitch_numbers)</span>
<span class="sd">            &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    ^ \markup {</span>
<span class="sd">                        \concat</span>
<span class="sd">                            {</span>
<span class="sd">                                T</span>
<span class="sd">                                \sub</span>
<span class="sd">                                    1</span>
<span class="sd">                                \bold</span>
<span class="sd">                                    Q</span>
<span class="sd">                            }</span>
<span class="sd">                        }</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    bqs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    bqs&#39;8</span>
<span class="sd">                    cqs&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        Returns new segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_expression</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span>
        <span class="n">argument</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">+</span> <span class="n">argument</span><span class="o">.</span><span class="n">items</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.__contains__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.__contains__">[docs]</a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true when pitch-class segment contains ``argument``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segments:</span>

<span class="sd">            &gt;&gt;&gt; pitch_numbers = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=pitch_numbers)</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; abjad.NamedPitch(&#39;bf&#39;) in segment</span>
<span class="sd">            True</span>

<span class="sd">            &gt;&gt;&gt; abjad.NamedPitch(&#39;cs&#39;) in segment</span>
<span class="sd">            False</span>

<span class="sd">            &gt;&gt;&gt; &#39;bf&#39; in segment</span>
<span class="sd">            True</span>

<span class="sd">            &gt;&gt;&gt; &#39;cs&#39; in segment</span>
<span class="sd">            False</span>

<span class="sd">            &gt;&gt;&gt; 10 in segment</span>
<span class="sd">            True</span>

<span class="sd">            &gt;&gt;&gt; 13 in segment</span>
<span class="sd">            False</span>

<span class="sd">        Returns true or false.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__contains__</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.__getitem__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.__getitem__">[docs]</a>    <span class="nd">@Signature</span><span class="p">(</span>
        <span class="n">markup_maker_callback</span><span class="o">=</span><span class="s2">&quot;_make___getitem___markup&quot;</span><span class="p">,</span>
        <span class="n">string_template_callback</span><span class="o">=</span><span class="s2">&quot;_make___getitem___string_template&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets ``argument`` from segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segment:</span>

<span class="sd">            &gt;&gt;&gt; pitch_numbers = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; abjad.PitchClassSegment(items=pitch_numbers)</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; J = abjad.PitchClassSegment(items=pitch_numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(J)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets item at nonnegative index:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J[0]</span>
<span class="sd">                NumberedPitchClass(10)</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression[0]</span>

<span class="sd">                &gt;&gt;&gt; expression(items=[-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                NumberedPitchClass(10)</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;J[0]&#39;</span>

<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(markup) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(markup)</span>
<span class="sd">                    \markup {</span>
<span class="sd">                        \concat</span>
<span class="sd">                            {</span>
<span class="sd">                                \bold</span>
<span class="sd">                                    J</span>
<span class="sd">                                \sub</span>
<span class="sd">                                    0</span>
<span class="sd">                            }</span>
<span class="sd">                        }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets item at negative index:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J[-1]</span>
<span class="sd">                NumberedPitchClass(7)</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression[-1]</span>

<span class="sd">                &gt;&gt;&gt; expression(items=[-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                NumberedPitchClass(7)</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;J[-1]&#39;</span>

<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(markup) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(markup)</span>
<span class="sd">                    \markup {</span>
<span class="sd">                        \concat</span>
<span class="sd">                            {</span>
<span class="sd">                                \bold</span>
<span class="sd">                                    J</span>
<span class="sd">                                \sub</span>
<span class="sd">                                    -1</span>
<span class="sd">                            }</span>
<span class="sd">                        }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets slice:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J[:4]</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7])</span>

<span class="sd">                &gt;&gt;&gt; segment = J[:4]</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression[:4]</span>

<span class="sd">                &gt;&gt;&gt; expression(items=[-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;J[:4]&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression(items=[-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        [:4]</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets retrograde of slice:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J[:4].retrograde()</span>
<span class="sd">                PitchClassSegment([7, 6, 10.5, 10])</span>

<span class="sd">                &gt;&gt;&gt; segment = J[:4].retrograde()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression[:4]</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.retrograde()</span>

<span class="sd">                &gt;&gt;&gt; expression(items=[-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([7, 6, 10.5, 10])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;R(J[:4])&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression(items=[-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    R</span>
<span class="sd">                                    \concat</span>
<span class="sd">                                        {</span>
<span class="sd">                                            \bold</span>
<span class="sd">                                                J</span>
<span class="sd">                                            \sub</span>
<span class="sd">                                                [:4]</span>
<span class="sd">                                        }</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets slice of retrograde:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.retrograde()[:4]</span>
<span class="sd">                PitchClassSegment([7, 10.5, 7, 6])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.retrograde()[:4]</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.retrograde()</span>
<span class="sd">                &gt;&gt;&gt; expression = expression[:4]</span>

<span class="sd">                &gt;&gt;&gt; expression(items=[-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([7, 10.5, 7, 6])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;R(J)[:4]&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression(items=[-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    \concat</span>
<span class="sd">                                        {</span>
<span class="sd">                                            (</span>
<span class="sd">                                            \concat</span>
<span class="sd">                                                {</span>
<span class="sd">                                                    R</span>
<span class="sd">                                                    \bold</span>
<span class="sd">                                                        J</span>
<span class="sd">                                                }</span>
<span class="sd">                                            )</span>
<span class="sd">                                        }</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        [:4]</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class or pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment, abjad.PitchClassSegment)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_expression</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">(),</span> <span class="n">precedence</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.__mul__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.__mul__">[docs]</a>    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiplies pitch-class segment by ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; 2 * abjad.PitchClassSegment(items=items)</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7, 10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">        Returns new pitch-class segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__mul__</span><span class="p">(</span><span class="n">n</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.__repr__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets interpreter representation.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Interpreter representation:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; abjad.PitchClassSegment(items=items)</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">        Returns string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_class</span> <span class="ow">is</span> <span class="n">NamedPitchClass</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">contents</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="n">contents</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">contents</span><span class="si">}</span><span class="s2">)&quot;</span></div>

<div class="viewcode-block" id="PitchClassSegment.__rmul__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.__rmul__">[docs]</a>    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiplies ``n`` by pitch-class segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; abjad.PitchClassSegment(items=items) * 2</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7, 10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">        Returns new pitch-class segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__rmul__</span><span class="p">(</span><span class="n">n</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.__str__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets string representation of pitch-class segment.</span>

<span class="sd">        ..  container::</span>

<span class="sd">            Gets string represenation of numbered pitch class:</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;PC&lt;10, 10.5, 6, 7, 10.5, 7&gt;&#39;</span>

<span class="sd">        ..  container::</span>

<span class="sd">            Gets string represenation of named pitch class:</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(</span>
<span class="sd">            ...     items=[-2, -1.5, 6, 7, -1.5, 7],</span>
<span class="sd">            ...     item_class=abjad.NamedPitchClass,</span>
<span class="sd">            ...     )</span>
<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;PC&lt;bf bqf fs g bqf g&gt;&#39;</span>

<span class="sd">        Returns string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="n">separator</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_class</span> <span class="ow">is</span> <span class="n">NumberedPitchClass</span><span class="p">:</span>
            <span class="n">separator</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;PC&lt;</span><span class="si">{</span><span class="n">separator</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="si">}</span><span class="s2">&gt;&quot;</span></div>

    <span class="c1">### PRIVATE PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_named_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NamedPitchClass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_numbered_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NumberedPitchClass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_parent_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PitchClass</span>

    <span class="c1">### PRIVATE METHODS ###</span>

    <span class="k">def</span> <span class="nf">_get_padded_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">string</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_padded_string</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;PC&lt;&quot;</span> <span class="o">+</span> <span class="n">string</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&gt;&quot;</span>

    <span class="k">def</span> <span class="nf">_is_equivalent_under_transposition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">argument</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">difference</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span>
            <span class="n">NamedPitch</span><span class="p">((</span><span class="n">argument</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span> <span class="o">-</span> <span class="n">NamedPitch</span><span class="p">((</span><span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="n">new_pitch_classes</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">difference</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">new_pitch_classes</span> <span class="o">=</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">new_pitch_classes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">argument</span> <span class="o">==</span> <span class="n">new_pitch_classes</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_make_rotate_method_name</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stravinsky</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">stravinsky</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;rs&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;r&quot;</span>

    <span class="k">def</span> <span class="nf">_transpose_to_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="o">.</span><span class="n">number</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="n">first_number</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
        <span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="n">pc</span><span class="o">.</span><span class="n">number</span> <span class="o">-</span> <span class="n">first_number</span> <span class="k">for</span> <span class="n">pc</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="n">pcs</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span> <span class="o">%</span> <span class="mi">12</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="n">pcs</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">precedence</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">callback</span> <span class="o">=</span> <span class="n">Expression</span><span class="o">.</span><span class="n">_frame_to_callback</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">precedence</span><span class="o">=</span><span class="n">precedence</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="o">.</span><span class="n">append_callback</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets item class of segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets item class of numbered segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment.item_class.__name__</span>
<span class="sd">            &#39;NumberedPitchClass&#39;</span>

<span class="sd">        ..  container:: example</span>


<span class="sd">            Gets item class of named segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [&#39;c&#39;, &#39;ef&#39;, &#39;bqs,&#39;, &#39;d&#39;]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(</span>
<span class="sd">            ...     items=items,</span>
<span class="sd">            ...     item_class=abjad.NamedPitchClass,</span>
<span class="sd">            ...     )</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment.item_class.__name__</span>
<span class="sd">            &#39;NamedPitchClass&#39;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">item_class</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets items in segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                Initializes items positionally:</span>

<span class="sd">                &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">                &gt;&gt;&gt; segment = abjad.PitchClassSegment(items)</span>
<span class="sd">                &gt;&gt;&gt; for item in segment.items:</span>
<span class="sd">                ...     item</span>
<span class="sd">                ...</span>
<span class="sd">                NumberedPitchClass(10)</span>
<span class="sd">                NumberedPitchClass(10.5)</span>
<span class="sd">                NumberedPitchClass(6)</span>
<span class="sd">                NumberedPitchClass(7)</span>
<span class="sd">                NumberedPitchClass(10.5)</span>
<span class="sd">                NumberedPitchClass(7)</span>

<span class="sd">                Initializes items from keyword:</span>

<span class="sd">                &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">                &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">                &gt;&gt;&gt; for item in segment.items:</span>
<span class="sd">                ...     item</span>
<span class="sd">                NumberedPitchClass(10)</span>
<span class="sd">                NumberedPitchClass(10.5)</span>
<span class="sd">                NumberedPitchClass(6)</span>
<span class="sd">                NumberedPitchClass(7)</span>
<span class="sd">                NumberedPitchClass(10.5)</span>
<span class="sd">                NumberedPitchClass(7)</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                Initializes items positionally:</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.Expression()</span>
<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment()</span>

<span class="sd">                &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">                &gt;&gt;&gt; segment = expression(items)</span>
<span class="sd">                &gt;&gt;&gt; for item in segment.items:</span>
<span class="sd">                ...     item</span>
<span class="sd">                NumberedPitchClass(10)</span>
<span class="sd">                NumberedPitchClass(10.5)</span>
<span class="sd">                NumberedPitchClass(6)</span>
<span class="sd">                NumberedPitchClass(7)</span>
<span class="sd">                NumberedPitchClass(10.5)</span>
<span class="sd">                NumberedPitchClass(7)</span>

<span class="sd">                Initializes items from keyword:</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.Expression()</span>
<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment()</span>

<span class="sd">                &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">                &gt;&gt;&gt; segment = expression(items=items)</span>
<span class="sd">                &gt;&gt;&gt; for item in segment.items:</span>
<span class="sd">                ...     item</span>
<span class="sd">                NumberedPitchClass(10)</span>
<span class="sd">                NumberedPitchClass(10.5)</span>
<span class="sd">                NumberedPitchClass(6)</span>
<span class="sd">                NumberedPitchClass(7)</span>
<span class="sd">                NumberedPitchClass(10.5)</span>
<span class="sd">                NumberedPitchClass(7)</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns list:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment.items, list)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">items</span>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="PitchClassSegment.count"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.count">[docs]</a>    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts ``item`` in segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Counts existing item in segment:</span>

<span class="sd">            &gt;&gt;&gt; segment.count(-1.5)</span>
<span class="sd">            2</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Counts nonexisting item in segment:</span>

<span class="sd">            &gt;&gt;&gt; segment.count(&#39;text&#39;)</span>
<span class="sd">            0</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns nonnegative integer:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment.count(&#39;text&#39;), int)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.from_selection"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.from_selection">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_selection</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">selection</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes segment from ``selection``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Initializes from selection:</span>

<span class="sd">            &gt;&gt;&gt; staff_1 = abjad.Staff(&quot;c&#39;4 &lt;d&#39; fs&#39; a&#39;&gt;4 b2&quot;)</span>
<span class="sd">            &gt;&gt;&gt; staff_2 = abjad.Staff(&quot;c4. r8 g2&quot;)</span>
<span class="sd">            &gt;&gt;&gt; staff_group = abjad.StaffGroup([staff_1, staff_2])</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(staff_group) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; selection = abjad.select((staff_1, staff_2))</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment.from_selection(selection)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment(&quot;c d fs a b c g&quot;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pitch_segment</span> <span class="o">=</span> <span class="n">PitchSegment</span><span class="o">.</span><span class="n">from_selection</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">class_</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">pitch_segment</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.has_duplicates"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.has_duplicates">[docs]</a>    <span class="k">def</span> <span class="nf">has_duplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true when segment contains duplicate items.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Has duplicates:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment.has_duplicates()</span>
<span class="sd">            True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Has no duplicates:</span>

<span class="sd">            &gt;&gt;&gt; items = &quot;c d e f g a b&quot;</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment.has_duplicates()</span>
<span class="sd">            False</span>

<span class="sd">        Returns true or false.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.index"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.index">[docs]</a>    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets index of ``item`` in segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets index of first item in segment:</span>

<span class="sd">            &gt;&gt;&gt; segment.index(-2)</span>
<span class="sd">            0</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets index of second item in segment:</span>

<span class="sd">            &gt;&gt;&gt; segment.index(-1.5)</span>
<span class="sd">            1</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns nonnegative integer:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment.index(-1.5), int)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.invert"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.invert">[docs]</a>    <span class="nd">@Signature</span><span class="p">(</span><span class="n">is_operator</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="n">subscript</span><span class="o">=</span><span class="s2">&quot;axis&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">invert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inverts segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; J = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; J</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(J)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Inverts segment:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.invert()</span>
<span class="sd">                PitchClassSegment([2, 1.5, 6, 5, 1.5, 5])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.invert()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        dqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        dqf&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.invert()</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([2, 1.5, 6, 5, 1.5, 5])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;I(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    I</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        dqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        dqf&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Inverts inversion of segment:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.invert().invert()</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.invert().invert()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">                &gt;&gt;&gt; segment == J</span>
<span class="sd">                True</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.invert()</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.invert()</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;I(I(J))&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    I</span>
<span class="sd">                                    \concat</span>
<span class="sd">                                        {</span>
<span class="sd">                                            I</span>
<span class="sd">                                            \bold</span>
<span class="sd">                                                J</span>
<span class="sd">                                        }</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment, abjad.PitchClassSegment)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_expression</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="o">.</span><span class="n">invert</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.multiply"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.multiply">[docs]</a>    <span class="nd">@Signature</span><span class="p">(</span><span class="n">is_operator</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;M&quot;</span><span class="p">,</span> <span class="n">subscript</span><span class="o">=</span><span class="s2">&quot;n&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiplies pitch-classes in segment by ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; J = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; J</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(J)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies pitch-classes in segment by 1:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.multiply(n=1)</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.multiply(n=1)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.multiply(n=1)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;M1(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    M</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        1</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies pitch-classes in segment by 5:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.multiply(n=5)</span>
<span class="sd">                PitchClassSegment([2, 4.5, 6, 11, 4.5, 11])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.multiply(n=5)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        eqs&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        b&#39;8</span>
<span class="sd">                        eqs&#39;8</span>
<span class="sd">                        b&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.multiply(n=5)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([2, 4.5, 6, 11, 4.5, 11])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;M5(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    M</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        5</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        eqs&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        b&#39;8</span>
<span class="sd">                        eqs&#39;8</span>
<span class="sd">                        b&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies pitch-classes in segment by 7:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.multiply(n=7)</span>
<span class="sd">                PitchClassSegment([10, 1.5, 6, 1, 1.5, 1])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.multiply(n=7)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        dqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        cs&#39;8</span>
<span class="sd">                        dqf&#39;8</span>
<span class="sd">                        cs&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.multiply(n=7)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([10, 1.5, 6, 1, 1.5, 1])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;M7(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    M</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        7</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        dqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        cs&#39;8</span>
<span class="sd">                        dqf&#39;8</span>
<span class="sd">                        cs&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies pitch-classes in segment by 11:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; segment = J.multiply(n=11)</span>
<span class="sd">                &gt;&gt;&gt; segment</span>
<span class="sd">                PitchClassSegment([2, 7.5, 6, 5, 7.5, 5])</span>

<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        gqs&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        gqs&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.multiply(n=11)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([2, 7.5, 6, 5, 7.5, 5])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;M11(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        d&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    M</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        11</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        gqs&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        gqs&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment, abjad.PitchClassSegment)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_expression</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">NumberedPitchClass</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.permute"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.permute">[docs]</a>    <span class="nd">@Signature</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">permute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Permutes segment by twelve-tone ``row``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; abjad.PitchClassSegment([-2, -1, 6, 7, -1, 7])</span>
<span class="sd">            PitchClassSegment([10, 11, 6, 7, 11, 7])</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment([-2, -1, 6, 7, -1, 7])</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  doctest:</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; segment.permute([10, 0, 2, 6, 8, 7, 5, 3, 1, 9, 4, 11])</span>
<span class="sd">            PitchClassSegment([4, 11, 5, 3, 11, 3])</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.permute([10, 0, 2, 6, 8, 7, 5, 3, 1, 9, 4, 11])</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example expression</span>

<span class="sd">            &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">            &gt;&gt;&gt; row = [10, 0, 2, 6, 8, 7, 5, 3, 1, 9, 4, 11]</span>
<span class="sd">            &gt;&gt;&gt; expression = expression.permute(row)</span>

<span class="sd">            &gt;&gt;&gt; expression([-2, -1, 6, 7, -1, 7])</span>
<span class="sd">            PitchClassSegment([4, 11, 5, 3, 11, 3])</span>

<span class="sd">            &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">            &#39;permute(J, row=[10, 0, 2, 6, 8, 7, 5, 3, 1, 9, 4, 11])&#39;</span>

<span class="sd">            &gt;&gt;&gt; segment = expression([-2, -1, 6, 7, -1, 7])</span>
<span class="sd">            &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  doctest:</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    ^ \markup {</span>
<span class="sd">                        \concat</span>
<span class="sd">                            {</span>
<span class="sd">                                permute(</span>
<span class="sd">                                \bold</span>
<span class="sd">                                    J</span>
<span class="sd">                                &quot;, row=[10, 0, 2, 6, 8, 7, 5, 3, 1, 9, 4, 11])&quot;</span>
<span class="sd">                            }</span>
<span class="sd">                        }</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        Returns new segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_expression</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">TwelveToneRow</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">row</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="n">row</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.retrograde"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.retrograde">[docs]</a>    <span class="nd">@Signature</span><span class="p">(</span><span class="n">is_operator</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;R&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">retrograde</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets retrograde of segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; J = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; J</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(J)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets retrograde of segment:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; segment = J.retrograde()</span>
<span class="sd">                &gt;&gt;&gt; segment</span>
<span class="sd">                PitchClassSegment([7, 10.5, 7, 6, 10.5, 10])</span>

<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.retrograde()</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([7, 10.5, 7, 6, 10.5, 10])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;R(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    R</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets retrograde of retrograde of segment:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; segment = J.retrograde().retrograde()</span>
<span class="sd">                &gt;&gt;&gt; segment</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">                &gt;&gt;&gt; segment == J</span>
<span class="sd">                True</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.retrograde()</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.retrograde()</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;R(R(J))&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    R</span>
<span class="sd">                                    \concat</span>
<span class="sd">                                        {</span>
<span class="sd">                                            R</span>
<span class="sd">                                            \bold</span>
<span class="sd">                                                J</span>
<span class="sd">                                        }</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">                &gt;&gt;&gt; segment == J</span>
<span class="sd">                True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment, abjad.PitchClassSegment)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_expression</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></div>

<div class="viewcode-block" id="PitchClassSegment.rotate"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.rotate">[docs]</a>    <span class="nd">@Signature</span><span class="p">(</span>
        <span class="n">is_operator</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">method_name_callback</span><span class="o">=</span><span class="s2">&quot;_make_rotate_method_name&quot;</span><span class="p">,</span>
        <span class="n">subscript</span><span class="o">=</span><span class="s2">&quot;n&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stravinsky</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rotates segment by index ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; J = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; J</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(J)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Rotates segment to the right:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.rotate(n=1)</span>
<span class="sd">                PitchClassSegment([7, 10, 10.5, 6, 7, 10.5])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.rotate(n=1)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.rotate(n=1)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([7, 10, 10.5, 6, 7, 10.5])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;r1(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    r</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        1</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Rotates segment to the left:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.rotate(n=-1)</span>
<span class="sd">                PitchClassSegment([10.5, 6, 7, 10.5, 7, 10])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.rotate(n=-1)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.rotate(n=-1)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([10.5, 6, 7, 10.5, 7, 10])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;r-1(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    r</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        -1</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Rotates segment by zero:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.rotate(n=0)</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.rotate(n=0)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(J)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">                &gt;&gt;&gt; segment == J</span>
<span class="sd">                True</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.rotate(n=0)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;r0(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    r</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        0</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">                &gt;&gt;&gt; segment == J</span>
<span class="sd">                True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Stravinsky-style rotation back-transposes segment to</span>
<span class="sd">            begin at zero:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.rotate(n=1, stravinsky=True)</span>
<span class="sd">                PitchClassSegment([0, 3, 3.5, 11, 0, 3.5])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.rotate(n=1, stravinsky=True)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        eqf&#39;8</span>
<span class="sd">                        b&#39;8</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        eqf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.rotate(n=1, stravinsky=True)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([0, 3, 3.5, 11, 0, 3.5])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;rs1(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    rs</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        1</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        ef&#39;8</span>
<span class="sd">                        eqf&#39;8</span>
<span class="sd">                        b&#39;8</span>
<span class="sd">                        c&#39;8</span>
<span class="sd">                        eqf&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment, abjad.PitchClassSegment)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_expression</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span>
        <span class="n">items</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_collection</span><span class="p">)</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stravinsky</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">-</span> <span class="nb">float</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
            <span class="n">segment</span> <span class="o">=</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span>
            <span class="n">segment</span> <span class="o">=</span> <span class="n">segment</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
            <span class="n">items</span> <span class="o">=</span> <span class="n">segment</span><span class="o">.</span><span class="n">items</span><span class="p">[:]</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.to_pitch_classes"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.to_pitch_classes">[docs]</a>    <span class="k">def</span> <span class="nf">to_pitch_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes to pitch-classes.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            To numbered pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.to_pitch_classes()</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            To named pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(</span>
<span class="sd">            ...     items=items,</span>
<span class="sd">            ...     item_class=abjad.NamedPitchClass,</span>
<span class="sd">            ...     )</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment(&quot;bf bqf fs g bqf g&quot;)</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.to_pitch_classes()</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment(&quot;bf bqf fs g bqf g&quot;)</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        Returns new segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.to_pitches"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.to_pitches">[docs]</a>    <span class="k">def</span> <span class="nf">to_pitches</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes to pitches.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            To numbered pitch segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.to_pitches()</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        bf&#39;1 * 1/8</span>
<span class="sd">                        bqf&#39;1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        bqf&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            To named pitch segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(</span>
<span class="sd">            ...     items=items,</span>
<span class="sd">            ...     item_class=abjad.NamedPitchClass,</span>
<span class="sd">            ...     )</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment(&quot;bf bqf fs g bqf g&quot;)</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.to_pitches()</span>
<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchSegment(&quot;bf&#39; bqf&#39; fs&#39; g&#39; bqf&#39; g&#39;&quot;)</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        bf&#39;1 * 1/8</span>
<span class="sd">                        bqf&#39;1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        bqf&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        Returns new segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">class_</span> <span class="o">=</span> <span class="n">Pitch</span>
        <span class="n">item_class</span> <span class="o">=</span> <span class="n">class_</span><span class="o">.</span><span class="n">_to_pitch_item_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PitchSegment</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.transpose"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.transpose">[docs]</a>    <span class="nd">@Signature</span><span class="p">(</span><span class="n">is_operator</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">subscript</span><span class="o">=</span><span class="s2">&quot;n&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">transpose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transposes segment by index ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1.5, 6, 7, -1.5, 7]</span>
<span class="sd">            &gt;&gt;&gt; J = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; J</span>
<span class="sd">            PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(J)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Transposes segment by positive index:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.transpose(n=13)</span>
<span class="sd">                PitchClassSegment([11, 11.5, 7, 8, 11.5, 8])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.transpose(n=13)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        b&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        af&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        af&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.transpose(n=13)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([11, 11.5, 7, 8, 11.5, 8])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;T13(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        b&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    T</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        13</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        af&#39;8</span>
<span class="sd">                        bqs&#39;8</span>
<span class="sd">                        af&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Transposes segment by negative index:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.transpose(n=-13)</span>
<span class="sd">                PitchClassSegment([9, 9.5, 5, 6, 9.5, 6])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.transpose(n=-13)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        a&#39;8</span>
<span class="sd">                        aqs&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        aqs&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.transpose(n=-13)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([9, 9.5, 5, 6, 9.5, 6])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;T-13(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        a&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    T</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        -13</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        aqs&#39;8</span>
<span class="sd">                        f&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        aqs&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Transposes segment by zero index:</span>

<span class="sd">            ..  container:: example</span>

<span class="sd">                &gt;&gt;&gt; J.transpose(n=0)</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; segment = J.transpose(n=0)</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">                &gt;&gt;&gt; segment == J</span>
<span class="sd">                True</span>

<span class="sd">            ..  container:: example expression</span>

<span class="sd">                &gt;&gt;&gt; expression = abjad.pitch_class_segment(name=&quot;J&quot;)</span>
<span class="sd">                &gt;&gt;&gt; expression = expression.transpose(n=0)</span>

<span class="sd">                &gt;&gt;&gt; expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                PitchClassSegment([10, 10.5, 6, 7, 10.5, 7])</span>

<span class="sd">                &gt;&gt;&gt; expression.get_string()</span>
<span class="sd">                &#39;T0(J)&#39;</span>

<span class="sd">                &gt;&gt;&gt; segment = expression([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">                &gt;&gt;&gt; markup = expression.get_markup()</span>
<span class="sd">                &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment, figure_name=markup)</span>
<span class="sd">                &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">                ..  docs::</span>

<span class="sd">                    &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                    \new Voice</span>
<span class="sd">                    {</span>
<span class="sd">                        bf&#39;8</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \concat</span>
<span class="sd">                                {</span>
<span class="sd">                                    T</span>
<span class="sd">                                    \sub</span>
<span class="sd">                                        0</span>
<span class="sd">                                    \bold</span>
<span class="sd">                                        J</span>
<span class="sd">                                }</span>
<span class="sd">                            }</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        fs&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        bqf&#39;8</span>
<span class="sd">                        g&#39;8</span>
<span class="sd">                        \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                        \override Score.BarLine.transparent = ##f</span>
<span class="sd">                    }</span>

<span class="sd">                &gt;&gt;&gt; segment == J</span>
<span class="sd">                True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(segment, abjad.PitchClassSegment)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expression</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_expression</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.voice_horizontally"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.voice_horizontally">[docs]</a>    <span class="k">def</span> <span class="nf">voice_horizontally</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_octave</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Voices segment with each pitch as close to the previous pitch as</span>
<span class="sd">        possible.</span>

<span class="sd">        ..  todo:: Should be implemented somewhere else.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Voices horizontally:</span>

<span class="sd">            &gt;&gt;&gt; items = &quot;c b d e f g e b a c&quot;</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; voiced_segment = segment.voice_horizontally()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(voiced_segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Score])</span>
<span class="sd">                \new Score</span>
<span class="sd">                \with</span>
<span class="sd">                {</span>
<span class="sd">                    \override BarLine.stencil = ##f</span>
<span class="sd">                    \override BarNumber.transparent = ##t</span>
<span class="sd">                    \override Rest.transparent = ##t</span>
<span class="sd">                    \override SpanBar.stencil = ##f</span>
<span class="sd">                    \override TimeSignature.stencil = ##f</span>
<span class="sd">                }</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \new PianoStaff</span>
<span class="sd">                    &lt;&lt;</span>
<span class="sd">                        \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                        {</span>
<span class="sd">                            \clef &quot;treble&quot;</span>
<span class="sd">                            c&#39;1 * 1/8</span>
<span class="sd">                            b1 * 1/8</span>
<span class="sd">                            d&#39;1 * 1/8</span>
<span class="sd">                            e&#39;1 * 1/8</span>
<span class="sd">                            f&#39;1 * 1/8</span>
<span class="sd">                            g&#39;1 * 1/8</span>
<span class="sd">                            e&#39;1 * 1/8</span>
<span class="sd">                            b1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            c&#39;1 * 1/8</span>
<span class="sd">                        }</span>
<span class="sd">                        \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                        {</span>
<span class="sd">                            \clef &quot;bass&quot;</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            a1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                        }</span>
<span class="sd">                    &gt;&gt;</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch segment:</span>

<span class="sd">            &gt;&gt;&gt; voiced_segment</span>
<span class="sd">            PitchSegment(&quot;c&#39; b d&#39; e&#39; f&#39; g&#39; e&#39; b a c&#39;&quot;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">initial_octave</span> <span class="o">=</span> <span class="n">Octave</span><span class="p">(</span><span class="n">initial_octave</span><span class="p">)</span>
        <span class="n">pitches</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">pitch_class</span> <span class="o">=</span> <span class="n">NamedPitchClass</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">pitch</span> <span class="o">=</span> <span class="n">NamedPitch</span><span class="p">((</span><span class="n">pitch_class</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">initial_octave</span><span class="p">))</span>
            <span class="n">pitches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">pitch_class</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">pitch_class</span> <span class="o">=</span> <span class="n">NamedPitchClass</span><span class="p">(</span><span class="n">pitch_class</span><span class="p">)</span>
                <span class="n">pitch</span> <span class="o">=</span> <span class="n">NamedPitch</span><span class="p">((</span><span class="n">pitch_class</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">initial_octave</span><span class="p">))</span>
                <span class="n">semitones</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">((</span><span class="n">pitch</span> <span class="o">-</span> <span class="n">pitches</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">semitones</span><span class="p">)</span>
                <span class="k">while</span> <span class="mi">6</span> <span class="o">&lt;</span> <span class="n">semitones</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">pitch</span> <span class="o">&lt;</span> <span class="n">pitches</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">pitch</span> <span class="o">+=</span> <span class="mi">12</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">pitch</span> <span class="o">-=</span> <span class="mi">12</span>
                    <span class="n">semitones</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">((</span><span class="n">pitch</span> <span class="o">-</span> <span class="n">pitches</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">semitones</span><span class="p">)</span>
                <span class="n">pitches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_class</span> <span class="ow">is</span> <span class="n">NamedPitchClass</span><span class="p">:</span>
            <span class="n">item_class</span> <span class="o">=</span> <span class="n">NamedPitch</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">item_class</span> <span class="o">=</span> <span class="n">NumberedPitch</span>
        <span class="k">return</span> <span class="n">PitchSegment</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">pitches</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchClassSegment.voice_vertically"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchClassSegment.voice_vertically">[docs]</a>    <span class="k">def</span> <span class="nf">voice_vertically</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_octave</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Voices segment with each pitch higher than the previous.</span>

<span class="sd">        ..  todo:: Should be implemented somewhere else.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Voices vertically:</span>

<span class="sd">            &gt;&gt;&gt; string = &quot;c&#39; ef&#39; g&#39; bf&#39; d&#39;&#39; f&#39;&#39; af&#39;&#39;&quot;</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(string)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; voiced_segment = segment.voice_vertically()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(voiced_segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Score])</span>
<span class="sd">                \new Score</span>
<span class="sd">                \with</span>
<span class="sd">                {</span>
<span class="sd">                    \override BarLine.stencil = ##f</span>
<span class="sd">                    \override BarNumber.transparent = ##t</span>
<span class="sd">                    \override Rest.transparent = ##t</span>
<span class="sd">                    \override SpanBar.stencil = ##f</span>
<span class="sd">                    \override TimeSignature.stencil = ##f</span>
<span class="sd">                }</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \new PianoStaff</span>
<span class="sd">                    &lt;&lt;</span>
<span class="sd">                        \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                        {</span>
<span class="sd">                            \clef &quot;treble&quot;</span>
<span class="sd">                            c&#39;1 * 1/8</span>
<span class="sd">                            ef&#39;1 * 1/8</span>
<span class="sd">                            g&#39;1 * 1/8</span>
<span class="sd">                            bf&#39;1 * 1/8</span>
<span class="sd">                            d&#39;&#39;1 * 1/8</span>
<span class="sd">                            f&#39;&#39;1 * 1/8</span>
<span class="sd">                            af&#39;&#39;1 * 1/8</span>
<span class="sd">                        }</span>
<span class="sd">                        \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                        {</span>
<span class="sd">                            \clef &quot;bass&quot;</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                            r1 * 1/8</span>
<span class="sd">                        }</span>
<span class="sd">                    &gt;&gt;</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch segment:</span>

<span class="sd">            &gt;&gt;&gt; voiced_segment</span>
<span class="sd">            PitchSegment(&quot;c&#39; ef&#39; g&#39; bf&#39; d&#39;&#39; f&#39;&#39; af&#39;&#39;&quot;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">initial_octave</span> <span class="o">=</span> <span class="n">Octave</span><span class="p">(</span><span class="n">initial_octave</span><span class="p">)</span>
        <span class="n">pitches</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">pitch_class</span> <span class="o">=</span> <span class="n">NamedPitchClass</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">pitch</span> <span class="o">=</span> <span class="n">NamedPitch</span><span class="p">((</span><span class="n">pitch_class</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">initial_octave</span><span class="p">))</span>
            <span class="n">pitches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">pitch_class</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">pitch_class</span> <span class="o">=</span> <span class="n">NamedPitchClass</span><span class="p">(</span><span class="n">pitch_class</span><span class="p">)</span>
                <span class="n">pitch</span> <span class="o">=</span> <span class="n">NamedPitch</span><span class="p">((</span><span class="n">pitch_class</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">initial_octave</span><span class="p">))</span>
                <span class="k">while</span> <span class="n">pitch</span> <span class="o">&lt;</span> <span class="n">pitches</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="n">pitch</span> <span class="o">+=</span> <span class="mi">12</span>
                <span class="n">pitches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_class</span> <span class="ow">is</span> <span class="n">NamedPitchClass</span><span class="p">:</span>
            <span class="n">item_class</span> <span class="o">=</span> <span class="n">NamedPitch</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">item_class</span> <span class="o">=</span> <span class="n">NumberedPitch</span>
        <span class="k">return</span> <span class="n">PitchSegment</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">pitches</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PitchSegment"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment">[docs]</a><span class="k">class</span> <span class="nc">PitchSegment</span><span class="p">(</span><span class="n">Segment</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pitch segment.</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Numbered pitch segment:</span>

<span class="sd">        &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">        &gt;&gt;&gt; str(segment)</span>
<span class="sd">        &#39;&lt;-2, -1.5, 6, 7, -1.5, 7&gt;&#39;</span>

<span class="sd">        &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">            \new PianoStaff</span>
<span class="sd">            &lt;&lt;</span>
<span class="sd">                \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                {</span>
<span class="sd">                    \clef &quot;treble&quot;</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    fs&#39;1 * 1/8</span>
<span class="sd">                    g&#39;1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    g&#39;1 * 1/8</span>
<span class="sd">                }</span>
<span class="sd">                \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                {</span>
<span class="sd">                    \clef &quot;bass&quot;</span>
<span class="sd">                    bf1 * 1/8</span>
<span class="sd">                    bqf1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    bqf1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                }</span>
<span class="sd">            &gt;&gt;</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Named pitch segment:</span>

<span class="sd">        &gt;&gt;&gt; segment = abjad.PitchSegment(&quot;bf, aqs fs&#39; g&#39; bqf g&#39;&quot;)</span>

<span class="sd">        &gt;&gt;&gt; str(segment)</span>
<span class="sd">        &quot;&lt;bf, aqs fs&#39; g&#39; bqf g&#39;&gt;&quot;</span>

<span class="sd">        &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">            \new PianoStaff</span>
<span class="sd">            &lt;&lt;</span>
<span class="sd">                \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                {</span>
<span class="sd">                    \clef &quot;treble&quot;</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    fs&#39;1 * 1/8</span>
<span class="sd">                    g&#39;1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    g&#39;1 * 1/8</span>
<span class="sd">                }</span>
<span class="sd">                \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                {</span>
<span class="sd">                    \clef &quot;bass&quot;</span>
<span class="sd">                    bf,1 * 1/8</span>
<span class="sd">                    aqs1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                    bqf1 * 1/8</span>
<span class="sd">                    r1 * 1/8</span>
<span class="sd">                }</span>
<span class="sd">            &gt;&gt;</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Built-in max() works:</span>

<span class="sd">        &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">        &gt;&gt;&gt; max(segment)</span>
<span class="sd">        NumberedPitch(7)</span>

<span class="sd">        Built-in min() works:</span>

<span class="sd">        &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">        &gt;&gt;&gt; min(segment)</span>
<span class="sd">        NumberedPitch(-2)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">items</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_class</span><span class="p">:</span>
            <span class="n">item_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_named_item_class</span>
        <span class="n">Segment</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="PitchSegment.__contains__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.__contains__">[docs]</a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true when pitch segment contains ``argument``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Numbered pitch segment:</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; abjad.NamedPitch(&#39;fs&#39;) in segment</span>
<span class="sd">            False</span>

<span class="sd">            &gt;&gt;&gt; 6 in segment</span>
<span class="sd">            True</span>

<span class="sd">            &gt;&gt;&gt; abjad.NamedPitch(&#39;f&#39;) in segment</span>
<span class="sd">            False</span>

<span class="sd">            &gt;&gt;&gt; 5 in segment</span>
<span class="sd">            False</span>

<span class="sd">        Returns true or false.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__contains__</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchSegment.__repr__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets interpreter representation of segment.</span>

<span class="sd">        Returns string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_class</span> <span class="ow">is</span> <span class="n">NamedPitch</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">contents</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="n">contents</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">contents</span><span class="si">}</span><span class="s2">)&quot;</span></div>

<div class="viewcode-block" id="PitchSegment.__str__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets pitch segment string.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;&lt;-2, -1.5, 6, 7, -1.5, 7&gt;&#39;</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment(&quot;bf, aqs fs&#39; g&#39; bqf g&#39;&quot;)</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &quot;&lt;bf, aqs fs&#39; g&#39; bqf g&#39;&gt;&quot;</span>

<span class="sd">        Returns string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="n">separator</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_class</span> <span class="ow">is</span> <span class="n">NumberedPitch</span><span class="p">:</span>
            <span class="n">separator</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="n">separator</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="si">}</span><span class="s2">&gt;&quot;</span></div>

    <span class="c1">### PRIVATE PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_named_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NamedPitch</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_numbered_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NumberedPitch</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_parent_item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Pitch</span>

    <span class="c1">### PRIVATE METHODS ###</span>

    <span class="k">def</span> <span class="nf">_is_equivalent_under_transposition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">argument</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">difference</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">argument</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">NamedPitch</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>
        <span class="n">new_pitches</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">difference</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">new_pitches</span> <span class="o">=</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">new_pitches</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">argument</span> <span class="o">==</span> <span class="n">new_pitches</span>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hertz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets Hertz of pitches in segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment(&#39;c e g b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; segment.hertz</span>
<span class="sd">            [130.81..., 164.81..., 195.99..., 246.94...]</span>

<span class="sd">        Returns list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">_</span><span class="o">.</span><span class="n">hertz</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">inflection_point_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets segment inflection point count.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment.inflection_point_count</span>
<span class="sd">            2</span>

<span class="sd">        Returns nonnegative integer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">local_minima</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">local_maxima</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">local_maxima</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets segment local maxima.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment.local_maxima</span>
<span class="sd">            [NumberedPitch(7)]</span>

<span class="sd">        Returns list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="mi">3</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">left</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">middle</span> <span class="ow">and</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="n">middle</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">middle</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">local_minima</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets segment local minima.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment.local_minima</span>
<span class="sd">            [NumberedPitch(-1.5)]</span>

<span class="sd">        Returns list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="mi">3</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">left</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">middle</span> <span class="o">&lt;</span> <span class="n">left</span> <span class="ow">and</span> <span class="n">middle</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">middle</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="PitchSegment.from_selection"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.from_selection">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_selection</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">selection</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PitchSegment&quot;</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes pitch segment from ``selection``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; staff_1 = abjad.Staff(&quot;c&#39;4 &lt;d&#39; fs&#39; a&#39;&gt;4 b2&quot;)</span>
<span class="sd">            &gt;&gt;&gt; staff_2 = abjad.Staff(&quot;c4. r8 g2&quot;)</span>
<span class="sd">            &gt;&gt;&gt; selection = abjad.select((staff_1, staff_2))</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment.from_selection(selection)</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &quot;&lt;c&#39; d&#39; fs&#39; a&#39; b c g&gt;&quot;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        c&#39;1 * 1/8</span>
<span class="sd">                        d&#39;1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        a&#39;1 * 1/8</span>
<span class="sd">                        b1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        c1 * 1/8</span>
<span class="sd">                        g1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="s2">&quot;_pitch_segment&quot;</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
        <span class="n">pitch_segment</span> <span class="o">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">_pitch_segment</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">class_</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">pitch_segment</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchSegment.has_duplicates"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.has_duplicates">[docs]</a>    <span class="k">def</span> <span class="nf">has_duplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true when segment has duplicates.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>
<span class="sd">            &gt;&gt;&gt; segment.has_duplicates()</span>
<span class="sd">            True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment(&quot;c d e f g a b&quot;)</span>
<span class="sd">            &gt;&gt;&gt; segment.has_duplicates()</span>
<span class="sd">            False</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchSegment.invert"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.invert">[docs]</a>    <span class="k">def</span> <span class="nf">invert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inverts pitch segment about ``axis``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.invert(axis=0)</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;&lt;2, 1.5, -6, -7, 1.5, -7&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        d&#39;1 * 1/8</span>
<span class="sd">                        dqf&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        dqf&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs1 * 1/8</span>
<span class="sd">                        f1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        f1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        Returns new pitch segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="o">.</span><span class="n">invert</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchSegment.multiply"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.multiply">[docs]</a>    <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiplies pitch segment by index ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.multiply(n=3)</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;&lt;-6, -4.5, 18, 21, -4.5, 21&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;&#39;1 * 1/8</span>
<span class="sd">                        a&#39;&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        a&#39;&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        fs1 * 1/8</span>
<span class="sd">                        gqs1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        gqs1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        Returns new pitch segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchSegment.retrograde"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.retrograde">[docs]</a>    <span class="k">def</span> <span class="nf">retrograde</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrograde of pitch segment.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.retrograde()</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;&lt;7, -1.5, 7, 6, -1.5, -2&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        Returns new pitch segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></div>

<div class="viewcode-block" id="PitchSegment.rotate"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.rotate">[docs]</a>    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stravinsky</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rotates pitch segment by index ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.rotate(n=1)</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;&lt;7, -2, -1.5, 6, 7, -1.5&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        Returns new pitch segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rotated_pitches</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_collection</span><span class="p">)</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
        <span class="n">new_segment</span> <span class="o">=</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">rotated_pitches</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stravinsky</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">new_segment</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">interval</span> <span class="o">=</span> <span class="n">new_segment</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">new_segment</span> <span class="o">=</span> <span class="n">new_segment</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_segment</span></div>

<div class="viewcode-block" id="PitchSegment.to_pitch_classes"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.to_pitch_classes">[docs]</a>    <span class="k">def</span> <span class="nf">to_pitch_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes to pitch-classes.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            To numbered pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.to_pitch_classes()</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;PC&lt;10, 10.5, 6, 7, 10.5, 7&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            To named pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment(&quot;bf, aqs fs&#39; g&#39; bqf g&#39;&quot;)</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf,1 * 1/8</span>
<span class="sd">                        aqs1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.to_pitch_classes()</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;PC&lt;bf aqs fs g bqf g&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    aqs&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    bqf&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        Returns new segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">class_</span> <span class="o">=</span> <span class="n">Pitch</span>
        <span class="n">item_class</span> <span class="o">=</span> <span class="n">class_</span><span class="o">.</span><span class="n">_to_pitch_class_item_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_class</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PitchClassSegment</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchSegment.to_pitches"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.to_pitches">[docs]</a>    <span class="k">def</span> <span class="nf">to_pitches</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes to pitches.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            To numbered pitch segment:</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.to_pitches()</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;&lt;-2, -1.5, 6, 7, -1.5, 7&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            To named pitch segment:</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment(&quot;bf, aqs fs&#39; g&#39; bqf g&#39;&quot;)</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf,1 * 1/8</span>
<span class="sd">                        aqs1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.to_pitches()</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &quot;&lt;bf, aqs fs&#39; g&#39; bqf g&#39;&gt;&quot;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf,1 * 1/8</span>
<span class="sd">                        aqs1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        Returns new segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="PitchSegment.transpose"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.PitchSegment.transpose">[docs]</a>    <span class="k">def</span> <span class="nf">transpose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transposes pitch segment by index ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchSegment([-2, -1.5, 6, 7, -1.5, 7])</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        fs&#39;1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        g&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        bf1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        bqf1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">            &gt;&gt;&gt; segment = segment.transpose(n=11)</span>

<span class="sd">            &gt;&gt;&gt; str(segment)</span>
<span class="sd">            &#39;&lt;9, 9.5, 17, 18, 9.5, 18&gt;&#39;</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.StaffGroup])</span>
<span class="sd">                \new PianoStaff</span>
<span class="sd">                &lt;&lt;</span>
<span class="sd">                    \context Staff = &quot;Treble_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;treble&quot;</span>
<span class="sd">                        a&#39;1 * 1/8</span>
<span class="sd">                        aqs&#39;1 * 1/8</span>
<span class="sd">                        f&#39;&#39;1 * 1/8</span>
<span class="sd">                        fs&#39;&#39;1 * 1/8</span>
<span class="sd">                        aqs&#39;1 * 1/8</span>
<span class="sd">                        fs&#39;&#39;1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                    \context Staff = &quot;Bass_Staff&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                        r1 * 1/8</span>
<span class="sd">                    }</span>
<span class="sd">                &gt;&gt;</span>

<span class="sd">        Returns new pitch segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TwelveToneRow"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow">[docs]</a><span class="k">class</span> <span class="nc">TwelveToneRow</span><span class="p">(</span><span class="n">PitchClassSegment</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Twelve-tone row.</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Initializes from defaults:</span>

<span class="sd">        &gt;&gt;&gt; row = abjad.TwelveToneRow()</span>
<span class="sd">        &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Initializes from integers:</span>

<span class="sd">        &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">        &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">        &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        Interpreter representation:</span>

<span class="sd">        &gt;&gt;&gt; row</span>
<span class="sd">        TwelveToneRow([1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0])</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">)):</span>
        <span class="k">assert</span> <span class="n">items</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">PitchClassSegment</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">NumberedPitchClass</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_pitch_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="TwelveToneRow.__call__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch_classes</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls row on ``pitch_classes``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Permutes pitch-classes:</span>

<span class="sd">            &gt;&gt;&gt; row([abjad.NumberedPitchClass(2)])</span>
<span class="sd">            [NumberedPitchClass(9)]</span>

<span class="sd">            &gt;&gt;&gt; row([abjad.NumberedPitchClass(3)])</span>
<span class="sd">            [NumberedPitchClass(3)]</span>

<span class="sd">            &gt;&gt;&gt; row([abjad.NumberedPitchClass(4)])</span>
<span class="sd">            [NumberedPitchClass(6)]</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Permutes pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; items = [-2, -1, 6, 7, -1, 7]</span>
<span class="sd">            &gt;&gt;&gt; segment = abjad.PitchClassSegment(items=items)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment_ = row(segment)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment_)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Permutes row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]</span>
<span class="sd">            &gt;&gt;&gt; row_2 = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row_2)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; row_3 = row(row_2)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row_3)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Permutes row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</span>
<span class="sd">            &gt;&gt;&gt; row_2 = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row_2)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; row_3 = row(row_2)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row_3)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Permutes row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [10, 0, 2, 6, 8, 7, 5, 3, 1, 9, 4, 11]</span>
<span class="sd">            &gt;&gt;&gt; row_2 = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row_2)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; row_3 = row(row_2)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row_3)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        Returns permuted pitch-classes in object of type ``pitch_classes``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_pitch_classes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pitch_class</span> <span class="ow">in</span> <span class="n">pitch_classes</span><span class="p">:</span>
            <span class="n">pitch_class</span> <span class="o">=</span> <span class="n">NumberedPitchClass</span><span class="p">(</span><span class="n">pitch_class</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">pitch_class</span><span class="o">.</span><span class="n">number</span>
            <span class="n">new_pitch_class</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">new_pitch_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_pitch_class</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">pitch_classes</span><span class="p">)(</span><span class="n">new_pitch_classes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="TwelveToneRow.__getitem__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.__getitem__">[docs]</a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets item or slice identified by ``argument``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets first hexachord:</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row[:6])</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>
<span class="sd">            PitchClassSegment([0, 1, 11, 9, 3, 6])</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets second hexachord:</span>

<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row[-6:])</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; row[-6:]</span>
<span class="sd">            PitchClassSegment([5, 4, 10, 2, 8, 0])</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collection</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PitchClassSegment</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">item</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">NumberedPitchClass</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">item</span></div>

<div class="viewcode-block" id="TwelveToneRow.__mul__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.__mul__">[docs]</a>    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiplies row by ``argument``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies row:</span>

<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment = 2 * row</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment = 2 * row</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>


<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment([1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0, 1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0])</span>

<span class="sd">        Returns pitch-class segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PitchClassSegment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">*</span> <span class="n">argument</span></div>

<div class="viewcode-block" id="TwelveToneRow.__rmul__"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.__rmul__">[docs]</a>    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiplies ``argument`` by row.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies integer by row:</span>

<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment = row * 2</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies integer by row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; segment = row * 2</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(segment)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns pitch-class segment:</span>

<span class="sd">            &gt;&gt;&gt; segment</span>
<span class="sd">            PitchClassSegment([1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0, 1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0])</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PitchClassSegment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">*</span> <span class="n">argument</span></div>

    <span class="c1">### PRIVATE PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_contents_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">pc</span><span class="p">))</span> <span class="k">for</span> <span class="n">pc</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>

    <span class="c1">### PRIVATE METHODS ###</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validate_pitch_classes</span><span class="p">(</span><span class="n">pitch_classes</span><span class="p">):</span>
        <span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="n">pc</span><span class="o">.</span><span class="n">number</span> <span class="k">for</span> <span class="n">pc</span> <span class="ow">in</span> <span class="n">pitch_classes</span><span class="p">]</span>
        <span class="n">numbers</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">numbers</span> <span class="o">==</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">)):</span>
            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;must contain all twelve pitch-classes: </span><span class="si">{</span><span class="n">pitch_classes</span><span class="si">!r}</span><span class="s2">.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets item class of row.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets item class:</span>

<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; row.item_class.__name__</span>
<span class="sd">            &#39;NumberedPitchClass&#39;</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets item class:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; row.item_class.__name__</span>
<span class="sd">            &#39;NumberedPitchClass&#39;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">item_class</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets items in row.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets items in row:</span>

<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>


<span class="sd">            &gt;&gt;&gt; for item in row.items:</span>
<span class="sd">            ...     item</span>
<span class="sd">            ...</span>
<span class="sd">            NumberedPitchClass(0)</span>
<span class="sd">            NumberedPitchClass(1)</span>
<span class="sd">            NumberedPitchClass(2)</span>
<span class="sd">            NumberedPitchClass(3)</span>
<span class="sd">            NumberedPitchClass(4)</span>
<span class="sd">            NumberedPitchClass(5)</span>
<span class="sd">            NumberedPitchClass(6)</span>
<span class="sd">            NumberedPitchClass(7)</span>
<span class="sd">            NumberedPitchClass(8)</span>
<span class="sd">            NumberedPitchClass(9)</span>
<span class="sd">            NumberedPitchClass(10)</span>
<span class="sd">            NumberedPitchClass(11)</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets items in row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; for item in row.items:</span>
<span class="sd">            ...     item</span>
<span class="sd">            ...</span>
<span class="sd">            NumberedPitchClass(1)</span>
<span class="sd">            NumberedPitchClass(11)</span>
<span class="sd">            NumberedPitchClass(9)</span>
<span class="sd">            NumberedPitchClass(3)</span>
<span class="sd">            NumberedPitchClass(6)</span>
<span class="sd">            NumberedPitchClass(7)</span>
<span class="sd">            NumberedPitchClass(5)</span>
<span class="sd">            NumberedPitchClass(4)</span>
<span class="sd">            NumberedPitchClass(10)</span>
<span class="sd">            NumberedPitchClass(2)</span>
<span class="sd">            NumberedPitchClass(8)</span>
<span class="sd">            NumberedPitchClass(0)</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns list:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(row.items, list)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">items</span>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="TwelveToneRow.count"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.count">[docs]</a>    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts ``item`` in row.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Counts pitch-class 11 in row:</span>

<span class="sd">            &gt;&gt;&gt; row.count(11)</span>
<span class="sd">            1</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Counts pitch-class 9 in row:</span>

<span class="sd">            &gt;&gt;&gt; row.count(9)</span>
<span class="sd">            1</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Counts string in row:</span>

<span class="sd">            &gt;&gt;&gt; row.count(&#39;text&#39;)</span>
<span class="sd">            0</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns nonnegative integer equal to 0 or 1:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(row.count(&#39;text&#39;), int)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="TwelveToneRow.from_selection"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.from_selection">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_selection</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">selection</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes row from ``selection``.</span>

<span class="sd">        Not yet implemented.</span>

<span class="sd">        Returns twelve-tone row.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>

<div class="viewcode-block" id="TwelveToneRow.has_duplicates"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.has_duplicates">[docs]</a>    <span class="k">def</span> <span class="nf">has_duplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is false for all rows.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Is false:</span>

<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; row.has_duplicates()</span>
<span class="sd">            False</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Is false:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            &gt;&gt;&gt; row.has_duplicates()</span>
<span class="sd">            False</span>

<span class="sd">        Twelve-tone rows have no duplicates.</span>

<span class="sd">        Returns false.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">has_duplicates</span><span class="p">()</span></div>

<div class="viewcode-block" id="TwelveToneRow.index"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.index">[docs]</a>    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets index of ``item`` in row.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets index of pitch-class 11:</span>

<span class="sd">            &gt;&gt;&gt; row.index(11)</span>
<span class="sd">            1</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets index of pitch-class 9:</span>

<span class="sd">            &gt;&gt;&gt; row.index(9)</span>
<span class="sd">            2</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns nonnegative integer less than 12:</span>

<span class="sd">            &gt;&gt;&gt; isinstance(row.index(9), int)</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="TwelveToneRow.invert"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.invert">[docs]</a>    <span class="k">def</span> <span class="nf">invert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inverts row about optional ``axis``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Inverts row about first pitch-class when ``axis`` is none:</span>

<span class="sd">            &gt;&gt;&gt; inversion = row.invert()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(inversion)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            First pitch-classes are equal:</span>

<span class="sd">            &gt;&gt;&gt; row[0] == inversion[0]</span>
<span class="sd">            True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Inverts row about pitch-class 1:</span>

<span class="sd">            &gt;&gt;&gt; inversion = row.invert(axis=1)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(inversion)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            Same result as above.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Inverts row about pitch-class 0:</span>

<span class="sd">            &gt;&gt;&gt; inversion = row.invert(axis=0)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(inversion)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Inverts row about pitch-class 5:</span>

<span class="sd">            &gt;&gt;&gt; inversion = row.invert(axis=5)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(inversion)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns twelve-tone row:</span>

<span class="sd">            &gt;&gt;&gt; inversion</span>
<span class="sd">            TwelveToneRow([9, 11, 1, 7, 4, 3, 5, 6, 0, 8, 2, 10])</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">pc</span><span class="o">.</span><span class="n">invert</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span> <span class="k">for</span> <span class="n">pc</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span></div>

<div class="viewcode-block" id="TwelveToneRow.multiply"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.multiply">[docs]</a>    <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiplies pitch-classes in row by ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies pitch-classes in row by 5:</span>

<span class="sd">            &gt;&gt;&gt; multiplication = row.multiply(n=5)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(multiplication)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies pitch-classes in row by 7:</span>

<span class="sd">            &gt;&gt;&gt; multiplication = row.multiply(n=7)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(multiplication)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Multiplies pitch-classes in row by 1:</span>

<span class="sd">            &gt;&gt;&gt; multiplication = row.multiply(n=1)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(multiplication)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns twelve-tone row:</span>

<span class="sd">            &gt;&gt;&gt; multiplication</span>
<span class="sd">            TwelveToneRow([1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0])</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span></div>

<div class="viewcode-block" id="TwelveToneRow.retrograde"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.retrograde">[docs]</a>    <span class="k">def</span> <span class="nf">retrograde</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets retrograde of row.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets retrograde of row:</span>

<span class="sd">            &gt;&gt;&gt; retrograde = row.retrograde()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(retrograde)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Gets retrograde of retrograde of row:</span>

<span class="sd">            &gt;&gt;&gt; retrograde = row.retrograde().retrograde()</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(retrograde)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; retrograde == row</span>
<span class="sd">            True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns row:</span>

<span class="sd">            &gt;&gt;&gt; retrograde</span>
<span class="sd">            TwelveToneRow([1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0])</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">retrograde</span><span class="p">()</span></div>

<div class="viewcode-block" id="TwelveToneRow.rotate"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.rotate">[docs]</a>    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stravinsky</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rotates row by index ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Rotates row to the right:</span>

<span class="sd">            &gt;&gt;&gt; rotation = row.rotate(n=1)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(rotation)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Rotates row to the left:</span>

<span class="sd">            &gt;&gt;&gt; rotation = row.rotate(n=-1)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(rotation)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Rotates row by zero:</span>

<span class="sd">            &gt;&gt;&gt; rotation = row.rotate(n=0)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(rotation)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; rotation == row</span>
<span class="sd">            True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Stravinsky-style rotation back-transposes row to zero:</span>

<span class="sd">            &gt;&gt;&gt; rotation = row.rotate(n=-1, stravinsky=True)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(rotation)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns row:</span>

<span class="sd">            &gt;&gt;&gt; rotation</span>
<span class="sd">            TwelveToneRow([0, 10, 4, 7, 8, 6, 5, 11, 3, 9, 1, 2])</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">stravinsky</span><span class="o">=</span><span class="n">stravinsky</span><span class="p">)</span></div>

<div class="viewcode-block" id="TwelveToneRow.transpose"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.TwelveToneRow.transpose">[docs]</a>    <span class="k">def</span> <span class="nf">transpose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transposes row by index ``n``.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Example row:</span>

<span class="sd">            &gt;&gt;&gt; numbers = [1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0]</span>
<span class="sd">            &gt;&gt;&gt; row = abjad.TwelveToneRow(numbers)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(row)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Transposes row by positive index:</span>

<span class="sd">            &gt;&gt;&gt; transposition = row.transpose(n=13)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(transposition)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Transposes row by negative index:</span>

<span class="sd">            &gt;&gt;&gt; transposition = row.transpose(n=-13)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(transposition)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Transposes row by zero index:</span>

<span class="sd">            &gt;&gt;&gt; transposition = row.transpose(n=0)</span>
<span class="sd">            &gt;&gt;&gt; lilypond_file = abjad.illustrate(transposition)</span>
<span class="sd">            &gt;&gt;&gt; abjad.show(lilypond_file) # doctest: +SKIP</span>

<span class="sd">            ..  docs::</span>

<span class="sd">                &gt;&gt;&gt; abjad.f(lilypond_file[abjad.Voice])</span>
<span class="sd">                \new Voice</span>
<span class="sd">                {</span>
<span class="sd">                    cs&#39;8</span>
<span class="sd">                    b&#39;8</span>
<span class="sd">                    a&#39;8</span>
<span class="sd">                    ef&#39;8</span>
<span class="sd">                    fs&#39;8</span>
<span class="sd">                    g&#39;8</span>
<span class="sd">                    f&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                    bf&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    af&#39;8</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \bar &quot;|.&quot; %! SCORE_1</span>
<span class="sd">                    \override Score.BarLine.transparent = ##f</span>
<span class="sd">                }</span>

<span class="sd">            &gt;&gt;&gt; transposition == row</span>
<span class="sd">            True</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Returns row:</span>

<span class="sd">            &gt;&gt;&gt; transposition</span>
<span class="sd">            TwelveToneRow([1, 11, 9, 3, 6, 7, 5, 4, 10, 2, 8, 0])</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span></div></div>


<span class="c1">### FUNCTIONS ###</span>


<div class="viewcode-block" id="pitch_class_segment"><a class="viewcode-back" href="../../../api/abjad/pitch/segments.html#abjad.pitch.segments.pitch_class_segment">[docs]</a><span class="k">def</span> <span class="nf">pitch_class_segment</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">keywords</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Makes pitch-class segment or pitch-class segment expression.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">items</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">PitchClassSegment</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">,</span> <span class="n">item_class</span><span class="o">=</span><span class="n">item_class</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">keywords</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">expression</span> <span class="o">=</span> <span class="n">Expression</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">proxy_class</span><span class="o">=</span><span class="n">PitchClassSegment</span><span class="p">)</span>
    <span class="n">callback</span> <span class="o">=</span> <span class="n">Expression</span><span class="o">.</span><span class="n">_make_initializer_callback</span><span class="p">(</span>
        <span class="n">PitchClassSegment</span><span class="p">,</span> <span class="n">string_template</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">keywords</span>
    <span class="p">)</span>
    <span class="n">expression</span> <span class="o">=</span> <span class="n">expression</span><span class="o">.</span><span class="n">append_callback</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">expression</span></div>
</pre></div>

    </div>
    
    </div>
    

<footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

</div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>