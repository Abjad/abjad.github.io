<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>abjad.parsers.parser &mdash; Abjad 3.18 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/abjad.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/uqbar.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="canonical" href="https://abjad.github.io_modules/abjad/parsers/parser.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script defer="defer" src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/ga.js"></script>
        <script defer="defer" src="../../../_static/lightbox2/js/lightbox.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #cc8844" >


    <a href="../../../index.html" class="icon icon-home" alt="Documentation
    Home"> Abjad 3.18



    <img src="../../../_static/abjad-logo.png" class="logo" alt="Logo"/>

</a>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">First steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../first_steps/audience.html">Audience</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../first_steps/macos.html">macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../first_steps/linux.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../first_steps/windows.html">Windows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/containers-basic-operations-on.html">Containers, basic operations on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/containers-retrieving-by-name.html">Containers, retrieving by name</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/containers-time-interpretation-of.html">Containers, time interpretation of</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/contexts-lilypond-type-of.html">Contexts, LilyPond type of</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/indicators.html">Indicators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/lilypond-files-preamble-of.html">LilyPond files, preamble of</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/lilypond-format-of-abjad-objects.html">LilyPond format, of Abjad objects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/corpus-selection.html">Corpus, figure selection from</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/design-by-dyads.html">Design, by dyads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/enumeration.html">Enumeration, of rhythmic cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/magic-square-from-twelve-tone-row.html">Magic square, from twelve-tone row</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/scales-diatonic.html">Scales, diatonic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/score-fragment-piano.html">Score fragment, piano</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">All classes &amp; functions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">Abjad API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/best-practices.html">Best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/developer-installation.html">Developer installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/lilypond-context-concatenation.html">LilyPond context concatenation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/publications.html">Publications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Score gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery-2020.html">2016-present</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery-2015.html">2015-11</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery-2010.html">2010-00</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #cc8844" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Abjad</a>
      </nav>

      <div class="wy-nav-content">

<div class="rst-content">

    


    <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    <div itemprop="articleBody">
    
  <h1>Source code for abjad.parsers.parser</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">fractions</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">typing</span>

<span class="kn">import</span> <span class="nn">ply</span>
<span class="kn">from</span> <span class="nn">ply</span> <span class="kn">import</span> <span class="n">lex</span>
<span class="kn">from</span> <span class="nn">ply.yacc</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># type: ignore</span>
    <span class="n">YaccProduction</span><span class="p">,</span>
    <span class="n">YaccSymbol</span><span class="p">,</span>
    <span class="n">error_count</span><span class="p">,</span>
    <span class="n">format_result</span><span class="p">,</span>
    <span class="n">format_stack_entry</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">_indentlib</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">bind</span> <span class="k">as</span> <span class="n">_bind</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">duration</span> <span class="k">as</span> <span class="n">_duration</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">dynamic</span> <span class="k">as</span> <span class="n">_dynamic</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">exceptions</span> <span class="k">as</span> <span class="n">_exceptions</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">indicators</span> <span class="k">as</span> <span class="n">_indicators</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">lilypondfile</span> <span class="k">as</span> <span class="n">_lilypondfile</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">lyconst</span> <span class="k">as</span> <span class="n">_lyconst</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">lyenv</span> <span class="k">as</span> <span class="n">_lyenv</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">pitch</span> <span class="k">as</span> <span class="n">_pitch</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">score</span> <span class="k">as</span> <span class="n">_score</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">string</span> <span class="k">as</span> <span class="n">_string</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">tag</span> <span class="k">as</span> <span class="n">_tag</span>
<span class="kn">from</span> <span class="nn">.base</span> <span class="kn">import</span> <span class="n">Parser</span>
<span class="kn">from</span> <span class="nn">.scheme</span> <span class="kn">import</span> <span class="n">SchemeParser</span>


<div class="viewcode-block" id="LilyPondDuration"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondDuration">[docs]</a><span class="k">class</span> <span class="nc">LilyPondDuration</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model of a duration in LilyPond.</span>

<span class="sd">    Not composer-safe.</span>

<span class="sd">    Used internally by LilyPondParser.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;duration&quot;</span><span class="p">,</span> <span class="s2">&quot;multiplier&quot;</span><span class="p">)</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">multiplier</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">duration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">=</span> <span class="n">multiplier</span></div>


<span class="n">_lyenv</span><span class="o">.</span><span class="n">current_module</span><span class="p">[</span><span class="s2">&quot;breve&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span><span class="n">_duration</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">_lyenv</span><span class="o">.</span><span class="n">current_module</span><span class="p">[</span><span class="s2">&quot;longa&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span><span class="n">_duration</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">_lyenv</span><span class="o">.</span><span class="n">current_module</span><span class="p">[</span><span class="s2">&quot;maxima&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span><span class="n">_duration</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>


<div class="viewcode-block" id="MarkupCommand"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.MarkupCommand">[docs]</a><span class="k">class</span> <span class="nc">MarkupCommand</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    LilyPond markup command.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;arguments&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">arguments</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>

<div class="viewcode-block" id="MarkupCommand.__eq__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.MarkupCommand.__eq__">[docs]</a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is true when ``argument`` is a markup command with name and arguments equal to</span>
<span class="sd">        those of this markup command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># defined explicitly because of initializer *arguments</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">argument</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">==</span> <span class="n">argument</span><span class="o">.</span><span class="n">arguments</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="MarkupCommand.__hash__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.MarkupCommand.__hash__">[docs]</a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Hashes markup command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></div>

<div class="viewcode-block" id="MarkupCommand.__repr__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.MarkupCommand.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets repr.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2">, arguments=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="si">!r}</span><span class="s2">)&quot;</span>
        <span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_lilypond_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">recurse</span><span class="p">(</span><span class="n">iterable</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">):</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">recurse</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">MarkupCommand</span><span class="p">):</span>
                    <span class="n">string</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">_get_lilypond_format</span><span class="p">()</span>
                    <span class="n">pieces</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">item</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;#&quot;&#39;</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">splitlines</span><span class="p">())</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">indent</span><span class="si">}{</span><span class="n">item</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span><span class="p">]</span>

        <span class="n">indent</span> <span class="o">=</span> <span class="n">_indentlib</span><span class="o">.</span><span class="n">INDENT</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span><span class="sa">rf</span><span class="s2">&quot;\</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="n">parts</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">recurse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">))</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">string</span></div>


<div class="viewcode-block" id="Music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.Music">[docs]</a><span class="k">class</span> <span class="nc">Music</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abjad model of the LilyPond AST music node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;music&quot;</span><span class="p">,)</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">music</span> <span class="o">=</span> <span class="n">music</span></div>


<div class="viewcode-block" id="ContextSpeccedMusic"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.ContextSpeccedMusic">[docs]</a><span class="k">class</span> <span class="nc">ContextSpeccedMusic</span><span class="p">(</span><span class="n">Music</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abjad model of the LilyPond AST context-specced music node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="c1"># &quot;context&quot;,</span>
        <span class="s2">&quot;lilypond_type&quot;</span><span class="p">,</span>
        <span class="s2">&quot;music&quot;</span><span class="p">,</span>
        <span class="s2">&quot;optional_id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;optional_context_mod&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">lilypond_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">optional_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">optional_context_mod</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">music</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">lilypond_type</span> <span class="o">=</span> <span class="n">lilypond_type</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="n">music</span> <span class="o">=</span> <span class="n">music</span> <span class="ow">or</span> <span class="n">SequentialMusic</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">Music</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lilypond_type</span> <span class="o">=</span> <span class="n">lilypond_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">optional_id</span> <span class="o">=</span> <span class="n">optional_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">optional_context_mod</span> <span class="o">=</span> <span class="n">optional_context_mod</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">music</span> <span class="o">=</span> <span class="n">music</span>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="ContextSpeccedMusic.construct"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.ContextSpeccedMusic.construct">[docs]</a>    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs context.</span>

<span class="sd">        Returns context.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lilypond_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">known_contexts</span><span class="p">:</span>
            <span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">known_contexts</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">lilypond_type</span><span class="p">]([])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;context type not supported: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">lilypond_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">context</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_id</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_context_mod</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_context_mod</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="c1"># TODO: implement context modifications on contexts</span>
            <span class="k">pass</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">music</span><span class="p">,</span> <span class="n">SimultaneousMusic</span><span class="p">):</span>
            <span class="n">context</span><span class="o">.</span><span class="n">simultaneous</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># context.extend(music.construct())</span>
        <span class="n">context</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">construct</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">context</span></div>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">known_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Known contexts.</span>

<span class="sd">        Returns dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;ChoirStaff&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">StaffGroup</span><span class="p">,</span>
            <span class="s2">&quot;GrandStaff&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">StaffGroup</span><span class="p">,</span>
            <span class="s2">&quot;PianoStaff&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">StaffGroup</span><span class="p">,</span>
            <span class="s2">&quot;Score&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">Score</span><span class="p">,</span>
            <span class="s2">&quot;Staff&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">Staff</span><span class="p">,</span>
            <span class="s2">&quot;StaffGroup&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">StaffGroup</span><span class="p">,</span>
            <span class="s2">&quot;Voice&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">Voice</span><span class="p">,</span>
        <span class="p">}</span></div>


<div class="viewcode-block" id="GuileProxy"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy">[docs]</a><span class="k">class</span> <span class="nc">GuileProxy</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Emulates LilyPond music functions.</span>

<span class="sd">    Used internally by LilyPondParser.</span>

<span class="sd">    Not composer-safe.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="n">_function_name_mapping</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="GuileProxy.__call__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_name</span><span class="p">,</span> <span class="n">arguments</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls Guile proxy on ``function_name`` with ``arguments``.</span>

<span class="sd">        Returns function output.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:])(</span><span class="o">*</span><span class="n">arguments</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">elif</span> <span class="n">function_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function_name_mapping</span><span class="p">:</span>
            <span class="n">function_name</span> <span class="o">=</span> <span class="n">function_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_name</span><span class="p">)(</span><span class="o">*</span><span class="n">arguments</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;LilyPondParser can not emulate music function: </span><span class="si">{</span><span class="n">function_name</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></div>

    <span class="c1">### FUNCTION EMULATORS ###</span>

<div class="viewcode-block" id="GuileProxy.acciaccatura"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.acciaccatura">[docs]</a>    <span class="k">def</span> <span class="nf">acciaccatura</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\acciaccatura`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">grace</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">BeforeGraceContainer</span><span class="p">(</span>
            <span class="n">music</span><span class="p">[:],</span> <span class="n">command</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\acciaccatura&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">grace</span></div>

    <span class="c1"># afterGrace?</span>

<div class="viewcode-block" id="GuileProxy.appoggiatura"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.appoggiatura">[docs]</a>    <span class="k">def</span> <span class="nf">appoggiatura</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\appoggiatura`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">grace</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">BeforeGraceContainer</span><span class="p">(</span>
            <span class="n">music</span><span class="p">[:],</span> <span class="n">command</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\appoggiatura&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">grace</span></div>

<div class="viewcode-block" id="GuileProxy.bar"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.bar">[docs]</a>    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\bar`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">BarLine</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.breathe"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.breathe">[docs]</a>    <span class="k">def</span> <span class="nf">breathe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\breathe`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">LilyPondLiteral</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\breathe&quot;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.clef"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.clef">[docs]</a>    <span class="k">def</span> <span class="nf">clef</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\clef`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Clef</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.grace"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.grace">[docs]</a>    <span class="k">def</span> <span class="nf">grace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\grace`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Container</span><span class="p">)</span>
        <span class="n">leaves</span> <span class="o">=</span> <span class="n">music</span><span class="p">[:]</span>
        <span class="n">music</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">_score</span><span class="o">.</span><span class="n">BeforeGraceContainer</span><span class="p">(</span><span class="n">leaves</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.key"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.key">[docs]</a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notename_pitch</span><span class="p">,</span> <span class="n">number_list</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\key`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">number_list</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">number_list</span> <span class="o">=</span> <span class="s2">&quot;major&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">KeySignature</span><span class="p">(</span>
            <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitchClass</span><span class="p">(</span><span class="n">notename_pitch</span><span class="p">),</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Mode</span><span class="p">(</span><span class="n">number_list</span><span class="p">)</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.language"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.language">[docs]</a>    <span class="k">def</span> <span class="nf">language</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\language`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">string</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_language_pitch_names</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_pitch_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_language_pitch_names</span><span class="p">[</span><span class="n">string</span><span class="p">]</span>
        <span class="c1"># try reparsing the next note name, if a note name immediately follows</span>
        <span class="n">lookahead</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span>
        <span class="k">if</span> <span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;STRING&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookahead</span><span class="o">.</span><span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_pitch_names</span><span class="p">:</span>
                <span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;NOTENAME_PITCH&quot;</span>
                <span class="n">lookahead</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitchClass</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_pitch_names</span><span class="p">[</span><span class="n">lookahead</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.makeClusters"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.makeClusters">[docs]</a>    <span class="k">def</span> <span class="nf">makeClusters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\makeClusters`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_score</span><span class="o">.</span><span class="n">Cluster</span><span class="p">(</span><span class="n">music</span><span class="p">[:],</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.mark"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.mark">[docs]</a>    <span class="k">def</span> <span class="nf">mark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\mark`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;\default&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">LilyPondLiteral</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\mark </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">label</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.oneVoice"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.oneVoice">[docs]</a>    <span class="k">def</span> <span class="nf">oneVoice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\oneVoice`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">VoiceNumber</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></div>

    <span class="c1"># pitchedTrill</span>

<div class="viewcode-block" id="GuileProxy.relative"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.relative">[docs]</a>    <span class="k">def</span> <span class="nf">relative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\relative`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># We should always keep track of the last chord entered.</span>
        <span class="c1"># When there are repeated chords (via q),</span>
        <span class="c1"># we add the last chord as a key in a _repeated_chords dictionary.</span>
        <span class="c1"># Then, we associate a list with the chord &quot;key&quot; in the dict,</span>
        <span class="c1"># and append a reference to the repeated chord.</span>

        <span class="c1"># Should the referenced chord appear in a relative block,</span>
        <span class="c1"># we relativize that chord, and update any repeated chords</span>
        <span class="c1"># we&#39;ve added to its list of referencing chords.</span>

        <span class="c1"># The parser&#39;s &quot;last_chord&quot; variable will now reflect the</span>
        <span class="c1"># relativized pitches of the original referenced chord,</span>
        <span class="c1"># and so any new chord repetitions following the \relative block</span>
        <span class="c1"># should result in matching absolute pitches to both the &quot;last_chord&quot;</span>
        <span class="c1"># and any other repetitions.</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_unrelativable</span><span class="p">(</span><span class="n">music</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">music</span>

        <span class="k">def</span> <span class="nf">recurse</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">pitch</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_unrelativable</span><span class="p">(</span><span class="n">component</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">pitch</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Chord</span> <span class="o">|</span> <span class="n">_score</span><span class="o">.</span><span class="n">Note</span><span class="p">):</span>
                <span class="n">pitch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_relative_leaf</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_repeated_chords</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">repeated_chord</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_repeated_chords</span><span class="p">[</span><span class="n">component</span><span class="p">]:</span>
                        <span class="n">repeated_chord</span><span class="o">.</span><span class="n">written_pitches</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">written_pitches</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Container</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">component</span><span class="p">:</span>
                    <span class="n">pitch</span> <span class="o">=</span> <span class="n">recurse</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">pitch</span>

        <span class="n">pitch</span> <span class="o">=</span> <span class="n">recurse</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_unrelativable</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">music</span></div>

<div class="viewcode-block" id="GuileProxy.skip"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.skip">[docs]</a>    <span class="k">def</span> <span class="nf">skip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\skip`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">leaf</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Skip</span><span class="p">(</span><span class="n">duration</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">duration</span><span class="o">.</span><span class="n">multiplier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">duration</span><span class="o">.</span><span class="n">multiplier</span><span class="p">,</span> <span class="n">leaf</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">leaf</span></div>

<div class="viewcode-block" id="GuileProxy.slashed_grace_container"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.slashed_grace_container">[docs]</a>    <span class="k">def</span> <span class="nf">slashed_grace_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\slashedGrace`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">grace</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">BeforeGraceContainer</span><span class="p">(</span><span class="n">music</span><span class="p">[:],</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">grace</span></div>

<div class="viewcode-block" id="GuileProxy.time"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.time">[docs]</a>    <span class="k">def</span> <span class="nf">time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number_list</span><span class="p">,</span> <span class="n">fraction</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\time`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">fraction</span><span class="o">.</span><span class="n">numerator</span><span class="p">,</span> <span class="n">fraction</span><span class="o">.</span><span class="n">denominator</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span></div>

<div class="viewcode-block" id="GuileProxy.times"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.times">[docs]</a>    <span class="k">def</span> <span class="nf">times</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fraction</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\times`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">fraction</span><span class="o">.</span><span class="n">numerator</span><span class="p">,</span> <span class="n">fraction</span><span class="o">.</span><span class="n">denominator</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Context</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Leaf</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Container</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>
            <span class="n">leaves</span> <span class="o">=</span> <span class="n">music</span><span class="p">[:]</span>
            <span class="n">music</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">return</span> <span class="n">_score</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">d</span><span class="p">),</span> <span class="n">leaves</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_score</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">d</span><span class="p">),</span> <span class="p">[</span><span class="n">music</span><span class="p">],</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.transpose"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.transpose">[docs]</a>    <span class="k">def</span> <span class="nf">transpose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">from_pitch</span><span class="p">,</span> <span class="n">to_pitch</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\transpose`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">recurse</span><span class="p">(</span><span class="n">music</span><span class="p">):</span>
            <span class="n">key_signatures</span> <span class="o">=</span> <span class="n">music</span><span class="o">.</span><span class="n">_get_indicators</span><span class="p">(</span><span class="n">_indicators</span><span class="o">.</span><span class="n">KeySignature</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key_signatures</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key_signature</span> <span class="ow">in</span> <span class="n">key_signatures</span><span class="p">:</span>
                    <span class="n">new_tonic</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">((</span><span class="n">key_signature</span><span class="o">.</span><span class="n">tonic</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
                    <span class="n">new_tonic</span> <span class="o">=</span> <span class="n">LilyPondParser</span><span class="o">.</span><span class="n">_transpose_enharmonically</span><span class="p">(</span>
                        <span class="n">from_pitch</span><span class="p">,</span> <span class="n">to_pitch</span><span class="p">,</span> <span class="n">new_tonic</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">pitch_class</span>
                    <span class="n">new_key_signature</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">KeySignature</span><span class="p">(</span>
                        <span class="n">new_tonic</span><span class="p">,</span> <span class="n">key_signature</span><span class="o">.</span><span class="n">mode</span>
                    <span class="p">)</span>
                    <span class="n">_bind</span><span class="o">.</span><span class="n">detach</span><span class="p">(</span><span class="n">key_signature</span><span class="p">,</span> <span class="n">music</span><span class="p">)</span>
                    <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">new_key_signature</span><span class="p">,</span> <span class="n">music</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Note</span><span class="p">):</span>
                <span class="n">music</span><span class="o">.</span><span class="n">written_pitch</span> <span class="o">=</span> <span class="n">LilyPondParser</span><span class="o">.</span><span class="n">_transpose_enharmonically</span><span class="p">(</span>
                    <span class="n">from_pitch</span><span class="p">,</span> <span class="n">to_pitch</span><span class="p">,</span> <span class="n">music</span><span class="o">.</span><span class="n">written_pitch</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Chord</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">note_head</span> <span class="ow">in</span> <span class="n">music</span><span class="o">.</span><span class="n">note_heads</span><span class="p">:</span>
                    <span class="n">note_head</span><span class="o">.</span><span class="n">written_pitch</span> <span class="o">=</span> <span class="n">LilyPondParser</span><span class="o">.</span><span class="n">_transpose_enharmonically</span><span class="p">(</span>
                        <span class="n">from_pitch</span><span class="p">,</span> <span class="n">to_pitch</span><span class="p">,</span> <span class="n">note_head</span><span class="o">.</span><span class="n">written_pitch</span>
                    <span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Container</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">music</span><span class="p">:</span>
                    <span class="n">recurse</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_make_unrelativable</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>
        <span class="n">recurse</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">music</span></div>

    <span class="c1"># transposition</span>

<div class="viewcode-block" id="GuileProxy.tuplet"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.tuplet">[docs]</a>    <span class="k">def</span> <span class="nf">tuplet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fraction</span><span class="p">,</span> <span class="n">_optional</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\tuplet`` command.</span>

<span class="sd">        The ``_optional`` parameter appears to get passed in but is unused.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">fraction</span><span class="o">.</span><span class="n">numerator</span><span class="p">,</span> <span class="n">fraction</span><span class="o">.</span><span class="n">denominator</span>
        <span class="n">string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">d</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Context</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Leaf</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Container</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>
            <span class="n">leaves</span> <span class="o">=</span> <span class="n">music</span><span class="p">[:]</span>
            <span class="n">music</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">return</span> <span class="n">_score</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">leaves</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_score</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="p">[</span><span class="n">music</span><span class="p">],</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span></div>

    <span class="c1"># tweak</span>

<div class="viewcode-block" id="GuileProxy.voiceFour"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.voiceFour">[docs]</a>    <span class="k">def</span> <span class="nf">voiceFour</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\voiceFour`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">VoiceNumber</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.voiceOne"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.voiceOne">[docs]</a>    <span class="k">def</span> <span class="nf">voiceOne</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\voiceOnce`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">VoiceNumber</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.voiceThree"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.voiceThree">[docs]</a>    <span class="k">def</span> <span class="nf">voiceThree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\voiceThree`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">VoiceNumber</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuileProxy.voiceTwo"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.GuileProxy.voiceTwo">[docs]</a>    <span class="k">def</span> <span class="nf">voiceTwo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles LilyPond ``\voiceTwo`` command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">VoiceNumber</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>

    <span class="c1">### HELPER FUNCTIONS ###</span>

    <span class="k">def</span> <span class="nf">_is_unrelativable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="n">annotations</span> <span class="o">=</span> <span class="n">music</span><span class="o">.</span><span class="n">_get_indicators</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">_</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">annotations</span><span class="p">]</span>
        <span class="k">if</span> <span class="s2">&quot;UnrelativableMusic&quot;</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_make_relative_leaf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leaf</span><span class="p">,</span> <span class="n">pitch</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_unrelativable</span><span class="p">(</span><span class="n">leaf</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">pitch</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">leaf</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Note</span><span class="p">):</span>
            <span class="n">pitch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_relative_octave</span><span class="p">(</span><span class="n">leaf</span><span class="o">.</span><span class="n">written_pitch</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span>
            <span class="n">leaf</span><span class="o">.</span><span class="n">written_pitch</span> <span class="o">=</span> <span class="n">pitch</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">leaf</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Chord</span><span class="p">):</span>
            <span class="c1"># TODO: This is not ideal w/r/t post events as LilyPond does</span>
            <span class="c1"># not sort chord contents</span>
            <span class="n">chord_pitches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_chord_pitch_orders</span><span class="p">[</span><span class="n">leaf</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chord_pitch</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chord_pitches</span><span class="p">):</span>
                <span class="n">pitch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_relative_octave</span><span class="p">(</span><span class="n">chord_pitch</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span>
                <span class="n">chord_pitches</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">pitch</span>
            <span class="n">leaf</span><span class="o">.</span><span class="n">written_pitches</span> <span class="o">=</span> <span class="n">chord_pitches</span>
            <span class="n">pitch</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">leaf</span><span class="o">.</span><span class="n">written_pitches</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pitch</span>

    <span class="k">def</span> <span class="nf">_make_unrelativable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_unrelativable</span><span class="p">(</span><span class="n">music</span><span class="p">):</span>
            <span class="n">annotation</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;UnrelativableMusic&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
            <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">annotation</span><span class="p">,</span> <span class="n">music</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_default_absolute_pitch</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">reference</span><span class="p">):</span>
        <span class="n">pitch_name</span> <span class="o">=</span> <span class="n">pitch</span><span class="o">.</span><span class="n">pitch_class</span><span class="o">.</span><span class="n">name</span>
        <span class="n">reference_octave</span> <span class="o">=</span> <span class="n">reference</span><span class="o">.</span><span class="n">octave</span><span class="o">.</span><span class="n">number</span>
        <span class="n">absolute_pitch</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">((</span><span class="n">pitch_name</span><span class="p">,</span> <span class="n">reference_octave</span><span class="p">))</span>
        <span class="n">reference_pc_number</span> <span class="o">=</span> <span class="n">reference</span><span class="o">.</span><span class="n">_get_diatonic_pc_number</span><span class="p">()</span>
        <span class="n">pitch_pc_number</span> <span class="o">=</span> <span class="n">pitch</span><span class="o">.</span><span class="n">_get_diatonic_pc_number</span><span class="p">()</span>
        <span class="n">number_of_diatonic_pitches</span> <span class="o">=</span> <span class="mi">7</span>
        <span class="n">diatonic_interval_up</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">pitch_pc_number</span> <span class="o">-</span> <span class="n">reference_pc_number</span>
        <span class="p">)</span> <span class="o">%</span> <span class="n">number_of_diatonic_pitches</span>
        <span class="n">diatonic_interval_down</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">number_of_diatonic_pitches</span> <span class="o">-</span> <span class="n">diatonic_interval_up</span>
        <span class="p">)</span> <span class="o">%</span> <span class="n">number_of_diatonic_pitches</span>
        <span class="n">expect_higher_than_reference</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">diatonic_interval_up</span> <span class="o">&lt;</span> <span class="n">diatonic_interval_down</span>
            <span class="ow">or</span> <span class="n">diatonic_interval_up</span> <span class="o">==</span> <span class="n">diatonic_interval_down</span>
            <span class="ow">and</span> <span class="n">pitch</span><span class="o">.</span><span class="n">accidental</span> <span class="o">&gt;</span> <span class="n">reference</span><span class="o">.</span><span class="n">accidental</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">expect_higher_than_reference</span> <span class="ow">and</span> <span class="n">absolute_pitch</span> <span class="o">&lt;</span> <span class="n">reference</span><span class="p">:</span>
            <span class="n">octave_transposition</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">expect_higher_than_reference</span> <span class="ow">and</span> <span class="n">absolute_pitch</span> <span class="o">&gt;</span> <span class="n">reference</span><span class="p">:</span>
            <span class="n">octave_transposition</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">octave_transposition</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">absolute_pitch</span><span class="o">.</span><span class="n">octave</span><span class="o">.</span><span class="n">number</span> <span class="o">+=</span> <span class="n">octave_transposition</span>
        <span class="k">return</span> <span class="n">absolute_pitch</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_apply_octave_transposition</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">absolute_pitch</span><span class="p">):</span>
        <span class="n">base_octave</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">octave_transposition</span> <span class="o">=</span> <span class="n">pitch</span><span class="o">.</span><span class="n">octave</span><span class="o">.</span><span class="n">number</span> <span class="o">-</span> <span class="n">base_octave</span>
        <span class="n">absolute_pitch</span><span class="o">.</span><span class="n">octave</span><span class="o">.</span><span class="n">number</span> <span class="o">+=</span> <span class="n">octave_transposition</span>
        <span class="k">return</span> <span class="n">absolute_pitch</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_to_relative_octave</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">reference</span><span class="p">):</span>
        <span class="n">default_absolute_pitch</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_default_absolute_pitch</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">reference</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_apply_octave_transposition</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">default_absolute_pitch</span><span class="p">)</span></div>


<div class="viewcode-block" id="LilyPondEvent"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondEvent">[docs]</a><span class="k">class</span> <span class="nc">LilyPondEvent</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model of an arbitrary event in LilyPond.</span>

<span class="sd">    Not composer-safe.</span>

<span class="sd">    Used internally by LilyPondParser.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">keywords</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">keywords</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="LilyPondEvent.__repr__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondEvent.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets interpreter representation of LilyPond event.</span>

<span class="sd">        Returns string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;, </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span><span class="si">!r}</span><span class="s2">&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">)&quot;</span></div></div>


<div class="viewcode-block" id="LilyPondFraction"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondFraction">[docs]</a><span class="k">class</span> <span class="nc">LilyPondFraction</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model of a fraction in LilyPond.</span>

<span class="sd">    Not composer-safe.</span>

<span class="sd">    Used internally by LilyPondParser.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;numerator&quot;</span><span class="p">,</span> <span class="s2">&quot;denominator&quot;</span><span class="p">)</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numerator</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">denominator</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numerator</span> <span class="o">=</span> <span class="n">numerator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">denominator</span> <span class="o">=</span> <span class="n">denominator</span></div>


<div class="viewcode-block" id="LilyPondGrammarGenerator"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondGrammarGenerator">[docs]</a><span class="k">class</span> <span class="nc">LilyPondGrammarGenerator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a syntax skeleton from LilyPond grammar files.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="LilyPondGrammarGenerator.__call__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondGrammarGenerator.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">skeleton_path</span><span class="p">,</span> <span class="n">parser_output_path</span><span class="p">,</span> <span class="n">parser_tab_hh_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls LilyPond grammar generator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_parser_syntax_skeleton</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">skeleton_path</span><span class="p">,</span> <span class="n">parser_output_path</span><span class="p">,</span> <span class="n">parser_tab_hh_path</span>
        <span class="p">)</span></div>

    <span class="c1">### PRIVATE METHODS ###</span>

    <span class="k">def</span> <span class="nf">_extract_productions_from_parser_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">productions</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">nonterminal</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">in_grammar</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="c1"># starting and stopping</span>
            <span class="k">if</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;Terminals, with rules where they appear&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">elif</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;Grammar&quot;</span><span class="p">:</span>
                <span class="n">in_grammar</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">in_grammar</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;|&quot;</span><span class="p">:</span>
                <span class="n">right_hand</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">),</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
                <span class="n">productions</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">nonterminal</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">nonterminal</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">productions</span><span class="p">:</span>
                    <span class="n">productions</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">right_hand</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                <span class="k">if</span> <span class="n">right_hand</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;/*&quot;</span><span class="p">:</span>  <span class="c1"># /* empty */</span>
                    <span class="n">productions</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">right_hand</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">),</span> <span class="n">right_hand</span><span class="p">)</span>
                    <span class="n">productions</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">right_hand</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">productions</span>

    <span class="k">def</span> <span class="nf">_extract_token_names_from_parser_tab_hh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">token_names</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">in_enum</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">in_enum</span> <span class="ow">and</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;};&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">in_enum</span><span class="p">:</span>
                <span class="n">parts</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">):</span>
                    <span class="n">number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                <span class="n">token_names</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
            <span class="k">if</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;enum yytokentype {&quot;</span><span class="p">:</span>
                <span class="n">in_enum</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">token_names</span>

    <span class="k">def</span> <span class="nf">_extract_token_values_from_parser_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">token_values</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">in_token_list</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">in_token_list</span> <span class="ow">and</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;Nonterminals, with rules where they appear&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">elif</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;Terminals, with rules where they appear&quot;</span><span class="p">:</span>
                <span class="n">in_token_list</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">in_token_list</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">token_values</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="n">token_values</span>

    <span class="k">def</span> <span class="nf">_generate_production_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_path</span><span class="p">,</span> <span class="n">tab_hh_path</span><span class="p">):</span>
        <span class="n">productions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_productions_from_parser_output</span><span class="p">(</span><span class="n">output_path</span><span class="p">)</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_token_names_from_parser_tab_hh</span><span class="p">(</span><span class="n">tab_hh_path</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_token_values_from_parser_output</span><span class="p">(</span><span class="n">output_path</span><span class="p">)</span>
        <span class="n">matches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match_token_names_with_token_values</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="n">rewrites</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">nonterminal</span> <span class="ow">in</span> <span class="n">productions</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">rh</span> <span class="ow">in</span> <span class="n">productions</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">rh</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
                        <span class="n">rh</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
                <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">rh</span><span class="p">)</span>
                <span class="n">docstring</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nonterminal</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">rh</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">and</span> <span class="n">r</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">:</span>
                        <span class="n">rh</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Chr</span><span class="si">{</span><span class="nb">ord</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;__&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">rh</span><span class="p">)</span>
                <span class="n">funcname</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;p_</span><span class="si">{</span><span class="n">nonterminal</span><span class="si">}</span><span class="s2">__</span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">rewrites</span><span class="p">[</span><span class="n">funcname</span><span class="p">]</span> <span class="o">=</span> <span class="n">docstring</span>
        <span class="k">return</span> <span class="n">rewrites</span>

    <span class="k">def</span> <span class="nf">_match_token_names_with_token_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="n">matches</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">names</span><span class="p">[</span><span class="n">number</span><span class="p">]</span>
                <span class="n">matches</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">return</span> <span class="n">matches</span>

    <span class="k">def</span> <span class="nf">_write_parser_syntax_skeleton</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">skeleton_path</span><span class="p">,</span> <span class="n">parser_output_path</span><span class="p">,</span> <span class="n">parser_tab_hh_path</span>
    <span class="p">):</span>
        <span class="n">productions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_production_map</span><span class="p">(</span>
            <span class="n">parser_output_path</span><span class="p">,</span> <span class="n">parser_tab_hh_path</span>
        <span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">skeleton_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;from abjad.parsers.parser import SyntaxNode as Node </span><span class="se">\\\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;class _LilyPondSyntacticalDefinition:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;    def __init__(self, client):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        self.client = client</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        self.tokens = self.client.lexdef.tokens</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;    start_symbol = &#39;start_symbol&#39;</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;    precedence = (</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        (&#39;nonassoc&#39;, &#39;COMPOSITE&#39;),</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        (&#39;nonassoc&#39;, &#39;REPEAT&#39;),</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        (&#39;nonassoc&#39;, &#39;ALTERNATIVE&#39;),</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        (&#39;left&#39;, &#39;ADDLYRICS&#39;),</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        (&#39;nonassoc&#39;, &#39;DEFAULT&#39;),</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        (&#39;nonassoc&#39;, &#39;FUNCTION_ARGLIST&#39;),</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                <span class="s2">&quot;        (&#39;right&#39;, &#39;PITCH_IDENTIFIER&#39;, &#39;NOTENAME_PITCH&#39;,&quot;</span>
                <span class="s2">&quot; &#39;TONICNAME_PITCH&#39;, &#39;UNSIGNED&#39;, &#39;REAL&#39;, &#39;DURATION_IDENTIFIER&#39;, &#39;:&#39;),</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        (&#39;nonassoc&#39;, &#39;NUMBER_IDENTIFIER&#39;, &#39;/&#39;),</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;    )</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;    ### SYNTACTICAL RULES (ALPHABETICAL) ###</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">current_nonterminal</span> <span class="o">=</span> <span class="s2">&quot;start_symbol&quot;</span>
            <span class="n">ly_keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
                <span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">productions</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;p_start_symbol&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">ly_keys</span><span class="p">:</span>
                <span class="n">funcname</span> <span class="o">=</span> <span class="n">key</span>
                <span class="n">docstring</span> <span class="o">=</span> <span class="n">productions</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    def </span><span class="si">{</span><span class="n">funcname</span><span class="si">}</span><span class="s2">(self, p):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;        </span><span class="si">{</span><span class="n">docstring</span><span class="si">!r}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;        p[0] = Node(&#39;</span><span class="si">{</span><span class="n">current_nonterminal</span><span class="si">}</span><span class="s2">&#39;, p[1:])</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">funcname</span><span class="p">,</span> <span class="n">docstring</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">productions</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">nonterminal</span> <span class="o">=</span> <span class="n">funcname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;__&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">:]</span>
                <span class="k">if</span> <span class="n">nonterminal</span> <span class="o">==</span> <span class="s2">&quot;start_symbol&quot;</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">nonterminal</span> <span class="o">!=</span> <span class="n">current_nonterminal</span><span class="p">:</span>
                    <span class="n">current_nonterminal</span> <span class="o">=</span> <span class="n">nonterminal</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    ### </span><span class="si">{</span><span class="n">current_nonterminal</span><span class="si">}</span><span class="s2"> ###</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    def </span><span class="si">{</span><span class="n">funcname</span><span class="si">}</span><span class="s2">(self, p):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;        </span><span class="si">{</span><span class="n">docstring</span><span class="si">!r}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;        p[0] = Node(&#39;</span><span class="si">{</span><span class="n">current_nonterminal</span><span class="si">}</span><span class="s2">&#39;, p[1:])</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;    def p_error(self, p):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;        pass</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">_parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lexer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tracking</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tokenfunc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Current lookahead symbol</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span>  <span class="c1"># Local reference to action table (to avoid lookup on self.)</span>
    <span class="n">goto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">goto</span>  <span class="c1"># Local reference to goto table (to avoid lookup on self.)</span>
    <span class="n">prod</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">productions</span>
    <span class="p">)</span>  <span class="c1"># Local reference to production list (to avoid lookup on self.)</span>
    <span class="n">pslice</span> <span class="o">=</span> <span class="n">YaccProduction</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># Production object passed to grammar rules</span>
    <span class="n">errorcount</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Used during error recovery</span>

    <span class="c1"># --! DEBUG</span>
    <span class="c1"># debug.info(&quot;PLY: PARSE DEBUG START&quot;)</span>
    <span class="c1"># --! DEBUG</span>

    <span class="c1"># Set up the lexer and parser objects on pslice</span>
    <span class="n">pslice</span><span class="o">.</span><span class="n">lexer</span> <span class="o">=</span> <span class="n">lexer</span>
    <span class="n">pslice</span><span class="o">.</span><span class="n">parser</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="c1"># If input was supplied, pass to lexer</span>
    <span class="k">if</span> <span class="nb">input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">lexer</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">tokenfunc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Tokenize function</span>
        <span class="n">get_token</span> <span class="o">=</span> <span class="n">lexer</span><span class="o">.</span><span class="n">token</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">get_token</span> <span class="o">=</span> <span class="n">tokenfunc</span>

    <span class="c1"># Set up the state and symbol stacks</span>

    <span class="n">lookaheadstack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack of lookahead tokens</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span> <span class="o">=</span> <span class="n">lookaheadstack</span>
    <span class="n">statestack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack of parsing states</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statestack</span> <span class="o">=</span> <span class="n">statestack</span>
    <span class="n">symstack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack of grammar symbols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">symstack</span> <span class="o">=</span> <span class="n">symstack</span>

    <span class="n">pslice</span><span class="o">.</span><span class="n">stack</span> <span class="o">=</span> <span class="n">symstack</span>  <span class="c1"># Put in the production</span>
    <span class="n">errtoken</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Err token</span>

    <span class="c1"># The start state is assumed to be (0,$end)</span>

    <span class="n">statestack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sym</span> <span class="o">=</span> <span class="n">YaccSymbol</span><span class="p">()</span>
    <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;$end&quot;</span>
    <span class="n">symstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sym</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># Get the next symbol on the input.  If a lookahead symbol</span>
        <span class="c1"># is already set, we just use that. Otherwise, we&#39;ll pull</span>
        <span class="c1"># the next token off of the lookaheadstack or from the lexer</span>

        <span class="c1"># --! DEBUG</span>
        <span class="c1"># debug.debug(&#39;&#39;)</span>
        <span class="c1"># debug.debug(&#39;State  : %s&#39;, state)</span>
        <span class="c1"># --! DEBUG</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">get_token</span><span class="p">()</span>  <span class="c1"># Get the next token</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">YaccSymbol</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;$end&quot;</span>

        <span class="c1"># --! DEBUG</span>
        <span class="c1"># debug.debug(&#39;Stack  : %s&#39;,</span>
        <span class="c1">#             (&quot;%s . %s&quot; % (&quot; &quot;.join([xx.type for xx in symstack][1:]), str(self.lookahead))).lstrip())</span>
        <span class="c1"># --! DEBUG</span>

        <span class="c1"># Check the action table</span>
        <span class="n">ltype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">state</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ltype</span><span class="p">)</span>

        <span class="c1"># This is a bad hack to deal with LilyPond&#39;s backup/reparse regime</span>
        <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">actions</span><span class="p">[</span><span class="n">state</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="k">if</span> <span class="mi">1</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
                <span class="n">t</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">t</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># shift a symbol on the stack</span>
                <span class="n">statestack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">t</span>

                <span class="c1"># --! DEBUG</span>
                <span class="c1"># debug.debug(&quot;Action : Shift and goto state %s&quot;, t)</span>
                <span class="c1"># --! DEBUG</span>

                <span class="n">symstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="c1"># Decrease error count on successful shift</span>
                <span class="k">if</span> <span class="n">errorcount</span><span class="p">:</span>
                    <span class="n">errorcount</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># reduce a symbol on the stack, emit a production</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">prod</span><span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span>
                <span class="n">pname</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span>
                <span class="n">plen</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">len</span>

                <span class="c1"># Get production function</span>
                <span class="n">sym</span> <span class="o">=</span> <span class="n">YaccSymbol</span><span class="p">()</span>
                <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">pname</span>  <span class="c1"># Production name</span>
                <span class="n">sym</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="c1"># --! DEBUG</span>
                <span class="c1"># if plen:</span>
                <span class="c1">#     debug.info(&quot;Action : Reduce rule [%s] with %s and goto state %d&quot;, p.str, &quot;[&quot;+&quot;,&quot;.join([format_stack_entry(_v.value) for _v in symstack[-plen:]])+&quot;]&quot;,-t)</span>
                <span class="c1"># else:</span>
                <span class="c1">#     debug.info(&quot;Action : Reduce rule [%s] with %s and goto state %d&quot;, p.str, [],-t)</span>
                <span class="c1">#</span>
                <span class="c1"># --! DEBUG</span>

                <span class="k">if</span> <span class="n">plen</span><span class="p">:</span>
                    <span class="n">targ</span> <span class="o">=</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="n">plen</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:]</span>
                    <span class="n">targ</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sym</span>

                    <span class="c1"># --! TRACKING</span>
                    <span class="k">if</span> <span class="n">tracking</span><span class="p">:</span>
                        <span class="n">t1</span> <span class="o">=</span> <span class="n">targ</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">lineno</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">lexpos</span>
                        <span class="n">t1</span> <span class="o">=</span> <span class="n">targ</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">endlineno</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="s2">&quot;endlineno&quot;</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">lineno</span><span class="p">)</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">endlexpos</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="s2">&quot;endlexpos&quot;</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">lexpos</span><span class="p">)</span>

                    <span class="c1"># --! TRACKING</span>

                    <span class="c1"># !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
                    <span class="c1"># The code enclosed in this section is duplicated</span>
                    <span class="c1"># below as a performance optimization.  Make sure</span>
                    <span class="c1"># changes get made in both locations.</span>

                    <span class="n">pslice</span><span class="o">.</span><span class="n">slice</span> <span class="o">=</span> <span class="n">targ</span>

                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># Call the grammar rule with our special slice object</span>
                        <span class="k">del</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="n">plen</span><span class="p">:]</span>
                        <span class="k">del</span> <span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="n">plen</span><span class="p">:]</span>
                        <span class="n">p</span><span class="o">.</span><span class="n">callable</span><span class="p">(</span><span class="n">pslice</span><span class="p">)</span>
                        <span class="c1"># --! DEBUG</span>
                        <span class="c1"># debug.info(&quot;Result : %s&quot;, format_result(pslice[0]))</span>
                        <span class="c1"># --! DEBUG</span>
                        <span class="n">symstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sym</span><span class="p">)</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="n">goto</span><span class="p">[</span><span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="n">pname</span><span class="p">]</span>
                        <span class="n">statestack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
                        <span class="c1"># If an error was set. Enter error recovery state</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
                        <span class="n">symstack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">statestack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">sym</span>
                        <span class="n">errorcount</span> <span class="o">=</span> <span class="n">error_count</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="k">continue</span>
                    <span class="c1"># !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># --! TRACKING</span>
                    <span class="k">if</span> <span class="n">tracking</span><span class="p">:</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">lexer</span><span class="o">.</span><span class="n">lineno</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="n">lexer</span><span class="o">.</span><span class="n">lexpos</span>
                    <span class="c1"># --! TRACKING</span>

                    <span class="n">targ</span> <span class="o">=</span> <span class="p">[</span><span class="n">sym</span><span class="p">]</span>

                    <span class="c1"># !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
                    <span class="c1"># The code enclosed in this section is duplicated</span>
                    <span class="c1"># above as a performance optimization.  Make sure</span>
                    <span class="c1"># changes get made in both locations.</span>

                    <span class="n">pslice</span><span class="o">.</span><span class="n">slice</span> <span class="o">=</span> <span class="n">targ</span>

                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># Call the grammar rule with our special slice object</span>
                        <span class="n">p</span><span class="o">.</span><span class="n">callable</span><span class="p">(</span><span class="n">pslice</span><span class="p">)</span>
                        <span class="c1"># --! DEBUG</span>
                        <span class="c1"># debug.info(&quot;Result : %s&quot;, format_result(pslice[0]))</span>
                        <span class="c1"># --! DEBUG</span>
                        <span class="n">symstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sym</span><span class="p">)</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="n">goto</span><span class="p">[</span><span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="n">pname</span><span class="p">]</span>
                        <span class="n">statestack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
                        <span class="c1"># If an error was set. Enter error recovery state</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
                        <span class="n">symstack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">statestack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">sym</span>
                        <span class="n">errorcount</span> <span class="o">=</span> <span class="n">error_count</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="k">continue</span>
                    <span class="c1"># !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>

            <span class="k">if</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">result</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="c1"># --! DEBUG</span>
                <span class="c1"># debug.info(&quot;Done   : Returning %s&quot;, format_result(result))</span>
                <span class="c1"># debug.info(&quot;PLY: PARSE DEBUG END&quot;)</span>
                <span class="c1"># --! DEBUG</span>
                <span class="k">return</span> <span class="n">result</span>

        <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># --! DEBUG</span>
            <span class="c1"># debug.error(&#39;Error  : %s&#39;,</span>
            <span class="c1">#             (&quot;%s . %s&quot; % (&quot; &quot;.join([xx.type for xx in symstack][1:]), str(self.lookahead))).lstrip())</span>
            <span class="c1"># --! DEBUG</span>

            <span class="c1"># We have some kind of parsing error here.  To handle</span>
            <span class="c1"># this, we are going to push the current token onto</span>
            <span class="c1"># the tokenstack and replace it with an &#39;error&#39; token.</span>
            <span class="c1"># If there are any synchronization rules, they may</span>
            <span class="c1"># catch it.</span>
            <span class="c1">#</span>
            <span class="c1"># In addition to pushing the error token, we call call</span>
            <span class="c1"># the user defined p_error() function if this is the</span>
            <span class="c1"># first syntax error.  This function is only called if</span>
            <span class="c1"># errorcount == 0.</span>
            <span class="k">if</span> <span class="n">errorcount</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span><span class="p">:</span>
                <span class="n">errorcount</span> <span class="o">=</span> <span class="n">error_count</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">errtoken</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span>
                <span class="k">if</span> <span class="n">errtoken</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;$end&quot;</span><span class="p">:</span>
                    <span class="n">errtoken</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># End of file!</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">errorfunc</span><span class="p">:</span>
                    <span class="k">global</span> <span class="n">errok</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">restart</span>
                    <span class="n">errok</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">errok</span>
                    <span class="p">)</span>  <span class="c1"># Set some special functions available in error recovery</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">get_token</span>
                    <span class="n">restart</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">restart</span>
                    <span class="k">if</span> <span class="n">errtoken</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">errtoken</span><span class="p">,</span> <span class="s2">&quot;lexer&quot;</span><span class="p">):</span>
                        <span class="n">errtoken</span><span class="o">.</span><span class="n">lexer</span> <span class="o">=</span> <span class="n">lexer</span>
                    <span class="n">tok</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">errorfunc</span><span class="p">(</span><span class="n">errtoken</span><span class="p">)</span>
                    <span class="k">del</span> <span class="n">errok</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">restart</span>  <span class="c1"># Delete special functions</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span><span class="p">:</span>
                        <span class="c1"># User must have done some kind of panic</span>
                        <span class="c1"># mode recovery on their own.  The</span>
                        <span class="c1"># returned token is the next self.lookahead</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">tok</span>
                        <span class="n">errtoken</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">errtoken</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">errtoken</span><span class="p">,</span> <span class="s2">&quot;lineno&quot;</span><span class="p">):</span>
                            <span class="n">lineno</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">lineno</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="k">if</span> <span class="n">lineno</span><span class="p">:</span>
                            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                                <span class="s2">&quot;yacc: Syntax error at line </span><span class="si">%d</span><span class="s2">, token=</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span>
                                <span class="o">%</span> <span class="p">(</span><span class="n">lineno</span><span class="p">,</span> <span class="n">errtoken</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
                            <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                                <span class="s2">&quot;yacc: Syntax error, token=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">errtoken</span><span class="o">.</span><span class="n">type</span>
                            <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;yacc: Parse error in input. EOF</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="k">return</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">errorcount</span> <span class="o">=</span> <span class="n">error_count</span>

            <span class="c1"># case 1:  the statestack only has 1 entry on it.  If we&#39;re in this state, the</span>
            <span class="c1"># entire parse has been rolled back and we&#39;re completely hosed.   The token is</span>
            <span class="c1"># discarded and we just keep going.</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">statestack</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="s2">&quot;$end&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">errtoken</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="c1"># Nuke the pushback stack</span>
                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="p">[:]</span>
                <span class="k">continue</span>

            <span class="c1"># case 2: the statestack has a couple of entries on it, but we&#39;re</span>
            <span class="c1"># at the end of the file. nuke the top entry and generate an error token</span>

            <span class="c1"># Start nuking entries on the stack</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;$end&quot;</span><span class="p">:</span>
                <span class="c1"># Whoa. We&#39;re really hosed here. Bail out</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span>
                <span class="n">sym</span> <span class="o">=</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span>
                    <span class="c1"># Hmmm: error is on top of stack, we&#39;ll just nuke input</span>
                    <span class="c1"># symbol and continue</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">continue</span>
                <span class="n">t</span> <span class="o">=</span> <span class="n">YaccSymbol</span><span class="p">()</span>
                <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">,</span> <span class="s2">&quot;lineno&quot;</span><span class="p">):</span>
                    <span class="n">t</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">lineno</span>
                <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">t</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">symstack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="n">statestack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Potential bug fix</span>

            <span class="k">continue</span>

        <span class="c1"># Call an error function here</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;yacc: internal parser error!!!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_parse_debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lexer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tracking</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tokenfunc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Current lookahead symbol</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span>  <span class="c1"># Local reference to action table (to avoid lookup on self.)</span>
    <span class="n">goto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">goto</span>  <span class="c1"># Local reference to goto table (to avoid lookup on self.)</span>
    <span class="n">prod</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">productions</span>
    <span class="p">)</span>  <span class="c1"># Local reference to production list (to avoid lookup on self.)</span>
    <span class="n">pslice</span> <span class="o">=</span> <span class="n">YaccProduction</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># Production object passed to grammar rules</span>
    <span class="n">errorcount</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Used during error recovery</span>

    <span class="c1"># --! DEBUG</span>
    <span class="n">debug</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;PLY: PARSE DEBUG START&quot;</span><span class="p">)</span>
    <span class="c1"># --! DEBUG</span>

    <span class="c1"># Set up the lexer and parser objects on pslice</span>
    <span class="n">pslice</span><span class="o">.</span><span class="n">lexer</span> <span class="o">=</span> <span class="n">lexer</span>
    <span class="n">pslice</span><span class="o">.</span><span class="n">parser</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="c1"># If input was supplied, pass to lexer</span>
    <span class="k">if</span> <span class="nb">input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">lexer</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">tokenfunc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Tokenize function</span>
        <span class="n">get_token</span> <span class="o">=</span> <span class="n">lexer</span><span class="o">.</span><span class="n">token</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">get_token</span> <span class="o">=</span> <span class="n">tokenfunc</span>

    <span class="c1"># Set up the state and symbol stacks</span>

    <span class="n">lookaheadstack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack of lookahead tokens</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span> <span class="o">=</span> <span class="n">lookaheadstack</span>
    <span class="n">statestack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack of parsing states</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statestack</span> <span class="o">=</span> <span class="n">statestack</span>
    <span class="n">symstack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack of grammar symbols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">symstack</span> <span class="o">=</span> <span class="n">symstack</span>

    <span class="n">pslice</span><span class="o">.</span><span class="n">stack</span> <span class="o">=</span> <span class="n">symstack</span>  <span class="c1"># Put in the production</span>
    <span class="n">errtoken</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Err token</span>

    <span class="c1"># The start state is assumed to be (0,$end)</span>

    <span class="n">statestack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sym</span> <span class="o">=</span> <span class="n">YaccSymbol</span><span class="p">()</span>
    <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;$end&quot;</span>
    <span class="n">symstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sym</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># Get the next symbol on the input.  If a lookahead symbol</span>
        <span class="c1"># is already set, we just use that. Otherwise, we&#39;ll pull</span>
        <span class="c1"># the next token off of the lookaheadstack or from the lexer</span>

        <span class="c1"># --! DEBUG</span>
        <span class="n">debug</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">debug</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;State  : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
        <span class="c1"># --! DEBUG</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">get_token</span><span class="p">()</span>  <span class="c1"># Get the next token</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">YaccSymbol</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;$end&quot;</span>

        <span class="c1"># --! DEBUG</span>
        <span class="n">debug</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Stack  : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">(</span>
                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> . </span><span class="si">%s</span><span class="s2">&quot;</span>
                <span class="o">%</span> <span class="p">(</span>
                    <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">xx</span><span class="o">.</span><span class="n">type</span> <span class="k">for</span> <span class="n">xx</span> <span class="ow">in</span> <span class="n">symstack</span><span class="p">][</span><span class="mi">1</span><span class="p">:]),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="c1"># --! DEBUG</span>

        <span class="c1"># Check the action table</span>
        <span class="n">ltype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">state</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ltype</span><span class="p">)</span>

        <span class="c1"># This is a bad hack to deal with LilyPond&#39;s backup/reparse regime</span>
        <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">actions</span><span class="p">[</span><span class="n">state</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="k">if</span> <span class="mi">1</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
                <span class="n">t</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">t</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># shift a symbol on the stack</span>
                <span class="n">statestack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">t</span>

                <span class="c1"># --! DEBUG</span>
                <span class="n">debug</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Action : Shift and goto state </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
                <span class="c1"># --! DEBUG</span>

                <span class="n">symstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="c1"># Decrease error count on successful shift</span>
                <span class="k">if</span> <span class="n">errorcount</span><span class="p">:</span>
                    <span class="n">errorcount</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># reduce a symbol on the stack, emit a production</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">prod</span><span class="p">[</span><span class="o">-</span><span class="n">t</span><span class="p">]</span>
                <span class="n">pname</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span>
                <span class="n">plen</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">len</span>

                <span class="c1"># Get production function</span>
                <span class="n">sym</span> <span class="o">=</span> <span class="n">YaccSymbol</span><span class="p">()</span>
                <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">pname</span>  <span class="c1"># Production name</span>
                <span class="n">sym</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="c1"># --! DEBUG</span>
                <span class="k">if</span> <span class="n">plen</span><span class="p">:</span>
                    <span class="n">debug</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;Action : Reduce rule [</span><span class="si">%s</span><span class="s2">] with </span><span class="si">%s</span><span class="s2"> and goto state </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">p</span><span class="o">.</span><span class="n">str</span><span class="p">,</span>
                        <span class="s2">&quot;[&quot;</span>
                        <span class="o">+</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                            <span class="p">[</span><span class="n">format_stack_entry</span><span class="p">(</span><span class="n">_v</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">_v</span> <span class="ow">in</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="n">plen</span><span class="p">:]]</span>
                        <span class="p">)</span>
                        <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">,</span>
                        <span class="o">-</span><span class="n">t</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">debug</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;Action : Reduce rule [</span><span class="si">%s</span><span class="s2">] with </span><span class="si">%s</span><span class="s2"> and goto state </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">p</span><span class="o">.</span><span class="n">str</span><span class="p">,</span>
                        <span class="p">[],</span>
                        <span class="o">-</span><span class="n">t</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="c1"># --! DEBUG</span>

                <span class="k">if</span> <span class="n">plen</span><span class="p">:</span>
                    <span class="n">targ</span> <span class="o">=</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="n">plen</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:]</span>
                    <span class="n">targ</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sym</span>

                    <span class="c1"># --! TRACKING</span>
                    <span class="k">if</span> <span class="n">tracking</span><span class="p">:</span>
                        <span class="n">t1</span> <span class="o">=</span> <span class="n">targ</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">lineno</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">lexpos</span>
                        <span class="n">t1</span> <span class="o">=</span> <span class="n">targ</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">endlineno</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="s2">&quot;endlineno&quot;</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">lineno</span><span class="p">)</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">endlexpos</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="s2">&quot;endlexpos&quot;</span><span class="p">,</span> <span class="n">t1</span><span class="o">.</span><span class="n">lexpos</span><span class="p">)</span>

                    <span class="c1"># --! TRACKING</span>

                    <span class="c1"># !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
                    <span class="c1"># The code enclosed in this section is duplicated</span>
                    <span class="c1"># below as a performance optimization.  Make sure</span>
                    <span class="c1"># changes get made in both locations.</span>

                    <span class="n">pslice</span><span class="o">.</span><span class="n">slice</span> <span class="o">=</span> <span class="n">targ</span>

                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># Call the grammar rule with our special slice object</span>
                        <span class="k">del</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="n">plen</span><span class="p">:]</span>
                        <span class="k">del</span> <span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="n">plen</span><span class="p">:]</span>
                        <span class="n">p</span><span class="o">.</span><span class="n">callable</span><span class="p">(</span><span class="n">pslice</span><span class="p">)</span>
                        <span class="c1"># --! DEBUG</span>
                        <span class="n">debug</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Result : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">format_result</span><span class="p">(</span><span class="n">pslice</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                        <span class="c1"># --! DEBUG</span>
                        <span class="n">symstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sym</span><span class="p">)</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="n">goto</span><span class="p">[</span><span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="n">pname</span><span class="p">]</span>
                        <span class="n">statestack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
                        <span class="c1"># If an error was set. Enter error recovery state</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
                        <span class="n">symstack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">statestack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">sym</span>
                        <span class="n">errorcount</span> <span class="o">=</span> <span class="n">error_count</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="k">continue</span>
                    <span class="c1"># !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># --! TRACKING</span>
                    <span class="k">if</span> <span class="n">tracking</span><span class="p">:</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">lexer</span><span class="o">.</span><span class="n">lineno</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="n">lexer</span><span class="o">.</span><span class="n">lexpos</span>
                    <span class="c1"># --! TRACKING</span>

                    <span class="n">targ</span> <span class="o">=</span> <span class="p">[</span><span class="n">sym</span><span class="p">]</span>

                    <span class="c1"># !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
                    <span class="c1"># The code enclosed in this section is duplicated</span>
                    <span class="c1"># above as a performance optimization.  Make sure</span>
                    <span class="c1"># changes get made in both locations.</span>

                    <span class="n">pslice</span><span class="o">.</span><span class="n">slice</span> <span class="o">=</span> <span class="n">targ</span>

                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># Call the grammar rule with our special slice object</span>
                        <span class="n">p</span><span class="o">.</span><span class="n">callable</span><span class="p">(</span><span class="n">pslice</span><span class="p">)</span>
                        <span class="c1"># --! DEBUG</span>
                        <span class="n">debug</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Result : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">format_result</span><span class="p">(</span><span class="n">pslice</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                        <span class="c1"># --! DEBUG</span>
                        <span class="n">symstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sym</span><span class="p">)</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="n">goto</span><span class="p">[</span><span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="n">pname</span><span class="p">]</span>
                        <span class="n">statestack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
                        <span class="c1"># If an error was set. Enter error recovery state</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
                        <span class="n">symstack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">statestack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">sym</span>
                        <span class="n">errorcount</span> <span class="o">=</span> <span class="n">error_count</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="k">continue</span>
                    <span class="c1"># !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>

            <span class="k">if</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">result</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="c1"># --! DEBUG</span>
                <span class="n">debug</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Done   : Returning </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">format_result</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
                <span class="n">debug</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;PLY: PARSE DEBUG END&quot;</span><span class="p">)</span>
                <span class="c1"># --! DEBUG</span>
                <span class="k">return</span> <span class="n">result</span>

        <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># --! DEBUG</span>
            <span class="n">debug</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Error  : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">(</span>
                    <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> . </span><span class="si">%s</span><span class="s2">&quot;</span>
                    <span class="o">%</span> <span class="p">(</span>
                        <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">xx</span><span class="o">.</span><span class="n">type</span> <span class="k">for</span> <span class="n">xx</span> <span class="ow">in</span> <span class="n">symstack</span><span class="p">][</span><span class="mi">1</span><span class="p">:]),</span>
                        <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">),</span>
                    <span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(),</span>
            <span class="p">)</span>
            <span class="c1"># --! DEBUG</span>

            <span class="c1"># We have some kind of parsing error here.  To handle</span>
            <span class="c1"># this, we are going to push the current token onto</span>
            <span class="c1"># the tokenstack and replace it with an &#39;error&#39; token.</span>
            <span class="c1"># If there are any synchronization rules, they may</span>
            <span class="c1"># catch it.</span>
            <span class="c1">#</span>
            <span class="c1"># In addition to pushing the error token, we call call</span>
            <span class="c1"># the user defined p_error() function if this is the</span>
            <span class="c1"># first syntax error.  This function is only called if</span>
            <span class="c1"># errorcount == 0.</span>
            <span class="k">if</span> <span class="n">errorcount</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span><span class="p">:</span>
                <span class="n">errorcount</span> <span class="o">=</span> <span class="n">error_count</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">errtoken</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span>
                <span class="k">if</span> <span class="n">errtoken</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;$end&quot;</span><span class="p">:</span>
                    <span class="n">errtoken</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># End of file!</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">errorfunc</span><span class="p">:</span>
                    <span class="k">global</span> <span class="n">errok</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">restart</span>
                    <span class="n">errok</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">errok</span>
                    <span class="p">)</span>  <span class="c1"># Set some special functions available in error recovery</span>
                    <span class="n">token</span> <span class="o">=</span> <span class="n">get_token</span>
                    <span class="n">restart</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">restart</span>
                    <span class="k">if</span> <span class="n">errtoken</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">errtoken</span><span class="p">,</span> <span class="s2">&quot;lexer&quot;</span><span class="p">):</span>
                        <span class="n">errtoken</span><span class="o">.</span><span class="n">lexer</span> <span class="o">=</span> <span class="n">lexer</span>
                    <span class="n">tok</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">errorfunc</span><span class="p">(</span><span class="n">errtoken</span><span class="p">)</span>
                    <span class="k">del</span> <span class="n">errok</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">restart</span>  <span class="c1"># Delete special functions</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">errorok</span><span class="p">:</span>
                        <span class="c1"># User must have done some kind of panic</span>
                        <span class="c1"># mode recovery on their own.  The</span>
                        <span class="c1"># returned token is the next self.lookahead</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">tok</span>
                        <span class="n">errtoken</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">errtoken</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">errtoken</span><span class="p">,</span> <span class="s2">&quot;lineno&quot;</span><span class="p">):</span>
                            <span class="n">lineno</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">lineno</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="k">if</span> <span class="n">lineno</span><span class="p">:</span>
                            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                                <span class="s2">&quot;yacc: Syntax error at line </span><span class="si">%d</span><span class="s2">, token=</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span>
                                <span class="o">%</span> <span class="p">(</span><span class="n">lineno</span><span class="p">,</span> <span class="n">errtoken</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
                            <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                                <span class="s2">&quot;yacc: Syntax error, token=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">errtoken</span><span class="o">.</span><span class="n">type</span>
                            <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;yacc: Parse error in input. EOF</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="k">return</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">errorcount</span> <span class="o">=</span> <span class="n">error_count</span>

            <span class="c1"># case 1:  the statestack only has 1 entry on it.  If we&#39;re in this state, the</span>
            <span class="c1"># entire parse has been rolled back and we&#39;re completely hosed.   The token is</span>
            <span class="c1"># discarded and we just keep going.</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">statestack</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="s2">&quot;$end&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">errtoken</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="c1"># Nuke the pushback stack</span>
                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="p">[:]</span>
                <span class="k">continue</span>

            <span class="c1"># case 2: the statestack has a couple of entries on it, but we&#39;re</span>
            <span class="c1"># at the end of the file. nuke the top entry and generate an error token</span>

            <span class="c1"># Start nuking entries on the stack</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;$end&quot;</span><span class="p">:</span>
                <span class="c1"># Whoa. We&#39;re really hosed here. Bail out</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span>
                <span class="n">sym</span> <span class="o">=</span> <span class="n">symstack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">sym</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span>
                    <span class="c1"># Hmmm: error is on top of stack, we&#39;ll just nuke input</span>
                    <span class="c1"># symbol and continue</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">continue</span>
                <span class="n">t</span> <span class="o">=</span> <span class="n">YaccSymbol</span><span class="p">()</span>
                <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">,</span> <span class="s2">&quot;lineno&quot;</span><span class="p">):</span>
                    <span class="n">t</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">lineno</span>
                <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">t</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">symstack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="n">statestack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">statestack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Potential bug fix</span>

            <span class="k">continue</span>

        <span class="c1"># Call an error function here</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;yacc: internal parser error!!!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="LilyPondLexicalDefinition"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition">[docs]</a><span class="k">class</span> <span class="nc">LilyPondLexicalDefinition</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The lexical definition of LilyPond&#39;s syntax.</span>

<span class="sd">    Effectively equivalent to LilyPond&#39;s ``lexer.ll`` file.</span>

<span class="sd">    Not composer-safe.</span>

<span class="sd">    Used internally by ``LilyPondParser``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="n">_tag</span><span class="o">.</span><span class="n">Tag</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>

    <span class="n">states</span> <span class="o">=</span> <span class="p">(</span>
        <span class="c1"># lexer.ll:115</span>
        <span class="c1"># (&#39;extratoken&#39;, &#39;exclusive&#39;),</span>
        <span class="c1"># (&#39;chords&#39;, &#39;exclusive&#39;),</span>
        <span class="c1"># (&#39;figures&#39;, &#39;exclusive&#39;),</span>
        <span class="c1"># (&#39;incl&#39;, &#39;exclusive&#39;),</span>
        <span class="c1"># (&#39;lyrics&#39;, &#39;exclusive&#39;),</span>
        <span class="c1"># (&#39;lyric_quote &#39;, &#39;exclusive&#39;),</span>
        <span class="p">(</span><span class="s2">&quot;longcomment&quot;</span><span class="p">,</span> <span class="s2">&quot;exclusive&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;markup&quot;</span><span class="p">,</span> <span class="s2">&quot;exclusive&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;notes&quot;</span><span class="p">,</span> <span class="s2">&quot;exclusive&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;quote&quot;</span><span class="p">,</span> <span class="s2">&quot;exclusive&quot;</span><span class="p">),</span>
        <span class="c1"># (&#39;sourcefileline&#39;, &#39;exclusive&#39;),</span>
        <span class="c1"># (&#39;sourcefilename&#39;, &#39;exclusive&#39;),</span>
        <span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="s2">&quot;exclusive&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;scheme&quot;</span><span class="p">,</span> <span class="s2">&quot;exclusive&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># lexer.ll:129</span>
    <span class="n">A</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[a-zA-Z\200-\377]&quot;</span>
    <span class="n">AA</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;(</span><span class="si">%s</span><span class="s2">|_)&quot;</span> <span class="o">%</span> <span class="n">A</span>
    <span class="n">N</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[0-9]&quot;</span>
    <span class="n">AN</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;(</span><span class="si">%s</span><span class="s2">|</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
    <span class="n">ANY_CHAR</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;(.|\n)&quot;</span>
    <span class="n">PUNCT</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[?!:&#39;`]&quot;</span>
    <span class="n">ACCENT</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;\\[`&#39;&quot;^]&quot;&quot;&quot;</span>
    <span class="n">NATIONAL</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[\001-\006\021-\027\031\036]&quot;</span>
    <span class="n">TEX</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">|-|</span><span class="si">%s</span><span class="s2">|</span><span class="si">%s</span><span class="s2">|</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="n">PUNCT</span><span class="p">,</span> <span class="n">ACCENT</span><span class="p">,</span> <span class="n">NATIONAL</span><span class="p">)</span>
    <span class="n">WORD</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s%s</span><span class="s2">*&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">AN</span><span class="p">)</span>
    <span class="n">DASHED_WORD</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">|-)*&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">AN</span><span class="p">)</span>
    <span class="n">DASHED_KEY_WORD</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">DASHED_WORD</span>

    <span class="c1"># lexer.ll:144</span>
    <span class="n">ALPHAWORD</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">+&quot;</span> <span class="o">%</span> <span class="n">A</span>
    <span class="n">DIGIT</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">N</span>
    <span class="n">UNSIGNED</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">+&quot;</span> <span class="o">%</span> <span class="n">N</span>
    <span class="n">INT</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;(-?</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="n">UNSIGNED</span>
    <span class="n">REAL</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;((</span><span class="si">%s</span><span class="s2">\.</span><span class="si">%s</span><span class="s2">*)|(-?\.</span><span class="si">%s</span><span class="s2">+))&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">INT</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
    <span class="n">E_UNSIGNED</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="si">%s</span><span class="s2">+&quot;</span> <span class="o">%</span> <span class="n">N</span>
    <span class="n">FRACTION</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">+\/</span><span class="si">%s</span><span class="s2">+&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
    <span class="n">KEYWORD</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">WORD</span>
    <span class="n">WHITE</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[ \n\t\f\r]&quot;</span>  <span class="c1"># only whitespace</span>
    <span class="n">HORIZONTALWHITE</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[ \t]&quot;</span>  <span class="c1"># only non-line-breaking whitespace</span>
    <span class="n">BLACK</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[^ \n\t\f\r]&quot;</span>  <span class="c1"># only non-whitespace</span>
    <span class="n">RESTNAME</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[rs]&quot;</span>
    <span class="n">NOTECOMMAND</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="si">%s</span><span class="s2">+&quot;</span> <span class="o">%</span> <span class="n">A</span>
    <span class="n">MARKUPCOMMAND</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">(</span><span class="si">%s</span><span class="s2">|[-_])+&quot;</span> <span class="o">%</span> <span class="n">A</span>
    <span class="n">LYRICS</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;(</span><span class="si">%s</span><span class="s2">|</span><span class="si">%s</span><span class="s2">)[^0-9 \t\n\r\f]*&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="n">TEX</span><span class="p">)</span>
    <span class="n">ESCAPED</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;[nt\\&#39;&quot;]&quot;&quot;&quot;</span>
    <span class="n">EXTENDER</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;__&quot;</span>
    <span class="n">HYPHEN</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;--&quot;</span>
    <span class="n">BOM_UTF8</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;\357\273\277&quot;</span>

    <span class="n">keywords</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1"># parser.yy:182, lily-lexer.cc:39</span>
        <span class="c1">#        &#39;\\accepts&#39;: &#39;ACCEPTS&#39;,</span>
        <span class="c1">#        &#39;\\addlyrics&#39;: &#39;ADDLYRICS&#39;,</span>
        <span class="c1">#        &#39;\\alias&#39;: &#39;ALIAS&#39;,</span>
        <span class="c1">#        &#39;\\alternative&#39;: &#39;ALTERNATIVE&#39;,</span>
        <span class="c1">#        &#39;\\book&#39;: &#39;BOOK&#39;,</span>
        <span class="c1">#        &#39;\\bookpart&#39;: &#39;BOOKPART&#39;,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">change&quot;</span><span class="p">:</span> <span class="s2">&quot;CHANGE&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;\\chordmode&#39;: &#39;CHORDMODE&#39;,</span>
        <span class="c1">#        &#39;\\chords&#39;: &#39;CHORDS&#39;,</span>
        <span class="c1">#        &#39;\\consists&#39;: &#39;CONSISTS&#39;,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">context&quot;</span><span class="p">:</span> <span class="s2">&quot;CONTEXT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">default&quot;</span><span class="p">:</span> <span class="s2">&quot;DEFAULT&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;\\defaultchild&#39;: &#39;DEFAULTCHILD&#39;,</span>
        <span class="c1">#        &#39;\\denies&#39;: &#39;DENIES&#39;,</span>
        <span class="c1">#        &#39;\\description&#39;: &#39;DESCRIPTION&#39;,</span>
        <span class="c1">#        &#39;\\drummode&#39;: &#39;DRUMMODE&#39;,</span>
        <span class="c1">#        &#39;\\drums&#39;: &#39;DRUMS&#39;,</span>
        <span class="c1">#        &#39;\\figuremode&#39;: &#39;FIGUREMODE&#39;,</span>
        <span class="c1">#        &#39;\\figures&#39;: &#39;FIGURES&#39;,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">header&quot;</span><span class="p">:</span> <span class="s2">&quot;HEADER&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;\\version-error&#39;: &#39;INVALID&#39;,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">layout&quot;</span><span class="p">:</span> <span class="s2">&quot;LAYOUT&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;\\lyricmode&#39;: &#39;LYRICMODE&#39;,</span>
        <span class="c1">#        &#39;\\lyrics&#39;: &#39;LYRICS&#39;,</span>
        <span class="c1">#        &#39;\\lyricsto&#39;: &#39;LYRICSTO&#39;,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">markup&quot;</span><span class="p">:</span> <span class="s2">&quot;MARKUP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">markuplist&quot;</span><span class="p">:</span> <span class="s2">&quot;MARKUPLIST&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">midi&quot;</span><span class="p">:</span> <span class="s2">&quot;MIDI&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;\\name&#39;: &#39;NAME&#39;,</span>
        <span class="c1">#        &#39;\\notemode&#39;: &#39;NOTEMODE&#39;,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">override&quot;</span><span class="p">:</span> <span class="s2">&quot;OVERRIDE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">paper&quot;</span><span class="p">:</span> <span class="s2">&quot;PAPER&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;\\remove&#39;: &#39;REMOVE&#39;,</span>
        <span class="c1">#        &#39;\\repeat&#39;: &#39;REPEAT&#39;,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">rest&quot;</span><span class="p">:</span> <span class="s2">&quot;REST&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">revert&quot;</span><span class="p">:</span> <span class="s2">&quot;REVERT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">score&quot;</span><span class="p">:</span> <span class="s2">&quot;SCORE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">sequential&quot;</span><span class="p">:</span> <span class="s2">&quot;SEQUENTIAL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">set&quot;</span><span class="p">:</span> <span class="s2">&quot;SET&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">simultaneous&quot;</span><span class="p">:</span> <span class="s2">&quot;SIMULTANEOUS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">tempo&quot;</span><span class="p">:</span> <span class="s2">&quot;TEMPO&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;\\type&#39;: &#39;TYPE&#39;,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">unset&quot;</span><span class="p">:</span> <span class="s2">&quot;UNSET&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">with&quot;</span><span class="p">:</span> <span class="s2">&quot;WITH&quot;</span><span class="p">,</span>
        <span class="c1"># parser.yy:233</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">new&quot;</span><span class="p">:</span> <span class="s2">&quot;NEWCONTEXT&quot;</span><span class="p">,</span>
        <span class="c1"># ???</span>
        <span class="c1">#        &#39;\\objectid&#39;: &#39;OBJECTID&#39;,</span>
    <span class="p">}</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">[</span>
        <span class="c1">#        &#39;CHORD_BASS&#39;, # &quot;/+&quot;</span>
        <span class="c1">#        &#39;CHORD_CARET&#39;, # &quot;^&quot;</span>
        <span class="c1">#        &#39;CHORD_COLON&#39;, # &quot;:&quot;</span>
        <span class="c1">#        &#39;CHORD_MINUS&#39;, # &quot;-&quot;</span>
        <span class="c1">#        &#39;CHORD_SLASH&#39;, # &quot;/&quot;</span>
        <span class="s2">&quot;ANGLE_OPEN&quot;</span><span class="p">,</span>  <span class="c1"># &quot;&lt;&quot;</span>
        <span class="s2">&quot;ANGLE_CLOSE&quot;</span><span class="p">,</span>  <span class="c1"># &quot;&gt;&quot;</span>
        <span class="s2">&quot;DOUBLE_ANGLE_OPEN&quot;</span><span class="p">,</span>  <span class="c1"># &quot;&lt;&lt;&quot;</span>
        <span class="s2">&quot;DOUBLE_ANGLE_CLOSE&quot;</span><span class="p">,</span>  <span class="c1"># &quot;&gt;&gt;&quot;</span>
        <span class="s2">&quot;E_BACKSLASH&quot;</span><span class="p">,</span>  <span class="c1"># &quot;\\&quot;</span>
        <span class="s2">&quot;E_ANGLE_CLOSE&quot;</span><span class="p">,</span>  <span class="c1"># &quot;\\&gt;&quot;</span>
        <span class="c1">#        &#39;E_CHAR&#39;, # &quot;\\C[haracter]&quot;</span>
        <span class="s2">&quot;E_CLOSE&quot;</span><span class="p">,</span>  <span class="c1"># &quot;\\)&quot;</span>
        <span class="s2">&quot;E_EXCLAMATION&quot;</span><span class="p">,</span>  <span class="c1"># &quot;\\!&quot;</span>
        <span class="c1">#        &#39;E_BRACKET_OPEN&#39;, # &quot;\\[&quot;</span>
        <span class="s2">&quot;E_OPEN&quot;</span><span class="p">,</span>  <span class="c1"># &quot;\\(&quot;</span>
        <span class="c1">#        &#39;E_BRACKET_CLOSE&#39;, # &quot;\\]&quot;</span>
        <span class="s2">&quot;E_ANGLE_OPEN&quot;</span><span class="p">,</span>  <span class="c1"># &quot;\\&lt;&quot;</span>
        <span class="c1">#        &#39;E_PLUS&#39;, # &quot;\\+&quot;</span>
        <span class="c1">#        &#39;E_TILDE&#39;, # &quot;\\~&quot;</span>
        <span class="s2">&quot;EXTENDER&quot;</span><span class="p">,</span>  <span class="c1"># &quot;__&quot;</span>
        <span class="c1">#        &#39;FIGURE_CLOSE&#39;, # &quot;\\&gt;&quot;</span>
        <span class="c1">#        &#39;FIGURE_OPEN&#39;, # &quot;\\&lt;&quot;</span>
        <span class="c1">#        &#39;FIGURE_SPACE&#39;, # &quot;_&quot;</span>
        <span class="s2">&quot;HYPHEN&quot;</span><span class="p">,</span>  <span class="c1"># &quot;--&quot;</span>
        <span class="c1">#        &#39;LYRIC_MARKUP&#39;,</span>
        <span class="s2">&quot;MULTI_MEASURE_REST&quot;</span><span class="p">,</span>
        <span class="s2">&quot;E_UNSIGNED&quot;</span><span class="p">,</span>
        <span class="s2">&quot;UNSIGNED&quot;</span><span class="p">,</span>
        <span class="s2">&quot;EXPECT_MARKUP&quot;</span><span class="p">,</span>  <span class="c1"># &quot;markup?&quot;</span>
        <span class="s2">&quot;EXPECT_PITCH&quot;</span><span class="p">,</span>  <span class="c1"># &quot;ly:pitch?&quot;</span>
        <span class="s2">&quot;EXPECT_DURATION&quot;</span><span class="p">,</span>  <span class="c1"># &quot;ly:duration?&quot;</span>
        <span class="s2">&quot;EXPECT_SCM&quot;</span><span class="p">,</span>  <span class="c1"># &quot;scheme?&quot;</span>
        <span class="s2">&quot;BACKUP&quot;</span><span class="p">,</span>  <span class="c1"># &quot;(backed-up?)&quot;</span>
        <span class="s2">&quot;REPARSE&quot;</span><span class="p">,</span>  <span class="c1"># &quot;(reparsed?)&quot;</span>
        <span class="s2">&quot;EXPECT_MARKUP_LIST&quot;</span><span class="p">,</span>  <span class="c1"># &quot;markup-list?&quot;</span>
        <span class="s2">&quot;EXPECT_OPTIONAL&quot;</span><span class="p">,</span>  <span class="c1"># &quot;optional?&quot;</span>
        <span class="s2">&quot;EXPECT_NO_MORE_ARGS&quot;</span><span class="p">,</span>  <span class="c1">#</span>
        <span class="c1">#        &#39;EMBEDDED_LILY&#39;, # &quot;#{&quot;</span>
        <span class="c1">#        &#39;BOOK_IDENTIFIER&#39;,</span>
        <span class="c1">#        &#39;CHORD_MODIFIER&#39;,</span>
        <span class="s2">&quot;CHORD_REPETITION&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CONTEXT_DEF_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CONTEXT_MOD_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;DRUM_PITCH&#39;,</span>
        <span class="s2">&quot;PITCH_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;DURATION_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;EVENT_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;EVENT_FUNCTION&quot;</span><span class="p">,</span>
        <span class="s2">&quot;FRACTION&quot;</span><span class="p">,</span>
        <span class="c1">#        &#39;LYRICS_STRING&#39;,</span>
        <span class="c1">#        &#39;LYRIC_ELEMENT&#39;,</span>
        <span class="c1">#        &#39;LYRIC_MARKUP_IDENTIFIER&#39;,</span>
        <span class="s2">&quot;MARKUP_FUNCTION&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MARKUP_LIST_FUNCTION&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MARKUP_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MARKUPLIST_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MUSIC_FUNCTION&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MUSIC_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;NOTENAME_PITCH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;NUMBER_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;OUTPUT_DEF_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;REAL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;RESTNAME&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SCM_FUNCTION&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SCM_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SCM_TOKEN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SCORE_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
        <span class="s2">&quot;STRING_IDENTIFIER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;TONICNAME_PITCH&quot;</span><span class="p">,</span>
    <span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">keywords</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

    <span class="n">literals</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;!&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;(&quot;</span><span class="p">,</span>
        <span class="s2">&quot;)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="s2">&quot;+&quot;</span><span class="p">,</span>
        <span class="s2">&quot;,&quot;</span><span class="p">,</span>
        <span class="s2">&quot;-&quot;</span><span class="p">,</span>
        <span class="s2">&quot;.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/&quot;</span><span class="p">,</span>
        <span class="s2">&quot;:&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;=&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;[&quot;</span><span class="p">,</span>
        <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;^&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_&quot;</span><span class="p">,</span>
        <span class="s2">&quot;{&quot;</span><span class="p">,</span>
        <span class="s2">&quot;|&quot;</span><span class="p">,</span>
        <span class="s2">&quot;}&quot;</span><span class="p">,</span>
        <span class="s2">&quot;~&quot;</span><span class="p">,</span>
        <span class="s2">&quot;]&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">string_accumulator</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1">### LEXICAL RULES ###</span>

    <span class="c1"># lexer.ll:165</span>
    <span class="c1"># &lt;*&gt;\r</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_ANY_165"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_ANY_165">[docs]</a>    <span class="k">def</span> <span class="nf">t_ANY_165</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;\r&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:169</span>
    <span class="c1"># &lt;extratoken&gt;{ANY_CHAR}</span>

    <span class="c1"># lexer.ll:186</span>
    <span class="c1"># &lt;extratoken&gt;&lt;&lt;EOF&gt;&gt;</span>

    <span class="c1"># lexer.ll:201</span>
    <span class="c1"># &lt;INITIAL,chords,lyrics,figures,notes&gt;{BOM_UTF8}/.*</span>

    <span class="c1"># lexer.ll:210</span>
    <span class="c1"># &lt;INITIAL,chords,figures,incl,lyrics,markup,notes&gt;&quot;%{&quot;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_210"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_210">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_210</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;%{&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">push_state</span><span class="p">(</span><span class="s2">&quot;longcomment&quot;</span><span class="p">)</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:214</span>
    <span class="c1"># &lt;INITIAL,chords,figures,incl,lyrics,markup,notes&gt;%[^{\n\r][^\n\r]*[\n\r]</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_214"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_214">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_214</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;%[^{\n\r][^\n\r]*[\n\r]&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_214_EOF"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_214_EOF">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_214_EOF</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;%[^{\n\r][^\n\r]*$&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:216</span>
    <span class="c1"># &lt;INITIAL,chords,figures,incl,lyrics,markup,notes&gt;%[^{\n\r]</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_216"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_216">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_216</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;%[^{\n\r]&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:218</span>
    <span class="c1"># &lt;INITIAL,chords,figures,incl,lyrics,markup,notes&gt;%[\n\r]</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_218"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_218">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_218</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;%[\n\r]&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:220</span>
    <span class="c1"># &lt;INITIAL,chords,figures,incl,lyrics,markup,notes&gt;%[^{\n\r][^\n\r]*</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_220"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_220">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_220</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;%[^{\n\r][^\n\r]*&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:222</span>
    <span class="c1"># &lt;INITIAL,chords,figures,incl,lyrics,markup,notes&gt;{WHITE}+</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_222"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_222">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_222</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="s2">&quot;[ </span><span class="se">\n\t\f\r</span><span class="s2">]&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:227</span>
    <span class="c1"># &lt;INITIAL,notes,figures,chords,markup&gt;\&quot;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_227"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_227">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_227</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2"> &quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">push_state</span><span class="p">(</span><span class="s2">&quot;quote&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">string_accumulator</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:233</span>
    <span class="c1"># &lt;INITIAL,chords,lyrics,notes,figures&gt;\\version{WHITE}*</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_notes_233"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_notes_233">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_notes_233</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">version[ \n\t\f\r]*&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">push_state</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:236</span>
    <span class="c1"># &lt;INITIAL,chords,lyrics,notes,figures&gt;\\sourcefilename{WHITE}*</span>

    <span class="c1"># lexer.ll:239</span>
    <span class="c1"># &lt;INITIAL,chords,lyrics,notes,figures&gt;\\sourcefileline{WHITE}*</span>

    <span class="c1"># lexer.ll:242</span>
    <span class="c1"># &lt;version&gt;\&quot;[^&quot;]*\&quot;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_version_242"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_version_242">[docs]</a>    <span class="k">def</span> <span class="nf">t_version_242</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s1">&#39;\&quot;[^&quot;]*\&quot;&#39;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">pop_state</span><span class="p">()</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:256</span>
    <span class="c1"># &lt;sourcefilename&gt;\&quot;[^&quot;]*\&quot;</span>

    <span class="c1"># lexer.ll:270</span>
    <span class="c1"># &lt;sourcefileline&gt;{INT}</span>

    <span class="c1"># lexer.ll:278</span>
    <span class="c1"># &lt;version&gt;{ANY_CHAR}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_version_278"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_version_278">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">ANY_CHAR</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_version_278</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;LilyPondParser: Illegal character &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

    <span class="c1"># lexer.ll:282</span>
    <span class="c1"># &lt;sourcefilename&gt;{ANY_CHAR}</span>

    <span class="c1"># lexer.ll:286</span>
    <span class="c1"># &lt;sourcefileline&gt;{ANY_CHAR}</span>

    <span class="c1"># lexer.ll:296</span>
    <span class="c1"># &lt;longcomment&gt;&quot;%&quot;+&quot;}&quot;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_longcomment_296"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_longcomment_296">[docs]</a>    <span class="k">def</span> <span class="nf">t_longcomment_296</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;%}&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">pop_state</span><span class="p">()</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:291</span>
    <span class="c1"># &lt;longcomment&gt;[^\%]*</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_longcomment_291"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_longcomment_291">[docs]</a>    <span class="k">def</span> <span class="nf">t_longcomment_291</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;[^%]+&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:293</span>
    <span class="c1"># &lt;longcomment&gt;\%*[^}%]*</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_longcomment_293"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_longcomment_293">[docs]</a>    <span class="k">def</span> <span class="nf">t_longcomment_293</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;%+[^}%]*&quot;</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:302</span>
    <span class="c1"># &lt;INITIAL,chords,lyrics,notes,figures&gt;\\maininput</span>

    <span class="c1"># lexer.ll:312</span>
    <span class="c1"># &lt;INITIAL,chords,lyrics,figures,notes&gt;\\include</span>

    <span class="c1"># lexer.ll:315</span>
    <span class="c1"># &lt;incl&gt;\&quot;[^&quot;]*\&quot;</span>

    <span class="c1"># lexer.ll:322</span>
    <span class="c1"># &lt;incl&gt;\\{BLACK}*{WHITE}?</span>

    <span class="c1"># lexer.ll:341</span>
    <span class="c1"># &lt;incl,version,sourcefilename&gt;\&quot;[^&quot;]*</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_version_341"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_version_341">[docs]</a>    <span class="k">def</span> <span class="nf">t_version_341</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s1">&#39;&quot;[^&quot;]*&#39;</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;end quote missing: </span><span class="si">{</span><span class="n">t</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span></div>

    <span class="c1"># lexer.ll:345</span>
    <span class="c1"># &lt;chords,notes,figures&gt;{RESTNAME}</span>
    <span class="c1">#    @lex.token.TOKEN(RESTNAME)</span>
    <span class="c1">#    def t_notes_345(self, t):</span>
    <span class="c1">#        t.type = &#39;RESTNAME&#39;</span>
    <span class="c1">#        return t</span>

    <span class="c1"># lexer.ll:350</span>
    <span class="c1"># &lt;chords,notes,figures&gt;R</span>
    <span class="c1">#    def t_notes_350(self, t):</span>
    <span class="c1">#        &#39;R&#39;</span>
    <span class="c1">#        t.type = &#39;MULTI_MEASURE_REST&#39;</span>
    <span class="c1">#        return t</span>

    <span class="c1"># def t_INITIAL_markup_notes_353_boolean(self, t):</span>
    <span class="c1">#    &#39;\#\#(t|f)&#39;</span>
    <span class="c1">#    t.type = &#39;SCM_TOKEN&#39;</span>
    <span class="c1">#    if t.value[2] == &#39;t&#39;:</span>
    <span class="c1">#        t.value = True</span>
    <span class="c1">#    else:</span>
    <span class="c1">#        t.value = False</span>
    <span class="c1">#    return t</span>

    <span class="c1"># @lex.TOKEN(&quot;\#&#39;%s&quot; % DASHED_WORD)</span>
    <span class="c1"># def t_INITIAL_markup_notes_353_identifier(self, t):</span>
    <span class="c1">#    t.type = &#39;SCM_IDENTIFIER&#39;</span>
    <span class="c1">#    t.value = t.value[2:]</span>
    <span class="c1">#    return t</span>

    <span class="c1"># lexer.ll:353</span>
    <span class="c1"># &lt;INITIAL,chords,figures,lyrics,markup,notes&gt;#</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_markup_notes_353"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_markup_notes_353">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_markup_notes_353</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;\#&quot;</span>
        <span class="c1"># t.type = &#39;SCHEME_START&#39;</span>
        <span class="c1"># t.lexer.push_state(&#39;INITIAL&#39;)</span>
        <span class="n">scheme_parser</span> <span class="o">=</span> <span class="n">SchemeParser</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">input_string</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">lexdata</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
        <span class="c1"># print &#39;PREPARSE&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scheme_parser</span><span class="p">(</span><span class="n">input_string</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">_exceptions</span><span class="o">.</span><span class="n">SchemeParserFinishedError</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">scheme_parser</span><span class="o">.</span><span class="n">result</span>
            <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">result</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;SCM_TOKEN&quot;</span>
            <span class="c1"># if isinstance(result, str):</span>
            <span class="c1">#    t.type = &#39;STRING&#39;</span>
            <span class="c1">#    if t.value.find(&#39; &#39;) != -1:</span>
            <span class="c1">#        t.value = f&#39;&quot;{t.value}&quot;&#39;</span>
            <span class="c1"># else:</span>
            <span class="c1">#    t.type = &#39;SCM_TOKEN&#39;</span>
            <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="n">scheme_parser</span><span class="o">.</span><span class="n">cursor_end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:387</span>
    <span class="c1"># &lt;INITIAL,notes,lyrics&gt;\&lt;\&lt;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_notes_387"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_notes_387">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_notes_387</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;\&lt;\&lt;&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;DOUBLE_ANGLE_OPEN&quot;</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:390</span>
    <span class="c1"># &lt;INITIAL,notes,lyrics&gt;\&gt;\&gt;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_notes_390"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_notes_390">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_notes_390</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;\&gt;\&gt;&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;DOUBLE_ANGLE_CLOSE&quot;</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:396</span>
    <span class="c1"># &lt;INITIAL,notes&gt;\&lt;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_notes_396"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_notes_396">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_notes_396</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;\&lt;&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;ANGLE_OPEN&quot;</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:399</span>
    <span class="c1"># &lt;INITIAL,notes&gt;\&gt;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_notes_399"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_notes_399">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_notes_399</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;\&gt;&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;ANGLE_CLOSE&quot;</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:405</span>
    <span class="c1"># &lt;figures&gt;_</span>

    <span class="c1"># lexer.ll:408</span>
    <span class="c1"># &lt;figures&gt;\&gt;</span>

    <span class="c1"># lexer.ll:411</span>
    <span class="c1"># &lt;figures&gt;\&lt;</span>

    <span class="c1"># lexer.ll:417</span>
    <span class="c1"># &lt;notes,figures&gt;{ALPHAWORD}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_notes_417"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_notes_417">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">ALPHAWORD</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_notes_417</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">pitch_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_pitch_names</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">pitch_names</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;NOTENAME_PITCH&quot;</span>
            <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitchClass</span><span class="p">(</span><span class="n">pitch_names</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">_lyconst</span><span class="o">.</span><span class="n">drums</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;NOTENAME_PITCH&quot;</span>
            <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">_lyconst</span><span class="o">.</span><span class="n">drums</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">]:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;RESTNAME&quot;</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;R&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;MULTI_MEASURE_REST&quot;</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;q&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_last_chord</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_last_chord</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Chord</span><span class="p">(</span>
                    <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;c&#39;&quot;</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span>
                <span class="p">)</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;CHORD_REPETITION&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;STRING&quot;</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:421</span>
    <span class="c1"># &lt;notes,figures&gt;{NOTECOMMAND}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_notes_421"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_notes_421">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">NOTECOMMAND</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_notes_421</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_escaped_word</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:424</span>
    <span class="c1"># &lt;notes,figures&gt;{FRACTION}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_notes_424"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_notes_424">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">FRACTION</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_notes_424</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;FRACTION&quot;</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">LilyPondFraction</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:428</span>
    <span class="c1"># &lt;notes,figures&gt;{UNSIGNED}/\/|{UNSIGNED}</span>
    <span class="c1"># @lex.TOKEN(&#39;%s/\/|%s&#39; % (UNSIGNED, UNSIGNED))</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_notes_428"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_notes_428">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">/\/&quot;</span> <span class="o">%</span> <span class="n">UNSIGNED</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_notes_428</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;UNSIGNED&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

<div class="viewcode-block" id="LilyPondLexicalDefinition.t_notes_428b"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_notes_428b">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">UNSIGNED</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_notes_428b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;UNSIGNED&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:433</span>
    <span class="c1"># &lt;notes,figures&gt;{E_UNSIGNED}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_notes_433"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_notes_433">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">E_UNSIGNED</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_notes_433</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_UNSIGNED&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:440</span>
    <span class="c1"># &lt;quote,lyric_quote&gt;\\{ESCAPED}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_quote_440"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_quote_440">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ESCAPED</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_quote_440</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">string_accumulator</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="LilyPondLexicalDefinition.t_quote_XXX"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_quote_XXX">[docs]</a>    <span class="k">def</span> <span class="nf">t_quote_XXX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&quot;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">string_accumulator</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:443</span>
    <span class="c1"># &lt;quote,lyric_quote&gt;[^\\&quot;&quot;]+</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_quote_443"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_quote_443">[docs]</a>    <span class="k">def</span> <span class="nf">t_quote_443</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s1">&#39;[^</span><span class="se">\\</span><span class="s1">&quot;&quot;]+&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">string_accumulator</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:446</span>
    <span class="c1"># &lt;quote,lyric_quote&gt;\&quot;</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_quote_446"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_quote_446">[docs]</a>    <span class="k">def</span> <span class="nf">t_quote_446</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2"> &quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">pop_state</span><span class="p">()</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;STRING&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">string_accumulator</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:456</span>
    <span class="c1"># &lt;quote,lyric_quote&gt;.</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_quote_456"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_quote_456">[docs]</a>    <span class="k">def</span> <span class="nf">t_quote_456</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">string_accumulator</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span>
        <span class="k">pass</span></div>

    <span class="c1"># lexer.ll:462</span>
    <span class="c1"># &lt;lyrics&gt;\&quot;</span>

    <span class="c1"># lexer.ll:465</span>
    <span class="c1"># &lt;lyrics&gt;{FRACTION}</span>

    <span class="c1"># lexer.ll:469</span>
    <span class="c1"># &lt;lyrics&gt;{UNSIGNED}/\/[^0-9]</span>

    <span class="c1"># lexer.ll:473</span>
    <span class="c1"># &lt;lyrics&gt;{UNSIGNED}/\/|{UNSIGNED}</span>

    <span class="c1"># lexer.ll:478</span>
    <span class="c1"># &lt;lyrics&gt;{NOTECOMMAND}</span>

    <span class="c1"># lexer.ll:481</span>
    <span class="c1"># &lt;lyrics&gt;{LYRICS}</span>

    <span class="c1"># lexer.ll:499</span>
    <span class="c1"># &lt;lyrics&gt;.</span>

    <span class="c1"># lexer.ll:504</span>
    <span class="c1"># &lt;chords&gt;{ALPHAWORD}</span>

    <span class="c1"># lexer.ll:507</span>
    <span class="c1"># &lt;chords&gt;{NOTECOMMAND}</span>

    <span class="c1"># lexer.ll:510</span>
    <span class="c1"># &lt;chords&gt;{FRACTION}</span>

    <span class="c1"># lexer.ll:514</span>
    <span class="c1"># &lt;chords&gt;{UNSIGNED}/\/[^0-9]</span>

    <span class="c1"># lexer.ll:518</span>
    <span class="c1"># &lt;chords&gt;{UNSIGNED}/\/|{UNSIGNED}</span>

    <span class="c1"># lexer.ll:523</span>
    <span class="c1"># &lt;chords&gt;-</span>

    <span class="c1"># lexer.ll:526</span>
    <span class="c1"># &lt;chords&gt;:</span>

    <span class="c1"># lexer.ll:529</span>
    <span class="c1"># &lt;chords&gt;\/\+</span>

    <span class="c1"># lexer.ll:532</span>
    <span class="c1"># &lt;chords&gt;\/</span>

    <span class="c1"># lexer.ll:535</span>
    <span class="c1"># &lt;chords&gt;\^</span>

    <span class="c1"># lexer.ll:538</span>
    <span class="c1"># &lt;chords&gt;.</span>

    <span class="c1"># lexer.ll:545</span>
    <span class="c1"># &lt;markup&gt;\\score</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_markup_545"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_markup_545">[docs]</a>    <span class="k">def</span> <span class="nf">t_markup_545</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">score&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;SCORE&quot;</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:548</span>
    <span class="c1"># &lt;markup&gt;{MARKUPCOMMAND}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_markup_548"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_markup_548">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">MARKUPCOMMAND</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_markup_548</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_markup_functions</span>
            <span class="ow">or</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_markup_list_functions</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_markup_functions</span><span class="p">:</span>
                <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;MARKUP_FUNCTION&quot;</span>
                <span class="n">signature</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_markup_functions</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;MARKUP_LIST_FUNCTION&quot;</span>
                <span class="n">signature</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_markup_list_functions</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
            <span class="c1"># print t.type, value, signature</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">push_signature</span><span class="p">(</span><span class="n">signature</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_escaped_word</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:598</span>
    <span class="c1"># &lt;markup&gt;[{}]</span>
    <span class="c1">#    def t_markup_598(self, t):</span>
    <span class="c1">#        r&#39;[{}]&#39;</span>
    <span class="c1">#        t.type = t.value</span>
    <span class="c1">#        return t</span>

    <span class="c1"># lexer.ll:601</span>
    <span class="c1"># &lt;markup&gt;[^#{}\&quot;\\ \t\n\r\f]+</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_markup_601"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_markup_601">[docs]</a>    <span class="k">def</span> <span class="nf">t_markup_601</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;[^#</span><span class="si">{}</span><span class="se">\&quot;\\</span><span class="s2"> \t\n\r\f]+&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;STRING&quot;</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:614</span>
    <span class="c1"># &lt;markup&gt;.</span>

    <span class="c1"># lexer.ll:619</span>
    <span class="c1"># &lt;longcomment&gt;&lt;&lt;EOF&gt;&gt;</span>

    <span class="c1"># lexer.ll:626</span>
    <span class="c1"># &lt;&lt;EOF&gt;&gt;</span>

    <span class="c1"># lexer.ll:643</span>
    <span class="c1"># &lt;INITIAL&gt;{DASHED_WORD}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_643"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_643">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">DASHED_WORD</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_INITIAL_643</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_bare_word</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:646</span>
    <span class="c1"># &lt;INITIAL&gt;{DASHED_KEY_WORD}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_646"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_646">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">DASHED_KEY_WORD</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_INITIAL_646</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_escaped_word</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:651</span>
    <span class="c1"># -{UNSIGNED}|{REAL}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_651_a"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_651_a">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">REAL</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_651_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;REAL&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

<div class="viewcode-block" id="LilyPondLexicalDefinition.t_651_b"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_651_b">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">UNSIGNED</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_651_b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;REAL&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:661</span>
    <span class="c1"># -\.</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_661"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_661">[docs]</a>    <span class="k">def</span> <span class="nf">t_661</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;-\.&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;REAL&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:666</span>
    <span class="c1"># {UNSIGNED}</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_666"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_666">[docs]</a>    <span class="nd">@lex</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">(</span><span class="n">UNSIGNED</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">t_666</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;UNSIGNED&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:672</span>
    <span class="c1"># [{}]</span>

    <span class="c1"># lexer.ll:676</span>
    <span class="c1"># [*:=]</span>

    <span class="c1"># lexer.ll:682</span>
    <span class="c1"># &lt;INITIAL,notes,figures&gt;.</span>

    <span class="c1"># lexer.ll:686</span>
    <span class="c1"># &lt;INITIAL,lyrics,notes,figures&gt;\\.</span>
<div class="viewcode-block" id="LilyPondLexicalDefinition.t_INITIAL_notes_686"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_INITIAL_notes_686">[docs]</a>    <span class="k">def</span> <span class="nf">t_INITIAL_notes_686</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">.&quot;</span>
        <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_ANGLE_CLOSE&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_ANGLE_OPEN&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;!&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_EXCLAMATION&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;(&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_OPEN&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;)&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_CLOSE&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;[&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_BRACKET_OPEN&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_PLUS&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;]&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_BRACKET_CLOSE&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;~&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_TILDE&quot;</span>
        <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_BACKSLASH&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;E_CHAR&quot;</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="c1"># lexer.ll:</span>
    <span class="c1"># &lt;*&gt;.716</span>
    <span class="c1">#    def t_ANY_716(self, t):</span>
    <span class="c1">#        r&#39;.&#39;</span>
    <span class="c1">#        raise Exception</span>

    <span class="c1">### DEFAULT RULES ###</span>

    <span class="n">t_ignore</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="c1"># let the grammar handle ignoring things</span>

    <span class="c1">#    t_extratoken_ignore = t_ignore</span>
    <span class="c1">#    t_chords_ignore = t_ignore</span>
    <span class="c1">#    t_figures_ignore = t_ignore</span>
    <span class="c1">#    t_incl_ignore = t_ignore</span>
    <span class="c1">#    t_lyrics_ignore = t_ignore</span>
    <span class="c1">#    t_lyric_quote_ignore = t_ignore</span>
    <span class="n">t_longcomment_ignore</span> <span class="o">=</span> <span class="n">t_ignore</span>
    <span class="n">t_markup_ignore</span> <span class="o">=</span> <span class="n">t_ignore</span>
    <span class="n">t_notes_ignore</span> <span class="o">=</span> <span class="n">t_ignore</span>
    <span class="n">t_quote_ignore</span> <span class="o">=</span> <span class="n">t_ignore</span>
    <span class="c1">#    t_sourcefileline_ignore = t_ignore</span>
    <span class="c1">#    t_sourcefilename_ignore = t_ignore</span>
    <span class="n">t_version_ignore</span> <span class="o">=</span> <span class="n">t_ignore</span>

    <span class="n">t_scheme_ignore</span> <span class="o">=</span> <span class="n">t_ignore</span>

<div class="viewcode-block" id="LilyPondLexicalDefinition.t_newline"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_newline">[docs]</a>    <span class="k">def</span> <span class="nf">t_newline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sa">r</span><span class="s2">&quot;\n+&quot;</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">lineno</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondLexicalDefinition.t_error"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.t_error">[docs]</a>    <span class="k">def</span> <span class="nf">t_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;LilyPondParser: Illegal character &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

    <span class="c1">#    t_extratoken_error = t_error</span>
    <span class="c1">#    t_chords_error = t_error</span>
    <span class="c1">#    t_figures_error = t_error</span>
    <span class="c1">#    t_incl_error = t_error</span>
    <span class="c1">#    t_lyrics_error = t_error</span>
    <span class="c1">#    t_lyric_quote_error = t_error</span>
    <span class="n">t_longcomment_error</span> <span class="o">=</span> <span class="n">t_error</span>
    <span class="n">t_markup_error</span> <span class="o">=</span> <span class="n">t_error</span>
    <span class="n">t_notes_error</span> <span class="o">=</span> <span class="n">t_error</span>
    <span class="n">t_quote_error</span> <span class="o">=</span> <span class="n">t_error</span>
    <span class="c1">#    t_sourcefileline_error = t_error</span>
    <span class="c1">#    t_sourcefilename_error = t_error</span>
    <span class="n">t_version_error</span> <span class="o">=</span> <span class="n">t_error</span>
    <span class="n">t_scheme_error</span> <span class="o">=</span> <span class="n">t_error</span>

<div class="viewcode-block" id="LilyPondLexicalDefinition.scan_bare_word"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.scan_bare_word">[docs]</a>    <span class="k">def</span> <span class="nf">scan_bare_word</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">current_state</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;notes&quot;</span><span class="p">,):</span>
            <span class="n">pitch_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_pitch_names</span>
            <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="ow">in</span> <span class="n">pitch_names</span><span class="p">:</span>
                <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;NOTENAME_PITCH&quot;</span>
            <span class="k">elif</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;q&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_last_chord</span><span class="p">:</span>
                <span class="n">t</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;CHORD_REPETITION&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;STRING&quot;</span></div>

<div class="viewcode-block" id="LilyPondLexicalDefinition.scan_escaped_word"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.scan_escaped_word">[docs]</a>    <span class="k">def</span> <span class="nf">scan_escaped_word</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="c1"># first, check for it in the keyword list</span>
        <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keywords</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;MARKUP&quot;</span><span class="p">:</span>
                <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">push_state</span><span class="p">(</span><span class="s2">&quot;markup&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">current_state</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;lyrics&quot;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="s2">&quot;LYRIC_MARKUP&quot;</span>
            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;WITH&quot;</span><span class="p">:</span>
                <span class="n">t</span><span class="o">.</span><span class="n">lexer</span><span class="o">.</span><span class="n">push_state</span><span class="p">(</span><span class="s2">&quot;INITIAL&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="n">identifier</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="c1"># check for the identifier in the scope stack</span>
        <span class="n">lookup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_identifier</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lookup</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">identifier_lookup</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;book_block&quot;</span><span class="p">:</span> <span class="s2">&quot;BOOK_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;bookpart_block&quot;</span><span class="p">:</span> <span class="s2">&quot;BOOK_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;context_def_spec_block&quot;</span><span class="p">:</span> <span class="s2">&quot;CONTEXT_DEF_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;context_modification&quot;</span><span class="p">:</span> <span class="s2">&quot;CONTEXT_MOD_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;post_event_nofinger&quot;</span><span class="p">:</span> <span class="s2">&quot;EVENT_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;full_markup&quot;</span><span class="p">:</span> <span class="s2">&quot;MARKUP_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;full_markup_list&quot;</span><span class="p">:</span> <span class="s2">&quot;MARKUPLINES_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;music&quot;</span><span class="p">:</span> <span class="s2">&quot;MUSIC_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;number_expression&quot;</span><span class="p">:</span> <span class="s2">&quot;NUMBER_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;output_def&quot;</span><span class="p">:</span> <span class="s2">&quot;output_DEF_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;embedded_scm&quot;</span><span class="p">:</span> <span class="s2">&quot;SCM_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;score_block&quot;</span><span class="p">:</span> <span class="s2">&quot;SCORE_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="s2">&quot;string&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING_IDENTIFIER&quot;</span><span class="p">,</span>
                <span class="c1"># &#39;PITCH_IDENTIFIER&#39; ?</span>
                <span class="c1"># &#39;DURATION_IDENTIFIER&#39; ?</span>
                <span class="c1"># &#39;LYRIC_MARKUP_IDENTIFIER&#39; ?</span>
            <span class="p">}</span>
            <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">lookup</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">identifier_lookup</span><span class="p">[</span><span class="n">lookup</span><span class="o">.</span><span class="n">type</span><span class="p">]</span>
        <span class="c1"># then, check for it in the current_module dictionary</span>
        <span class="c1"># which we&#39;ve dumped out of LilyPond</span>
        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;unknown escaped word: </span><span class="si">{</span><span class="n">t</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="n">lookup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span>
        <span class="c1"># if the lookup resolves to a function definition,</span>
        <span class="c1"># we have to push artificial tokens onto the token stack.</span>
        <span class="c1"># the tokens are pushed in reverse order (LIFO).</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lookup</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="n">lookup</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ly:music-function?&quot;</span><span class="p">:</span>
                <span class="n">signature</span> <span class="o">=</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;signature&quot;</span><span class="p">]</span>
                <span class="n">funtype</span> <span class="o">=</span> <span class="s2">&quot;SCM_FUNCTION&quot;</span>
                <span class="k">if</span> <span class="n">signature</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ly:music?&quot;</span><span class="p">:</span>
                    <span class="n">funtype</span> <span class="o">=</span> <span class="s2">&quot;MUSIC_FUNCTION&quot;</span>
                <span class="k">elif</span> <span class="n">signature</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ly:event?&quot;</span><span class="p">:</span>
                    <span class="n">funtype</span> <span class="o">=</span> <span class="s2">&quot;EVENT_FUNCTION&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">push_signature</span><span class="p">(</span><span class="n">signature</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">t</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">funtype</span>
            <span class="k">elif</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ly:prob?&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;event&quot;</span> <span class="ow">in</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="s2">&quot;EVENT_IDENTIFIER&quot;</span>
                <span class="k">elif</span> <span class="s2">&quot;context-specification&quot;</span> <span class="ow">in</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;types&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_guile</span><span class="p">,</span> <span class="n">identifier</span>
                <span class="p">):</span>
                    <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_guile</span><span class="p">,</span> <span class="n">identifier</span><span class="p">)()</span>
                    <span class="k">return</span> <span class="s2">&quot;MUSIC_IDENTIFIER&quot;</span>
        <span class="c1"># we also check for other types, to handle \longa, \breve etc.</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lookup</span><span class="p">,</span> <span class="n">LilyPondDuration</span><span class="p">):</span>
            <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">lookup</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;DURATION_IDENTIFIER&quot;</span>
        <span class="c1"># else...</span>
        <span class="n">t</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">lookup</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;SCM_IDENTIFIER&quot;</span></div>

<div class="viewcode-block" id="LilyPondLexicalDefinition.push_signature"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondLexicalDefinition.push_signature">[docs]</a>    <span class="k">def</span> <span class="nf">push_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">signature</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">lex</span><span class="o">.</span><span class="n">LexToken</span><span class="p">()</span>
        <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;EXPECT_NO_MORE_ARGS&quot;</span>
        <span class="n">token</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">token</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">lineno</span>
        <span class="n">token</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">lexpos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>

        <span class="n">optional</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">predicate</span> <span class="ow">in</span> <span class="n">signature</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">predicate</span> <span class="o">==</span> <span class="s2">&quot;optional?&quot;</span><span class="p">:</span>
                <span class="n">optional</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">continue</span>

            <span class="n">token</span> <span class="o">=</span> <span class="n">lex</span><span class="o">.</span><span class="n">LexToken</span><span class="p">()</span>
            <span class="n">token</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">predicate</span>
            <span class="n">token</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">lineno</span>
            <span class="n">token</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">lexpos</span>

            <span class="k">if</span> <span class="n">predicate</span> <span class="o">==</span> <span class="s2">&quot;ly:music?&quot;</span><span class="p">:</span>
                <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;EXPECT_SCM&quot;</span>  <span class="c1"># ?!?!</span>
            <span class="k">elif</span> <span class="n">predicate</span> <span class="o">==</span> <span class="s2">&quot;ly:pitch?&quot;</span><span class="p">:</span>
                <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;EXPECT_PITCH&quot;</span>
            <span class="k">elif</span> <span class="n">predicate</span> <span class="o">==</span> <span class="s2">&quot;ly:duration?&quot;</span><span class="p">:</span>
                <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;EXPECT_DURATION&quot;</span>
            <span class="k">elif</span> <span class="n">predicate</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;markup?&quot;</span><span class="p">,</span> <span class="s2">&quot;cheap-markup?&quot;</span><span class="p">]:</span>
                <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;EXPECT_MARKUP&quot;</span>
            <span class="k">elif</span> <span class="n">predicate</span> <span class="o">==</span> <span class="s2">&quot;markup-list?&quot;</span><span class="p">:</span>
                <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;EXPECT_MARKUP_LIST&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;EXPECT_SCM&quot;</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">optional</span><span class="p">:</span>
                <span class="n">optional_token</span> <span class="o">=</span> <span class="n">lex</span><span class="o">.</span><span class="n">LexToken</span><span class="p">()</span>
                <span class="n">optional_token</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;optional?&quot;</span>
                <span class="n">optional_token</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">lineno</span>
                <span class="n">optional_token</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">lexpos</span>
                <span class="n">optional_token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;EXPECT_OPTIONAL&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="n">optional_token</span><span class="p">)</span>
                <span class="n">optional</span> <span class="o">=</span> <span class="kc">False</span></div></div>


<span class="c1"># apply monkey patch</span>
<span class="n">ply</span><span class="o">.</span><span class="n">yacc</span><span class="o">.</span><span class="n">LRParser</span><span class="o">.</span><span class="n">_lilypond_patch_parse</span> <span class="o">=</span> <span class="n">_parse</span>
<span class="n">ply</span><span class="o">.</span><span class="n">yacc</span><span class="o">.</span><span class="n">LRParser</span><span class="o">.</span><span class="n">_lilypond_patch_parse_debug</span> <span class="o">=</span> <span class="n">_parse_debug</span>


<div class="viewcode-block" id="LilyPondParser"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser">[docs]</a><span class="k">class</span> <span class="nc">LilyPondParser</span><span class="p">(</span><span class="n">Parser</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A LilyPond syntax parser.</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        &gt;&gt;&gt; parser = abjad.parser.LilyPondParser()</span>
<span class="sd">        &gt;&gt;&gt; string = r&quot;\new Staff { c&#39;4 ( d&#39;8 e&#39; fs&#39;2) \fermata }&quot;</span>
<span class="sd">        &gt;&gt;&gt; staff = parser(string)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff) # doctest: +SKIP</span>

<span class="sd">        &gt;&gt;&gt; string = abjad.lilypond(staff)</span>
<span class="sd">        &gt;&gt;&gt; print(string)</span>
<span class="sd">        \new Staff</span>
<span class="sd">        {</span>
<span class="sd">            c&#39;4</span>
<span class="sd">            (</span>
<span class="sd">            d&#39;8</span>
<span class="sd">            e&#39;8</span>
<span class="sd">            fs&#39;2</span>
<span class="sd">            - \fermata</span>
<span class="sd">            )</span>
<span class="sd">        }</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        The LilyPond parser understands most spanners, articulations and</span>
<span class="sd">        dynamics:</span>

<span class="sd">        &gt;&gt;&gt; string = r&#39;&#39;&#39;</span>
<span class="sd">        ... \new Staff {</span>
<span class="sd">        ...     c&#39;8 \f \&gt; (</span>
<span class="sd">        ...     d&#39; -_ [</span>
<span class="sd">        ...     e&#39; ^&gt;</span>
<span class="sd">        ...     f&#39; \ppp \&lt;</span>
<span class="sd">        ...     g&#39; \startTrillSpan \(</span>
<span class="sd">        ...     a&#39; \)</span>
<span class="sd">        ...     b&#39; ] \stopTrillSpan</span>
<span class="sd">        ...     c&#39;&#39; ) \accent \sfz</span>
<span class="sd">        ... }</span>
<span class="sd">        ... &#39;&#39;&#39;</span>
<span class="sd">        &gt;&gt;&gt; staff = parser(string)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff) # doctest: +SKIP</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            &gt;&gt;&gt; string = abjad.lilypond(staff)</span>
<span class="sd">            &gt;&gt;&gt; print(string)</span>
<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                \f</span>
<span class="sd">                (</span>
<span class="sd">                \&gt;</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                - \portato</span>
<span class="sd">                [</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                ^ \accent</span>
<span class="sd">                f&#39;8</span>
<span class="sd">                \ppp</span>
<span class="sd">                \&lt;</span>
<span class="sd">                g&#39;8</span>
<span class="sd">                \(</span>
<span class="sd">                \startTrillSpan</span>
<span class="sd">                a&#39;8</span>
<span class="sd">                \)</span>
<span class="sd">                b&#39;8</span>
<span class="sd">                \stopTrillSpan</span>
<span class="sd">                ]</span>
<span class="sd">                c&#39;&#39;8</span>
<span class="sd">                - \accent</span>
<span class="sd">                \sfz</span>
<span class="sd">                )</span>
<span class="sd">            }</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        The LilyPond parser understands contexts and markup:</span>

<span class="sd">        &gt;&gt;&gt; string = r&#39;&#39;&#39;\new Score &lt;&lt;</span>
<span class="sd">        ...     \new Staff = &quot;Treble Staff&quot; {</span>
<span class="sd">        ...         \new Voice = &quot;Treble Voice&quot; {</span>
<span class="sd">        ...             c&#39; ^\markup { \bold Treble! }</span>
<span class="sd">        ...         }</span>
<span class="sd">        ...     }</span>
<span class="sd">        ...     \new Staff = &quot;Bass Staff&quot; {</span>
<span class="sd">        ...         \new Voice = &quot;Bass Voice&quot; {</span>
<span class="sd">        ...             \clef bass</span>
<span class="sd">        ...             c, _\markup { \italic Bass! }</span>
<span class="sd">        ...         }</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... &gt;&gt;</span>
<span class="sd">        ... &#39;&#39;&#39;</span>
<span class="sd">        &gt;&gt;&gt; score = parser(string)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(score) # doctest: +SKIP</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            &gt;&gt;&gt; string = abjad.lilypond(score)</span>
<span class="sd">            &gt;&gt;&gt; print(string)</span>
<span class="sd">            \new Score</span>
<span class="sd">            &lt;&lt;</span>
<span class="sd">                \context Staff = &quot;Treble Staff&quot;</span>
<span class="sd">                {</span>
<span class="sd">                    \context Voice = &quot;Treble Voice&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        c&#39;4</span>
<span class="sd">                        ^ \markup {</span>
<span class="sd">                            \bold</span>
<span class="sd">                                Treble!</span>
<span class="sd">                            }</span>
<span class="sd">                    }</span>
<span class="sd">                }</span>
<span class="sd">                \context Staff = &quot;Bass Staff&quot;</span>
<span class="sd">                {</span>
<span class="sd">                    \context Voice = &quot;Bass Voice&quot;</span>
<span class="sd">                    {</span>
<span class="sd">                        \clef &quot;bass&quot;</span>
<span class="sd">                        c,4</span>
<span class="sd">                        _ \markup {</span>
<span class="sd">                            \italic</span>
<span class="sd">                                Bass!</span>
<span class="sd">                            }</span>
<span class="sd">                    }</span>
<span class="sd">                }</span>
<span class="sd">            &gt;&gt;</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        The LilyPond parser also understands certain aspects of LilyPond file</span>
<span class="sd">        layouts, such as header blocks:</span>

<span class="sd">        &gt;&gt;&gt; string = r&#39;&#39;&#39;</span>
<span class="sd">        ... \header {</span>
<span class="sd">        ...     composer = \markup { by \bold &quot;Foo von Bar&quot; }</span>
<span class="sd">        ...     title = \markup { The ballad of Foo von Bar }</span>
<span class="sd">        ...     tagline = \markup { &quot;&quot; }</span>
<span class="sd">        ... }</span>
<span class="sd">        ... \score {</span>
<span class="sd">        ...     \new Staff {</span>
<span class="sd">        ...         \time 3/4</span>
<span class="sd">        ...         g&#39; ( b&#39; d&#39;&#39; )</span>
<span class="sd">        ...         e&#39;&#39;4. ( c&#39;&#39;8 c&#39;4 )</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... }</span>
<span class="sd">        ... &#39;&#39;&#39;</span>
<span class="sd">        &gt;&gt;&gt; blocks = parser(string)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(blocks) # doctest: +SKIP</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            &gt;&gt;&gt; string = abjad.lilypond(blocks) # doctest: +SKIP</span>
<span class="sd">            &gt;&gt;&gt; print(string) # doctest: +SKIP</span>
<span class="sd">            % 2017-07-11 15:13</span>
<span class="sd">            &lt;BLANKLINE&gt;</span>
<span class="sd">            \version &quot;2.19.63&quot;</span>
<span class="sd">            \language &quot;english&quot;</span>
<span class="sd">            &lt;BLANKLINE&gt;</span>
<span class="sd">            \header {</span>
<span class="sd">                composername = \markup {</span>
<span class="sd">                    Foo</span>
<span class="sd">                    van</span>
<span class="sd">                    Bar</span>
<span class="sd">                    }</span>
<span class="sd">                composer = \markup {</span>
<span class="sd">                    by</span>
<span class="sd">                    \bold</span>
<span class="sd">                        &quot;Foo von Bar&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                title = \markup {</span>
<span class="sd">                    The</span>
<span class="sd">                    ballad</span>
<span class="sd">                    of</span>
<span class="sd">                    &quot;Foo von Bar&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                tagline = \markup {}</span>
<span class="sd">            }</span>
<span class="sd">            &lt;BLANKLINE&gt;</span>
<span class="sd">            \score {</span>
<span class="sd">                \new Staff {</span>
<span class="sd">                    \time 3/4</span>
<span class="sd">                    g&#39;4 (</span>
<span class="sd">                    b&#39;4</span>
<span class="sd">                    d&#39;&#39;4 )</span>
<span class="sd">                    e&#39;&#39;4. (</span>
<span class="sd">                    c&#39;&#39;8</span>
<span class="sd">                    c&#39;4 )</span>
<span class="sd">                }</span>
<span class="sd">            }</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        The LilyPond parser supports a small number of LilyPond music</span>
<span class="sd">        functions, such as \relative and \transpose.</span>

<span class="sd">        ..  note::</span>

<span class="sd">            Music functions which mutate the score during compilation result in a</span>
<span class="sd">            normalized Abjad score structure. The resulting structure corresponds</span>
<span class="sd">            to the music as it appears on the page, rather than as it was input to</span>
<span class="sd">            the parser:</span>

<span class="sd">        &gt;&gt;&gt; string = r&#39;&#39;&#39;</span>
<span class="sd">        ... \new Staff \relative c {</span>
<span class="sd">        ...     c32 d e f g a b c d e f g a b c d e f g a b c</span>
<span class="sd">        ... }</span>
<span class="sd">        ... &#39;&#39;&#39;</span>
<span class="sd">        &gt;&gt;&gt; staff = parser(string)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff) # doctest: +SKIP</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            &gt;&gt;&gt; string = abjad.lilypond(staff)</span>
<span class="sd">            &gt;&gt;&gt; print(string)</span>
<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                c32</span>
<span class="sd">                d32</span>
<span class="sd">                e32</span>
<span class="sd">                f32</span>
<span class="sd">                g32</span>
<span class="sd">                a32</span>
<span class="sd">                b32</span>
<span class="sd">                c&#39;32</span>
<span class="sd">                d&#39;32</span>
<span class="sd">                e&#39;32</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                g&#39;32</span>
<span class="sd">                a&#39;32</span>
<span class="sd">                b&#39;32</span>
<span class="sd">                c&#39;&#39;32</span>
<span class="sd">                d&#39;&#39;32</span>
<span class="sd">                e&#39;&#39;32</span>
<span class="sd">                f&#39;&#39;32</span>
<span class="sd">                g&#39;&#39;32</span>
<span class="sd">                a&#39;&#39;32</span>
<span class="sd">                b&#39;&#39;32</span>
<span class="sd">                c&#39;&#39;&#39;32</span>
<span class="sd">            }</span>

<span class="sd">    ..  container:: example</span>

<span class="sd">        The LilyPond parser defaults to English note names, but any of the</span>
<span class="sd">        other languages supported by LilyPond may be used:</span>

<span class="sd">        &gt;&gt;&gt; parser = abjad.parser.LilyPondParser(&#39;nederlands&#39;)</span>
<span class="sd">        &gt;&gt;&gt; string = &#39;{ c des e fis }&#39;</span>
<span class="sd">        &gt;&gt;&gt; container = parser(string)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(container) # doctest: +SKIP</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            &gt;&gt;&gt; string = abjad.lilypond(container)</span>
<span class="sd">            &gt;&gt;&gt; print(string)</span>
<span class="sd">            {</span>
<span class="sd">                c4</span>
<span class="sd">                df4</span>
<span class="sd">                e4</span>
<span class="sd">                fs4</span>
<span class="sd">            }</span>

<span class="sd">    Briefly, LilyPondParser understands theses aspects of LilyPond syntax:</span>

<span class="sd">    - Notes, chords, rests, skips and multi-measure rests</span>
<span class="sd">    - Durations, dots, and multipliers</span>
<span class="sd">    - All pitchnames, and octave ticks</span>
<span class="sd">    - Simple markup (i.e. ``c&#39;4 ^ &quot;hello!&quot;``)</span>
<span class="sd">    - Most articulations</span>
<span class="sd">    - Most spanners, incl. beams, slurs, phrasing slurs, ties, and glissandi</span>
<span class="sd">    - Most context types via ``\new`` and ``\context``,</span>
<span class="sd">      as well as context ids (i.e. ``\new Staff = &quot;foo&quot; { }``)</span>
<span class="sd">    - Variable assigns (ie ``global = { \time 3/4 } \new Staff { \global }``)</span>
<span class="sd">    - Many music functions:</span>
<span class="sd">        - ``\acciaccatura``</span>
<span class="sd">        - ``\appoggiatura``</span>
<span class="sd">        - ``\bar``</span>
<span class="sd">        - ``\breathe``</span>
<span class="sd">        - ``\clef``</span>
<span class="sd">        - ``\grace``</span>
<span class="sd">        - ``\key``</span>
<span class="sd">        - ``\transpose``</span>
<span class="sd">        - ``\language``</span>
<span class="sd">        - ``\makeClusters``</span>
<span class="sd">        - ``\mark``</span>
<span class="sd">        - ``\oneVoice``</span>
<span class="sd">        - ``\relative``</span>
<span class="sd">        - ``\skip``</span>
<span class="sd">        - ``\slashedGrace``</span>
<span class="sd">        - ``\time``</span>
<span class="sd">        - ``\times``</span>
<span class="sd">        - ``\transpose``</span>
<span class="sd">        - ``\tuplet``</span>
<span class="sd">        - ``\voiceOne``, ``\voiceTwo``, ``\voiceThree``, ``\voiceFour``</span>

<span class="sd">    LilyPondParser currently **DOES NOT** understand many other aspects</span>
<span class="sd">    of LilyPond syntax:</span>

<span class="sd">    - ``\markup``</span>
<span class="sd">    - ``\book``, ``\bookpart``, ``\header``, ``\layout``, ``\midi``, ``\paper``</span>
<span class="sd">    - ``\repeat`` and ``\alternative``</span>
<span class="sd">    - Lyrics</span>
<span class="sd">    - ``\chordmode``, ``\drummode`` or ``\figuremode``</span>
<span class="sd">    - Property operations, such as ``\override``,</span>
<span class="sd">      ``\revert``, ``\set``, ``\unset``, and ``\once``</span>
<span class="sd">    - Music functions which generate or extensively mutate musical structures</span>
<span class="sd">    - Embedded Scheme statements (anything beginning with ``#``)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;_chord_pitch_orders&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_current_module&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_default_duration&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_default_language&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_guile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_language_pitch_names&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_last_chord&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_lexdef&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_markup_functions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_markup_list_functions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_pitch_names&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_repeated_chords&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_scope_stack&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_syndef&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tag&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default_language</span><span class="o">=</span><span class="s2">&quot;english&quot;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="c1"># LilyPond emulation data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guile</span> <span class="o">=</span> <span class="n">GuileProxy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_module</span> <span class="o">=</span> <span class="n">_lyenv</span><span class="o">.</span><span class="n">current_module</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_language_pitch_names</span> <span class="o">=</span> <span class="n">_lyenv</span><span class="o">.</span><span class="n">language_pitch_names</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_markup_functions</span> <span class="o">=</span> <span class="n">_lyenv</span><span class="o">.</span><span class="n">markup_functions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_markup_list_functions</span> <span class="o">=</span> <span class="n">_lyenv</span><span class="o">.</span><span class="n">markup_list_functions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_language</span> <span class="o">=</span> <span class="n">default_language</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>

        <span class="c1"># attach parser and lexer rules</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lexdef</span> <span class="o">=</span> <span class="n">LilyPondLexicalDefinition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_syndef</span> <span class="o">=</span> <span class="n">LilyPondSyntacticalDefinition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">)</span>

        <span class="c1"># build PLY parser and lexer</span>
        <span class="n">Parser</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_reset_parser_variables</span><span class="p">()</span>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="LilyPondParser.__call__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_string</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls LilyPond parser on ``input_string``.</span>

<span class="sd">        Returns Abjad components.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_reset_parser_variables</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_debug</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">_lilypond_patch_parse_debug</span><span class="p">(</span>
                <span class="n">input_string</span><span class="p">,</span> <span class="n">lexer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_lexer</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_logger</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">_lilypond_patch_parse</span><span class="p">(</span><span class="n">input_string</span><span class="p">,</span> <span class="n">lexer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_lexer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>

    <span class="c1">### PRIVATE METHODS ###</span>

    <span class="k">def</span> <span class="nf">_assign_variable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scope_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_backup_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token_type</span><span class="p">,</span> <span class="n">token_value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_debug</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extra  : Backing up&quot;</span><span class="p">)</span>

        <span class="c1"># push the current lookahead back onto the lookaheadstack</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>

        <span class="c1"># create the backup token, set as new lookahead</span>
        <span class="n">backup</span> <span class="o">=</span> <span class="n">ply</span><span class="o">.</span><span class="n">lex</span><span class="o">.</span><span class="n">LexToken</span><span class="p">()</span>
        <span class="n">backup</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;BACKUP&quot;</span>
        <span class="n">backup</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;(backed-up?)&quot;</span>
        <span class="n">backup</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">backup</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">backup</span>

        <span class="k">if</span> <span class="n">token_type</span><span class="p">:</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">ply</span><span class="o">.</span><span class="n">lex</span><span class="o">.</span><span class="n">LexToken</span><span class="p">()</span>
            <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">token_type</span>
            <span class="n">token</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">token_value</span>
            <span class="n">token</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">token</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_construct_context_specced_music</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">optional_id</span><span class="p">,</span> <span class="n">optional_context_mod</span><span class="p">,</span> <span class="n">music</span>
    <span class="p">):</span>
        <span class="n">known_contexts</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ChoirStaff&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">StaffGroup</span><span class="p">,</span>
            <span class="s2">&quot;GrandStaff&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">StaffGroup</span><span class="p">,</span>
            <span class="s2">&quot;PianoStaff&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">StaffGroup</span><span class="p">,</span>
            <span class="s2">&quot;Score&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">Score</span><span class="p">,</span>
            <span class="s2">&quot;Staff&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">Staff</span><span class="p">,</span>
            <span class="s2">&quot;StaffGroup&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">StaffGroup</span><span class="p">,</span>
            <span class="s2">&quot;Voice&quot;</span><span class="p">:</span> <span class="n">_score</span><span class="o">.</span><span class="n">Voice</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">lilypond_type</span> <span class="o">=</span> <span class="n">context</span>
        <span class="k">if</span> <span class="n">context</span> <span class="ow">in</span> <span class="n">known_contexts</span><span class="p">:</span>
            <span class="n">context</span> <span class="o">=</span> <span class="n">known_contexts</span><span class="p">[</span><span class="n">context</span><span class="p">]([])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;context type </span><span class="si">{</span><span class="n">context</span><span class="si">!r}</span><span class="s2"> not supported.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lilypond_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;GrandStaff&quot;</span><span class="p">,</span> <span class="s2">&quot;PianoStaff&quot;</span><span class="p">):</span>
            <span class="n">context</span><span class="o">.</span><span class="n">lilypond_type</span> <span class="o">=</span> <span class="n">lilypond_type</span>
        <span class="k">if</span> <span class="n">optional_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">context</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">optional_id</span>
        <span class="k">if</span> <span class="n">optional_context_mod</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">optional_context_mod</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="c1"># TODO: impelement context mods on contexts</span>
            <span class="k">pass</span>
        <span class="n">context</span><span class="o">.</span><span class="n">simultaneous</span> <span class="o">=</span> <span class="n">music</span><span class="o">.</span><span class="n">simultaneous</span>
        <span class="c1"># add children</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">music</span><span class="p">):</span>
            <span class="n">component</span> <span class="o">=</span> <span class="n">music</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">component</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">wrapper</span> <span class="ow">in</span> <span class="n">music</span><span class="o">.</span><span class="n">_wrappers</span><span class="p">:</span>
            <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">wrapper</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">context</span>

    <span class="k">def</span> <span class="nf">_construct_sequential_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="c1"># indicator sorting could be rewritten into a single list using tuples</span>
        <span class="c1"># with t[0] being &#39;forward&#39; or &#39;backward&#39; and t[1] being the indicator</span>
        <span class="c1"># as this better preserves attachment order. Not clear if we need it.</span>
        <span class="n">container</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="n">previous_leaf</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">apply_forward</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">apply_backward</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># sort events into forward or backwards attaching</span>
        <span class="c1"># and attach them to the proper leaf</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">music</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Component</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">BeforeGraceContainer</span>
            <span class="p">):</span>
                <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">apply_forward</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
                    <span class="k">except</span> <span class="n">_exceptions</span><span class="o">.</span><span class="n">MissingContextError</span><span class="p">:</span>
                        <span class="n">score</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Score</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">simultaneous</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                        <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
                        <span class="n">score</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">previous_leaf</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">apply_backward</span><span class="p">:</span>
                        <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">previous_leaf</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">apply_backward</span><span class="p">:</span>
                        <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
                <span class="n">apply_forward</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">apply_backward</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">previous_leaf</span> <span class="o">=</span> <span class="n">x</span>
                <span class="n">container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">BarLine</span><span class="p">):</span>
                    <span class="n">apply_backward</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">LilyPondLiteral</span><span class="p">)</span> <span class="ow">and</span> <span class="n">x</span><span class="o">.</span><span class="n">argument</span> <span class="ow">in</span> <span class="p">(</span>
                    <span class="sa">r</span><span class="s2">&quot;\break&quot;</span><span class="p">,</span>
                    <span class="sa">r</span><span class="s2">&quot;\breathe&quot;</span><span class="p">,</span>
                    <span class="sa">r</span><span class="s2">&quot;\pageBreak&quot;</span><span class="p">,</span>
                <span class="p">):</span>
                    <span class="n">apply_backward</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">apply_forward</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="c1"># attach remaining events to last leaf</span>
        <span class="c1"># or to the container itself if there were no leaves</span>
        <span class="k">if</span> <span class="n">previous_leaf</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">apply_forward</span><span class="p">:</span>
                <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">previous_leaf</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">apply_backward</span><span class="p">:</span>
                <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">previous_leaf</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">apply_forward</span><span class="p">:</span>
                <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">container</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">apply_backward</span><span class="p">:</span>
                <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">container</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">container</span>

    <span class="k">def</span> <span class="nf">_construct_simultaneous_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">music</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">is_separator</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">LilyPondEvent</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;VoiceSeparator&quot;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">container</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="n">container</span><span class="o">.</span><span class="n">simultaneous</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># check for voice separators</span>
        <span class="n">groups</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">value</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">music</span><span class="p">,</span> <span class="n">is_separator</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">group</span><span class="p">))</span>
        <span class="c1"># without voice separators</span>
        <span class="k">if</span> <span class="mi">1</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">groups</span><span class="p">):</span>
            <span class="c1"># assert all(isinstance(x, _score.Context) for x in groups[0])</span>
            <span class="n">container</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">groups</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="c1"># with voice separators</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
                <span class="n">container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">_score</span><span class="o">.</span><span class="n">Voice</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_construct_sequential_music</span><span class="p">(</span><span class="n">group</span><span class="p">)[:],</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span>
                    <span class="p">)</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">container</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_scheme_predicates</span><span class="p">(</span><span class="n">class_</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;boolean?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">bool</span><span class="p">),</span>
            <span class="s2">&quot;cheap-list?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">),</span>
            <span class="s2">&quot;cheap-markup?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">MarkupCommand</span><span class="p">),</span>
            <span class="s2">&quot;fraction?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">LilyPondFraction</span><span class="p">),</span>
            <span class="s2">&quot;integer?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span>
            <span class="s2">&quot;list?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">),</span>
            <span class="s2">&quot;ly:duration?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">LilyPondDuration</span><span class="p">),</span>
            <span class="s2">&quot;ly:music?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Component</span><span class="p">),</span>
            <span class="s2">&quot;ly:pitch?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">),</span>
            <span class="s2">&quot;markup?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">MarkupCommand</span><span class="p">),</span>
            <span class="s2">&quot;number-list?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">),</span>
            <span class="s2">&quot;number?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">),</span>
            <span class="s2">&quot;real?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">),</span>
            <span class="s2">&quot;string?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span>
            <span class="s2">&quot;void?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
            <span class="c1"># the following predicates have not yet been implemented in Abjad</span>
            <span class="s2">&quot;hash-table?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;list-or-symbol?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;ly:dir?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;ly:moment?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;number-or-string?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;number-pair?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;optional?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;pair?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;procedure?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;scheme?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;string-or-pair?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;symbol-or-boolean?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;symbol?&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_pop_variable_scope</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope_stack</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scope_stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_process_post_events</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leaf</span><span class="p">,</span> <span class="n">post_events</span><span class="p">):</span>
        <span class="n">prototype</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">_dynamic</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">BarLine</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">Glissando</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">LilyPondLiteral</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">Markup</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StartBeam</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StartGroup</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StartHairpin</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StartPhrasingSlur</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StartSlur</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StartTextSpan</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StartTrillSpan</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StemTremolo</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StopBeam</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StopGroup</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StopHairpin</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StopPhrasingSlur</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StopSlur</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StopTextSpan</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">StopTrillSpan</span><span class="p">,</span>
            <span class="n">_indicators</span><span class="o">.</span><span class="n">Tie</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">post_event</span> <span class="ow">in</span> <span class="n">post_events</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post_event</span><span class="p">,</span> <span class="n">prototype</span><span class="p">):</span>
                <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">post_event</span><span class="p">,</span> <span class="n">leaf</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post_event</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post_event</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">prototype</span><span class="p">):</span>
                <span class="n">indicator</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">post_event</span>
                <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">leaf</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_push_extra_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookaheadstack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_push_variable_scope</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scope_stack</span><span class="o">.</span><span class="n">append</span><span class="p">({})</span>

    <span class="k">def</span> <span class="nf">_relex_lookahead</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;$end&quot;</span><span class="p">:</span>
            <span class="n">difference</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lexer</span><span class="o">.</span><span class="n">lexpos</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lexer</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="n">difference</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_reparse_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">token_type</span><span class="p">,</span> <span class="n">token_value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_debug</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extra  : Reparsing&quot;</span><span class="p">)</span>

        <span class="c1"># push the current lookahead back onto the lookaheadstack</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>

        <span class="n">token</span> <span class="o">=</span> <span class="n">ply</span><span class="o">.</span><span class="n">lex</span><span class="o">.</span><span class="n">LexToken</span><span class="p">()</span>
        <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">token_type</span>
        <span class="n">token</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">token_value</span>
        <span class="n">token</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">token</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>

        <span class="n">reparse</span> <span class="o">=</span> <span class="n">ply</span><span class="o">.</span><span class="n">lex</span><span class="o">.</span><span class="n">LexToken</span><span class="p">()</span>
        <span class="n">reparse</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;REPARSE&quot;</span>
        <span class="n">reparse</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">predicate</span>
        <span class="n">reparse</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">reparse</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="n">reparse</span>

    <span class="k">def</span> <span class="nf">_reset_parser_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">restart</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scope_stack</span> <span class="o">=</span> <span class="p">[{}]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_chord_pitch_orders</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lexer</span><span class="o">.</span><span class="n">push_state</span><span class="p">(</span><span class="s2">&quot;notes&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_duration</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_last_chord</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># LilyPond&#39;s default!</span>
        <span class="c1"># self._last_chord = _score.Chord([&#39;c&#39;, &#39;g&#39;, &quot;c&#39;&quot;], (1, 4))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pitch_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_language_pitch_names</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_language</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_repeated_chords</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_resolve_event_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">):</span>
        <span class="c1"># without leading slash</span>
        <span class="n">lookup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;ArticulationEvent&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">(</span><span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;articulation-type&quot;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;AbsoluteDynamicEvent&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_dynamic</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">(</span><span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;BeamEvent&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StartBeam</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StopBeam</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;CrescendoEvent&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StartHairpin</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StopHairpin</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;DecrescendoEvent&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StartHairpin</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StopHairpin</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;GlissandoEvent&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Glissando</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;LaissezVibrerEvent&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">LilyPondLiteral</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\laissezVibrer&quot;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;LineBreakEvent&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">LilyPondLiteral</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\break&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;NoteGroupingEvent&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StartGroup</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StopGroup</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;PhrasingSlurEvent&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StartPhrasingSlur</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StopPhrasingSlur</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;SlurEvent&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StartSlur</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StopSlur</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;TextSpanEvent&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StartTextSpan</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StopTextSpan</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;TieEvent&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Tie</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;TrillSpanEvent&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StartTrillSpan</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StopTrillSpan</span><span class="p">()</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">LilyPondEvent</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;span-direction&quot;</span> <span class="ow">in</span> <span class="n">lookup</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lookup</span><span class="p">[</span><span class="s2">&quot;span-direction&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">event</span><span class="o">.</span><span class="n">span_direction</span> <span class="o">=</span> <span class="s2">&quot;start&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">event</span><span class="o">.</span><span class="n">span_direction</span> <span class="o">=</span> <span class="s2">&quot;stop&quot;</span>
        <span class="k">return</span> <span class="n">event</span>

    <span class="k">def</span> <span class="nf">_resolve_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">scope</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scope_stack</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">scope</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">scope</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_test_scheme_predicate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">predicates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_scheme_predicates</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">predicate</span> <span class="ow">in</span> <span class="n">predicates</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">predicates</span><span class="p">[</span><span class="n">predicate</span><span class="p">](</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_transpose_enharmonically</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">,</span> <span class="n">pitch_c</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transpose ``pitch_c`` by the distance between ``pitch_b``</span>
<span class="sd">        and ``pitch_a1``.</span>

<span class="sd">        This function was reverse-engineered from LilyPond&#39;s source code.</span>

<span class="sd">        Returns named pitch.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">normalize_alteration</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">alteration</span><span class="p">):</span>
            <span class="k">while</span> <span class="mf">2.0</span> <span class="o">&lt;</span> <span class="n">alteration</span><span class="p">:</span>
                <span class="n">alteration</span> <span class="o">-=</span> <span class="n">step_size</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
                <span class="n">step</span> <span class="o">+=</span> <span class="mf">1.0</span>
            <span class="k">while</span> <span class="n">alteration</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">:</span>
                <span class="n">step</span> <span class="o">-=</span> <span class="mf">1.0</span>
                <span class="n">alteration</span> <span class="o">+=</span> <span class="n">step_size</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">step</span><span class="p">,</span> <span class="n">alteration</span>

        <span class="k">def</span> <span class="nf">normalize_octave</span><span class="p">(</span><span class="n">octave</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
            <span class="n">normalized_step</span> <span class="o">=</span> <span class="n">step</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
            <span class="n">octave</span> <span class="o">+=</span> <span class="p">(</span><span class="n">step</span> <span class="o">-</span> <span class="n">normalized_step</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">octave</span><span class="p">,</span> <span class="n">normalized_step</span>

        <span class="k">def</span> <span class="nf">step_size</span><span class="p">(</span><span class="n">step</span><span class="p">):</span>
            <span class="n">normalized_step</span> <span class="o">=</span> <span class="n">step</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">normalized_step</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">1.0</span>  <span class="c1"># b to c</span>
            <span class="k">return</span> <span class="n">scale</span><span class="p">[</span><span class="n">normalized_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">scale</span><span class="p">[</span><span class="n">normalized_step</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">,</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">):</span>
            <span class="n">pitch_a</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pitch_b</span><span class="p">,</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">):</span>
            <span class="n">pitch_b</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">pitch_b</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pitch_c</span><span class="p">,</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">):</span>
            <span class="n">pitch_c</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">pitch_c</span><span class="p">)</span>
        <span class="n">scale</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">]</span>
        <span class="n">a_oct</span><span class="p">,</span> <span class="n">a_step</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">pitch_a</span><span class="o">.</span><span class="n">octave</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
            <span class="n">pitch_a</span><span class="o">.</span><span class="n">_get_diatonic_pc_number</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">b_oct</span><span class="p">,</span> <span class="n">b_step</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">pitch_b</span><span class="o">.</span><span class="n">octave</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
            <span class="n">pitch_b</span><span class="o">.</span><span class="n">_get_diatonic_pc_number</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">c_oct</span><span class="p">,</span> <span class="n">c_step</span><span class="p">,</span> <span class="n">c_alt</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">pitch_c</span><span class="o">.</span><span class="n">octave</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
            <span class="n">pitch_c</span><span class="o">.</span><span class="n">_get_diatonic_pc_number</span><span class="p">(),</span>
            <span class="n">pitch_c</span><span class="o">.</span><span class="n">accidental</span><span class="o">.</span><span class="n">semitones</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">d_oct</span><span class="p">,</span> <span class="n">d_step</span><span class="p">,</span> <span class="n">d_tones</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">b_oct</span> <span class="o">-</span> <span class="n">a_oct</span><span class="p">,</span>
            <span class="n">b_step</span> <span class="o">-</span> <span class="n">a_step</span><span class="p">,</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">pitch_b</span><span class="o">.</span><span class="n">number</span><span class="p">)</span> <span class="o">-</span> <span class="nb">float</span><span class="p">(</span><span class="n">pitch_a</span><span class="o">.</span><span class="n">number</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">tmp_alt</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">pitch_c</span><span class="o">.</span><span class="n">number</span><span class="p">)</span> <span class="o">+</span> <span class="n">d_tones</span>
        <span class="c1"># print &#39;TMP_ALT: %f&#39; % tmp_alt</span>
        <span class="n">new_oct</span> <span class="o">=</span> <span class="n">c_oct</span> <span class="o">+</span> <span class="n">d_oct</span>
        <span class="n">new_step</span> <span class="o">=</span> <span class="n">c_step</span> <span class="o">+</span> <span class="n">d_step</span>
        <span class="n">new_alt</span> <span class="o">=</span> <span class="n">c_alt</span>
        <span class="c1"># print &#39;NEW:&#39;, new_oct, new_step, new_alt</span>
        <span class="n">new_step</span><span class="p">,</span> <span class="n">new_alt</span> <span class="o">=</span> <span class="n">normalize_alteration</span><span class="p">(</span><span class="n">new_step</span><span class="p">,</span> <span class="n">new_alt</span><span class="p">)</span>
        <span class="n">new_oct</span><span class="p">,</span> <span class="n">new_step</span> <span class="o">=</span> <span class="n">normalize_octave</span><span class="p">(</span><span class="n">new_oct</span><span class="p">,</span> <span class="n">new_step</span><span class="p">)</span>
        <span class="c1"># print &#39;NEW(norm):&#39;, new_oct, new_step, new_alt</span>
        <span class="n">octave_ticks</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">Octave</span><span class="p">(</span><span class="n">new_oct</span><span class="p">)</span><span class="o">.</span><span class="n">ticks</span>
        <span class="n">pitch_class_name</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">_diatonic_pc_number_to_diatonic_pc_name</span><span class="p">[</span><span class="n">new_step</span> <span class="o">%</span> <span class="mi">7</span><span class="p">]</span>
        <span class="n">accidental</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">_pitch</span><span class="o">.</span><span class="n">Accidental</span><span class="p">(</span><span class="n">new_alt</span><span class="p">))</span>
        <span class="n">tmp_pitch</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">pitch_class_name</span> <span class="o">+</span> <span class="n">accidental</span> <span class="o">+</span> <span class="n">octave_ticks</span><span class="p">)</span>
        <span class="c1"># print &#39;TMP(pitch): %r&#39; % tmp_pitch</span>
        <span class="n">new_alt</span> <span class="o">+=</span> <span class="n">tmp_alt</span> <span class="o">-</span> <span class="nb">float</span><span class="p">(</span><span class="n">tmp_pitch</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
        <span class="c1"># print &#39;NEW(alt): %f&#39; % new_alt</span>
        <span class="n">new_step</span><span class="p">,</span> <span class="n">new_alt</span> <span class="o">=</span> <span class="n">normalize_alteration</span><span class="p">(</span><span class="n">new_step</span><span class="p">,</span> <span class="n">new_alt</span><span class="p">)</span>
        <span class="n">new_oct</span><span class="p">,</span> <span class="n">new_step</span> <span class="o">=</span> <span class="n">normalize_octave</span><span class="p">(</span><span class="n">new_oct</span><span class="p">,</span> <span class="n">new_step</span><span class="p">)</span>
        <span class="c1"># print &#39;NEW(norm):&#39;, new_oct, new_step, new_alt</span>
        <span class="n">octave_ticks</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">Octave</span><span class="p">(</span><span class="n">new_oct</span><span class="p">)</span><span class="o">.</span><span class="n">ticks</span>
        <span class="n">pitch_class_name</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">_diatonic_pc_number_to_diatonic_pc_name</span><span class="p">[</span><span class="n">new_step</span> <span class="o">%</span> <span class="mi">7</span><span class="p">]</span>
        <span class="n">accidental</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">_pitch</span><span class="o">.</span><span class="n">Accidental</span><span class="p">(</span><span class="n">new_alt</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">pitch_class_name</span> <span class="o">+</span> <span class="n">accidental</span> <span class="o">+</span> <span class="n">octave_ticks</span><span class="p">)</span>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="LilyPondParser.list_known_contexts"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser.list_known_contexts">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">list_known_contexts</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lists all LilyPond contexts recognized by LilyPond parser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; class_ = abjad.parser.LilyPondParser</span>
<span class="sd">            &gt;&gt;&gt; for context in class_.list_known_contexts():</span>
<span class="sd">            ...     print(context)</span>
<span class="sd">            ...</span>
<span class="sd">            ChoirStaff</span>
<span class="sd">            ChordNames</span>
<span class="sd">            CueVoice</span>
<span class="sd">            Devnull</span>
<span class="sd">            DrumStaff</span>
<span class="sd">            DrumVoice</span>
<span class="sd">            Dynamics</span>
<span class="sd">            FiguredBass</span>
<span class="sd">            FretBoards</span>
<span class="sd">            Global</span>
<span class="sd">            GrandStaff</span>
<span class="sd">            GregorianTranscriptionStaff</span>
<span class="sd">            GregorianTranscriptionVoice</span>
<span class="sd">            KievanStaff</span>
<span class="sd">            KievanVoice</span>
<span class="sd">            Lyrics</span>
<span class="sd">            MensuralStaff</span>
<span class="sd">            MensuralVoice</span>
<span class="sd">            NoteNames</span>
<span class="sd">            NullVoice</span>
<span class="sd">            OneStaff</span>
<span class="sd">            PetrucciStaff</span>
<span class="sd">            PetrucciVoice</span>
<span class="sd">            PianoStaff</span>
<span class="sd">            RhythmicStaff</span>
<span class="sd">            Score</span>
<span class="sd">            Staff</span>
<span class="sd">            StaffGroup</span>
<span class="sd">            TabStaff</span>
<span class="sd">            TabVoice</span>
<span class="sd">            VaticanaStaff</span>
<span class="sd">            VaticanaVoice</span>
<span class="sd">            Voice</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">_lyenv</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>

<div class="viewcode-block" id="LilyPondParser.list_known_dynamics"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser.list_known_dynamics">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">list_known_dynamics</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lists all dynamics recognized by LilyPond parser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; class_ = abjad.parser.LilyPondParser</span>
<span class="sd">            &gt;&gt;&gt; for dynamic in class_.list_known_dynamics():</span>
<span class="sd">            ...     print(dynamic)</span>
<span class="sd">            ...</span>
<span class="sd">            f</span>
<span class="sd">            ff</span>
<span class="sd">            fff</span>
<span class="sd">            ffff</span>
<span class="sd">            fffff</span>
<span class="sd">            fp</span>
<span class="sd">            fz</span>
<span class="sd">            mf</span>
<span class="sd">            mp</span>
<span class="sd">            p</span>
<span class="sd">            pp</span>
<span class="sd">            ppp</span>
<span class="sd">            pppp</span>
<span class="sd">            ppppp</span>
<span class="sd">            rfz</span>
<span class="sd">            sf</span>
<span class="sd">            sff</span>
<span class="sd">            sfp</span>
<span class="sd">            sfz</span>
<span class="sd">            sp</span>
<span class="sd">            spp</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">_lyenv</span><span class="o">.</span><span class="n">current_module</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="s2">&quot;dynamic-event&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;types&quot;</span><span class="p">,</span> <span class="p">()):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondParser.list_known_grobs"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser.list_known_grobs">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">list_known_grobs</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lists all LilyPond grobs recognized by LilyPond parser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; class_ = abjad.parser.LilyPondParser</span>
<span class="sd">            &gt;&gt;&gt; for grob in class_.list_known_grobs():</span>
<span class="sd">            ...     print(grob)</span>
<span class="sd">            ...</span>
<span class="sd">            Accidental</span>
<span class="sd">            AccidentalCautionary</span>
<span class="sd">            AccidentalPlacement</span>
<span class="sd">            AccidentalSuggestion</span>
<span class="sd">            Ambitus</span>
<span class="sd">            AmbitusAccidental</span>
<span class="sd">            AmbitusLine</span>
<span class="sd">            AmbitusNoteHead</span>
<span class="sd">            Arpeggio</span>
<span class="sd">            BalloonTextItem</span>
<span class="sd">            BarLine</span>
<span class="sd">            BarNumber</span>
<span class="sd">            BassFigure</span>
<span class="sd">            BassFigureAlignment</span>
<span class="sd">            BassFigureAlignmentPositioning</span>
<span class="sd">            BassFigureBracket</span>
<span class="sd">            BassFigureContinuation</span>
<span class="sd">            BassFigureLine</span>
<span class="sd">            Beam</span>
<span class="sd">            BendAfter</span>
<span class="sd">            BreakAlignGroup</span>
<span class="sd">            BreakAlignment</span>
<span class="sd">            BreathingSign</span>
<span class="sd">            ChordName</span>
<span class="sd">            Clef</span>
<span class="sd">            ClefModifier</span>
<span class="sd">            ClusterSpanner</span>
<span class="sd">            ClusterSpannerBeacon</span>
<span class="sd">            CombineTextScript</span>
<span class="sd">            CueClef</span>
<span class="sd">            CueEndClef</span>
<span class="sd">            Custos</span>
<span class="sd">            DotColumn</span>
<span class="sd">            Dots</span>
<span class="sd">            DoublePercentRepeat</span>
<span class="sd">            DoublePercentRepeatCounter</span>
<span class="sd">            DoubleRepeatSlash</span>
<span class="sd">            DynamicLineSpanner</span>
<span class="sd">            DynamicText</span>
<span class="sd">            DynamicTextSpanner</span>
<span class="sd">            Episema</span>
<span class="sd">            Fingering</span>
<span class="sd">            FingeringColumn</span>
<span class="sd">            Flag</span>
<span class="sd">            FootnoteItem</span>
<span class="sd">            FootnoteSpanner</span>
<span class="sd">            FretBoard</span>
<span class="sd">            Glissando</span>
<span class="sd">            GraceSpacing</span>
<span class="sd">            GridLine</span>
<span class="sd">            GridPoint</span>
<span class="sd">            Hairpin</span>
<span class="sd">            HorizontalBracket</span>
<span class="sd">            HorizontalBracketText</span>
<span class="sd">            InstrumentName</span>
<span class="sd">            InstrumentSwitch</span>
<span class="sd">            KeyCancellation</span>
<span class="sd">            KeySignature</span>
<span class="sd">            KievanLigature</span>
<span class="sd">            LaissezVibrerTie</span>
<span class="sd">            LaissezVibrerTieColumn</span>
<span class="sd">            LedgerLineSpanner</span>
<span class="sd">            LeftEdge</span>
<span class="sd">            LigatureBracket</span>
<span class="sd">            LyricExtender</span>
<span class="sd">            LyricHyphen</span>
<span class="sd">            LyricSpace</span>
<span class="sd">            LyricText</span>
<span class="sd">            MeasureCounter</span>
<span class="sd">            MeasureGrouping</span>
<span class="sd">            MelodyItem</span>
<span class="sd">            MensuralLigature</span>
<span class="sd">            MetronomeMark</span>
<span class="sd">            MultiMeasureRest</span>
<span class="sd">            MultiMeasureRestNumber</span>
<span class="sd">            MultiMeasureRestText</span>
<span class="sd">            NonMusicalPaperColumn</span>
<span class="sd">            NoteCollision</span>
<span class="sd">            NoteColumn</span>
<span class="sd">            NoteHead</span>
<span class="sd">            NoteName</span>
<span class="sd">            NoteSpacing</span>
<span class="sd">            OttavaBracket</span>
<span class="sd">            PaperColumn</span>
<span class="sd">            ParenthesesItem</span>
<span class="sd">            PercentRepeat</span>
<span class="sd">            PercentRepeatCounter</span>
<span class="sd">            PhrasingSlur</span>
<span class="sd">            PianoPedalBracket</span>
<span class="sd">            RehearsalMark</span>
<span class="sd">            RepeatSlash</span>
<span class="sd">            RepeatTie</span>
<span class="sd">            RepeatTieColumn</span>
<span class="sd">            Rest</span>
<span class="sd">            RestCollision</span>
<span class="sd">            Script</span>
<span class="sd">            ScriptColumn</span>
<span class="sd">            ScriptRow</span>
<span class="sd">            Slur</span>
<span class="sd">            SostenutoPedal</span>
<span class="sd">            SostenutoPedalLineSpanner</span>
<span class="sd">            SpacingSpanner</span>
<span class="sd">            SpanBar</span>
<span class="sd">            SpanBarStub</span>
<span class="sd">            StaffGrouper</span>
<span class="sd">            StaffSpacing</span>
<span class="sd">            StaffSymbol</span>
<span class="sd">            StanzaNumber</span>
<span class="sd">            Stem</span>
<span class="sd">            StemStub</span>
<span class="sd">            StemTremolo</span>
<span class="sd">            StringNumber</span>
<span class="sd">            StrokeFinger</span>
<span class="sd">            SustainPedal</span>
<span class="sd">            SustainPedalLineSpanner</span>
<span class="sd">            System</span>
<span class="sd">            SystemStartBar</span>
<span class="sd">            SystemStartBrace</span>
<span class="sd">            SystemStartBracket</span>
<span class="sd">            SystemStartSquare</span>
<span class="sd">            TabNoteHead</span>
<span class="sd">            TextScript</span>
<span class="sd">            TextSpanner</span>
<span class="sd">            Tie</span>
<span class="sd">            TieColumn</span>
<span class="sd">            TimeSignature</span>
<span class="sd">            TrillPitchAccidental</span>
<span class="sd">            TrillPitchGroup</span>
<span class="sd">            TrillPitchHead</span>
<span class="sd">            TrillSpanner</span>
<span class="sd">            TupletBracket</span>
<span class="sd">            TupletNumber</span>
<span class="sd">            UnaCordaPedal</span>
<span class="sd">            UnaCordaPedalLineSpanner</span>
<span class="sd">            VaticanaLigature</span>
<span class="sd">            Vertical</span>
<span class="sd">            VerticalAxisGroup</span>
<span class="sd">            VoiceFollower</span>
<span class="sd">            VoltaBracket</span>
<span class="sd">            VoltaBracketSpanner</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">_lyenv</span><span class="o">.</span><span class="n">grob_interfaces</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>

<div class="viewcode-block" id="LilyPondParser.list_known_languages"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser.list_known_languages">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">list_known_languages</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lists all note-input languages recognized by LilyPond parser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; class_ = abjad.parser.LilyPondParser</span>
<span class="sd">            &gt;&gt;&gt; for language in class_.list_known_languages():</span>
<span class="sd">            ...     print(language)</span>
<span class="sd">            ...</span>
<span class="sd">            catalan</span>
<span class="sd">            deutsch</span>
<span class="sd">            english</span>
<span class="sd">            espanol</span>
<span class="sd">            espaol</span>
<span class="sd">            franais</span>
<span class="sd">            italiano</span>
<span class="sd">            nederlands</span>
<span class="sd">            norsk</span>
<span class="sd">            portugues</span>
<span class="sd">            suomi</span>
<span class="sd">            svenska</span>
<span class="sd">            vlaams</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">_lyenv</span><span class="o">.</span><span class="n">language_pitch_names</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>

<div class="viewcode-block" id="LilyPondParser.list_known_markup_functions"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser.list_known_markup_functions">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">list_known_markup_functions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lists all markup functions recognized by LilyPond parser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; class_  = abjad.parser.LilyPondParser</span>
<span class="sd">            &gt;&gt;&gt; for name in class_.list_known_markup_functions():</span>
<span class="sd">            ...     print(name)</span>
<span class="sd">            ...</span>
<span class="sd">            abs-fontsize</span>
<span class="sd">            arrow-head</span>
<span class="sd">            auto-footnote</span>
<span class="sd">            backslashed-digit</span>
<span class="sd">            beam</span>
<span class="sd">            bold</span>
<span class="sd">            box</span>
<span class="sd">            bracket</span>
<span class="sd">            caps</span>
<span class="sd">            center-align</span>
<span class="sd">            center-column</span>
<span class="sd">            char</span>
<span class="sd">            circle</span>
<span class="sd">            column</span>
<span class="sd">            column-lines</span>
<span class="sd">            combine</span>
<span class="sd">            compound-meter</span>
<span class="sd">            concat</span>
<span class="sd">            customTabClef</span>
<span class="sd">            dir-column</span>
<span class="sd">            doubleflat</span>
<span class="sd">            doublesharp</span>
<span class="sd">            draw-circle</span>
<span class="sd">            draw-dashed-line</span>
<span class="sd">            draw-dotted-line</span>
<span class="sd">            draw-hline</span>
<span class="sd">            draw-line</span>
<span class="sd">            dynamic</span>
<span class="sd">            ellipse</span>
<span class="sd">            epsfile</span>
<span class="sd">            eyeglasses</span>
<span class="sd">            fermata</span>
<span class="sd">            fill-line</span>
<span class="sd">            fill-with-pattern</span>
<span class="sd">            filled-box</span>
<span class="sd">            finger</span>
<span class="sd">            first-visible</span>
<span class="sd">            flat</span>
<span class="sd">            fontCaps</span>
<span class="sd">            fontsize</span>
<span class="sd">            footnote</span>
<span class="sd">            fraction</span>
<span class="sd">            fret-diagram</span>
<span class="sd">            fret-diagram-terse</span>
<span class="sd">            fret-diagram-verbose</span>
<span class="sd">            fromproperty</span>
<span class="sd">            general-align</span>
<span class="sd">            halign</span>
<span class="sd">            harp-pedal</span>
<span class="sd">            hbracket</span>
<span class="sd">            hcenter-in</span>
<span class="sd">            hspace</span>
<span class="sd">            huge</span>
<span class="sd">            italic</span>
<span class="sd">            justified-lines</span>
<span class="sd">            justify</span>
<span class="sd">            justify-field</span>
<span class="sd">            justify-line</span>
<span class="sd">            justify-string</span>
<span class="sd">            large</span>
<span class="sd">            larger</span>
<span class="sd">            left-align</span>
<span class="sd">            left-brace</span>
<span class="sd">            left-column</span>
<span class="sd">            line</span>
<span class="sd">            lookup</span>
<span class="sd">            lower</span>
<span class="sd">            magnify</span>
<span class="sd">            map-markup-commands</span>
<span class="sd">            markalphabet</span>
<span class="sd">            markletter</span>
<span class="sd">            medium</span>
<span class="sd">            musicglyph</span>
<span class="sd">            natural</span>
<span class="sd">            normal-size-sub</span>
<span class="sd">            normal-size-super</span>
<span class="sd">            normal-text</span>
<span class="sd">            normalsize</span>
<span class="sd">            note</span>
<span class="sd">            note-by-number</span>
<span class="sd">            null</span>
<span class="sd">            number</span>
<span class="sd">            on-the-fly</span>
<span class="sd">            oval</span>
<span class="sd">            override</span>
<span class="sd">            override-lines</span>
<span class="sd">            pad</span>
<span class="sd">            pad-around</span>
<span class="sd">            pad-to-box</span>
<span class="sd">            pad-x</span>
<span class="sd">            page-link</span>
<span class="sd">            page-ref</span>
<span class="sd">            parenthesize</span>
<span class="sd">            path</span>
<span class="sd">            pattern</span>
<span class="sd">            postscript</span>
<span class="sd">            property-recursive</span>
<span class="sd">            put-adjacent</span>
<span class="sd">            raise</span>
<span class="sd">            replace</span>
<span class="sd">            rest</span>
<span class="sd">            rest-by-number</span>
<span class="sd">            right-align</span>
<span class="sd">            right-brace</span>
<span class="sd">            right-column</span>
<span class="sd">            roman</span>
<span class="sd">            rotate</span>
<span class="sd">            rounded-box</span>
<span class="sd">            sans</span>
<span class="sd">            scale</span>
<span class="sd">            score</span>
<span class="sd">            score-lines</span>
<span class="sd">            semiflat</span>
<span class="sd">            semisharp</span>
<span class="sd">            sesquiflat</span>
<span class="sd">            sesquisharp</span>
<span class="sd">            sharp</span>
<span class="sd">            simple</span>
<span class="sd">            slashed-digit</span>
<span class="sd">            small</span>
<span class="sd">            smallCaps</span>
<span class="sd">            smaller</span>
<span class="sd">            stencil</span>
<span class="sd">            strut</span>
<span class="sd">            sub</span>
<span class="sd">            super</span>
<span class="sd">            table-of-contents</span>
<span class="sd">            teeny</span>
<span class="sd">            text</span>
<span class="sd">            tied-lyric</span>
<span class="sd">            tiny</span>
<span class="sd">            translate</span>
<span class="sd">            translate-scaled</span>
<span class="sd">            transparent</span>
<span class="sd">            triangle</span>
<span class="sd">            typewriter</span>
<span class="sd">            underline</span>
<span class="sd">            upright</span>
<span class="sd">            vcenter</span>
<span class="sd">            verbatim-file</span>
<span class="sd">            vspace</span>
<span class="sd">            whiteout</span>
<span class="sd">            whiteout-box</span>
<span class="sd">            with-color</span>
<span class="sd">            with-dimensions</span>
<span class="sd">            with-link</span>
<span class="sd">            with-url</span>
<span class="sd">            woodwind-diagram</span>
<span class="sd">            wordwrap</span>
<span class="sd">            wordwrap-field</span>
<span class="sd">            wordwrap-internal</span>
<span class="sd">            wordwrap-lines</span>
<span class="sd">            wordwrap-string</span>
<span class="sd">            wordwrap-string-internal</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">_lyenv</span><span class="o">.</span><span class="n">markup_functions</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">_lyenv</span><span class="o">.</span><span class="n">markup_list_functions</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondParser.list_known_music_functions"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser.list_known_music_functions">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">list_known_music_functions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lists all music functions recognized by LilyPond parser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; class_ = abjad.parser.LilyPondParser</span>
<span class="sd">            &gt;&gt;&gt; for name in class_.list_known_music_functions():</span>
<span class="sd">            ...     print(name)</span>
<span class="sd">            ...</span>
<span class="sd">            acciaccatura</span>
<span class="sd">            appoggiatura</span>
<span class="sd">            bar</span>
<span class="sd">            breathe</span>
<span class="sd">            clef</span>
<span class="sd">            grace</span>
<span class="sd">            key</span>
<span class="sd">            language</span>
<span class="sd">            makeClusters</span>
<span class="sd">            mark</span>
<span class="sd">            relative</span>
<span class="sd">            skip</span>
<span class="sd">            time</span>
<span class="sd">            times</span>
<span class="sd">            transpose</span>
<span class="sd">            tuplet</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">music_functions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">_lyenv</span><span class="o">.</span><span class="n">current_module</span><span class="p">:</span>
            <span class="n">dictionary</span> <span class="o">=</span> <span class="n">_lyenv</span><span class="o">.</span><span class="n">current_module</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;type&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">dictionary</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ly:music-function?&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">GuileProxy</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">music_functions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">music_functions</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondParser.register_markup_function"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondParser.register_markup_function">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">register_markup_function</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">signature</span><span class="p">,</span> <span class="n">undo</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Registers a custom markup function globally with LilyPondParser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; name = &#39;my-custom-markup-function&#39;</span>
<span class="sd">            &gt;&gt;&gt; signature = [&#39;markup?&#39;]</span>
<span class="sd">            &gt;&gt;&gt; abjad.parser.LilyPondParser.register_markup_function(name, signature)</span>

<span class="sd">            &gt;&gt;&gt; parser = abjad.parser.LilyPondParser()</span>
<span class="sd">            &gt;&gt;&gt; string = r&quot;\markup { \my-custom-markup-function { foo bar baz } }&quot;</span>
<span class="sd">            &gt;&gt;&gt; markup = parser(string)</span>
<span class="sd">            &gt;&gt;&gt; string = abjad.lilypond(markup)</span>
<span class="sd">            &gt;&gt;&gt; print(string)</span>
<span class="sd">            \markup { \my-custom-markup-function</span>
<span class="sd">                {</span>
<span class="sd">                    foo</span>
<span class="sd">                    bar</span>
<span class="sd">                    baz</span>
<span class="sd">                } }</span>

<span class="sd">        ``signature`` should be a sequence of zero or more type-predicate names, as</span>
<span class="sd">        understood by LilyPond.  Consult LilyPond&#39;s documentation for a complete list of</span>
<span class="sd">        all understood type-predicates.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            Set ``undo=True`` to unregister.</span>

<span class="sd">            &gt;&gt;&gt; name = &#39;my-custom-markup-function&#39;</span>
<span class="sd">            &gt;&gt;&gt; signature = [&#39;markup?&#39;]</span>
<span class="sd">            &gt;&gt;&gt; class_ = abjad.parser.LilyPondParser</span>
<span class="sd">            &gt;&gt;&gt; class_.register_markup_function(name, signature, undo=True)</span>

<span class="sd">            NOTE. Added to allow doctests to pass on TravisCI.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">undo</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">_lyenv</span><span class="o">.</span><span class="n">markup_functions</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="k">return</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">isspace</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">signature</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">predicate</span> <span class="ow">in</span> <span class="n">signature</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">predicate</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">isspace</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">predicate</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">predicate</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)</span>
        <span class="n">_lyenv</span><span class="o">.</span><span class="n">markup_functions</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span></div>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">available_languages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tuple of pitch-name languages supported by LilyPondParser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; parser = abjad.parser.LilyPondParser()</span>
<span class="sd">            &gt;&gt;&gt; for language in parser.available_languages:</span>
<span class="sd">            ...     print(language)</span>
<span class="sd">            ...</span>
<span class="sd">            catalan</span>
<span class="sd">            deutsch</span>
<span class="sd">            english</span>
<span class="sd">            espanol</span>
<span class="sd">            espaol</span>
<span class="sd">            franais</span>
<span class="sd">            italiano</span>
<span class="sd">            nederlands</span>
<span class="sd">            norsk</span>
<span class="sd">            portugues</span>
<span class="sd">            suomi</span>
<span class="sd">            svenska</span>
<span class="sd">            vlaams</span>

<span class="sd">        Returns tuple.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_language_pitch_names</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_language</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets and sets default language of parser.</span>

<span class="sd">        ..  container:: example</span>

<span class="sd">            &gt;&gt;&gt; parser = abjad.parser.LilyPondParser()</span>

<span class="sd">            &gt;&gt;&gt; parser.default_language</span>
<span class="sd">            &#39;english&#39;</span>

<span class="sd">            &gt;&gt;&gt; parser(&#39;{ c df e fs }&#39;)</span>
<span class="sd">            Container(&#39;c4 df4 e4 fs4&#39;)</span>

<span class="sd">            &gt;&gt;&gt; parser.default_language = &#39;nederlands&#39;</span>
<span class="sd">            &gt;&gt;&gt; parser.default_language</span>
<span class="sd">            &#39;nederlands&#39;</span>

<span class="sd">            &gt;&gt;&gt; parser(&#39;{ c des e fis }&#39;)</span>
<span class="sd">            Container(&#39;c4 df4 e4 fs4&#39;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_language</span>

    <span class="nd">@default_language</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">default_language</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">argument</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_languages</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_language</span> <span class="o">=</span> <span class="n">argument</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lexer_rules_object</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lexer rules object of LilyPond parser.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lexdef</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parser_rules_object</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parser rules object of LilyPond parser.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_syndef</span></div>


<div class="viewcode-block" id="LilyPondSyntacticalDefinition"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition">[docs]</a><span class="k">class</span> <span class="nc">LilyPondSyntacticalDefinition</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The syntactical definition of LilyPond&#39;s syntax.</span>

<span class="sd">    Effectively equivalent to LilyPond&#39;s ``parser.yy`` file.</span>

<span class="sd">    Not composer-safe.</span>

<span class="sd">    Used internally by ``LilyPondParser``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">start</span> <span class="o">=</span> <span class="s2">&quot;start_symbol&quot;</span>

    <span class="n">precedence</span> <span class="o">=</span> <span class="p">(</span>
        <span class="c1"># (&#39;nonassoc&#39;, &#39;ALTERNATIVE&#39;),</span>
        <span class="p">(</span><span class="s2">&quot;nonassoc&quot;</span><span class="p">,</span> <span class="s2">&quot;COMPOSITE&quot;</span><span class="p">),</span>
        <span class="c1"># (&#39;left&#39;, &#39;ADDLYRICS&#39;),</span>
        <span class="p">(</span><span class="s2">&quot;nonassoc&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFAULT&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;nonassoc&quot;</span><span class="p">,</span> <span class="s2">&quot;FUNCTION_ARGLIST&quot;</span><span class="p">),</span>
        <span class="p">(</span>
            <span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PITCH_IDENTIFIER&quot;</span><span class="p">,</span>
            <span class="s2">&quot;NOTENAME_PITCH&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TONICNAME_PITCH&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UNSIGNED&quot;</span><span class="p">,</span>
            <span class="s2">&quot;REAL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;DURATION_IDENTIFIER&quot;</span><span class="p">,</span>
            <span class="s2">&quot;:&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;nonassoc&quot;</span><span class="p">,</span> <span class="s2">&quot;NUMBER_IDENTIFIER&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">),</span>
        <span class="c1"># (&#39;left&#39;, &#39;UNARY_MINUS&#39;)</span>
    <span class="p">)</span>

    <span class="c1">### INITIALIZER ###</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
        <span class="k">if</span> <span class="n">client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_lexdef</span><span class="o">.</span><span class="n">tokens</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>

    <span class="c1">### SYNTACTICAL RULES (ALPHABETICAL) ###</span>

    <span class="c1">#    def p_start_symbol__EMBEDDED_LILY__embedded_lilypond(self, p):</span>
    <span class="c1">#        &#39;start_symbol : EMBEDDED_LILY embedded_lilypond&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;start_symbol&#39;, p[1:])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_start_symbol__lilypond"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_start_symbol__lilypond">[docs]</a>    <span class="k">def</span> <span class="nf">p_start_symbol__lilypond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;start_symbol : lilypond&quot;</span>
        <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">lilypond_file</span> <span class="o">=</span> <span class="n">_lilypondfile</span><span class="o">.</span><span class="n">LilyPondFile</span><span class="p">()</span>
            <span class="n">lilypond_file</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">lilypond_file</span>
        <span class="k">elif</span> <span class="mi">1</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="c1">### assignment ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_assignment__assignment_id__Chr61__identifier_init"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_assignment__assignment_id__Chr61__identifier_init">[docs]</a>    <span class="k">def</span> <span class="nf">p_assignment__assignment_id__Chr61__identifier_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;assignment : assignment_id &#39;=&#39; identifier_init&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

    <span class="c1">#    def p_assignment__assignment_id__property_path__Chr61__identifier_init(self, p):</span>
    <span class="c1">#        &quot;assignment : assignment_id property_path &#39;=&#39; identifier_init&quot;</span>
    <span class="c1">#        p[0] = [p[1], p[3]]</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_assignment__embedded_scm"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_assignment__embedded_scm">[docs]</a>    <span class="k">def</span> <span class="nf">p_assignment__embedded_scm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;assignment : embedded_scm&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="c1">### assignment_id ###</span>

    <span class="c1">#    def p_assignment_id__LYRICS_STRING(self, p):</span>
    <span class="c1">#        &#39;assignment_id : LYRICS_STRING&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;assignment_id&#39;, p[1:])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_assignment_id__STRING"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_assignment_id__STRING">[docs]</a>    <span class="k">def</span> <span class="nf">p_assignment_id__STRING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;assignment_id : STRING&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### bare_number ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_bare_number__REAL__NUMBER_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_bare_number__REAL__NUMBER_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_bare_number__REAL__NUMBER_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;bare_number : REAL NUMBER_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_bare_number__UNSIGNED__NUMBER_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_bare_number__UNSIGNED__NUMBER_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_bare_number__UNSIGNED__NUMBER_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;bare_number : UNSIGNED NUMBER_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_bare_number__bare_number_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_bare_number__bare_number_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_bare_number__bare_number_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;bare_number : bare_number_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### bare_number_closed ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_bare_number_closed__NUMBER_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_bare_number_closed__NUMBER_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_bare_number_closed__NUMBER_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;bare_number_closed : NUMBER_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_bare_number_closed__REAL"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_bare_number_closed__REAL">[docs]</a>    <span class="k">def</span> <span class="nf">p_bare_number_closed__REAL</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;bare_number_closed : REAL&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_bare_number_closed__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_bare_number_closed__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_bare_number_closed__UNSIGNED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;bare_number_closed : UNSIGNED&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### bare_unsigned ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_bare_unsigned__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_bare_unsigned__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_bare_unsigned__UNSIGNED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;bare_unsigned : UNSIGNED&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### bass_figure ###</span>

    <span class="c1">#    def p_bass_figure__FIGURE_SPACE(self, p):</span>
    <span class="c1">#        &#39;bass_figure : FIGURE_SPACE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bass_figure&#39;, p[1:])</span>

    <span class="c1">#    def p_bass_figure__bass_figure__Chr93(self, p):</span>
    <span class="c1">#        &quot;bass_figure : bass_figure &#39;]&#39;&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bass_figure&#39;, p[1:])</span>

    <span class="c1">#    def p_bass_figure__bass_figure__figured_bass_alteration(self, p):</span>
    <span class="c1">#        &#39;bass_figure : bass_figure figured_bass_alteration&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bass_figure&#39;, p[1:])</span>

    <span class="c1">#    def p_bass_figure__bass_figure__figured_bass_modification(self, p):</span>
    <span class="c1">#        &#39;bass_figure : bass_figure figured_bass_modification&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bass_figure&#39;, p[1:])</span>

    <span class="c1">#    def p_bass_figure__bass_number(self, p):</span>
    <span class="c1">#        &#39;bass_figure : bass_number&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bass_figure&#39;, p[1:])</span>

    <span class="c1">### bass_number ###</span>

    <span class="c1">#    def p_bass_number__STRING(self, p):</span>
    <span class="c1">#        &#39;bass_number : STRING&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bass_number&#39;, p[1:])</span>

    <span class="c1">#    def p_bass_number__UNSIGNED(self, p):</span>
    <span class="c1">#        &#39;bass_number : UNSIGNED&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bass_number&#39;, p[1:])</span>

    <span class="c1">#    def p_bass_number__full_markup(self, p):</span>
    <span class="c1">#        &#39;bass_number : full_markup&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bass_number&#39;, p[1:])</span>

    <span class="c1">### book_block ###</span>

    <span class="c1">#    def p_book_block__BOOK__Chr123__book_body__Chr125(self, p):</span>
    <span class="c1">#        &quot;book_block : BOOK &#39;{&#39; book_body &#39;}&#39;&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_block&#39;, p[1:])</span>

    <span class="c1">### book_body ###</span>

    <span class="c1">#    def p_book_body__Empty(self, p):</span>
    <span class="c1">#        &#39;book_body : &#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__BOOK_IDENTIFIER(self, p):</span>
    <span class="c1">#        &#39;book_body : BOOK_IDENTIFIER&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__bookpart_block(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body bookpart_block&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__composite_music(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body composite_music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__embedded_scm(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body embedded_scm&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__error(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body error&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__full_markup(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body full_markup&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__full_markup_list(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body full_markup_list&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__lilypond_header(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body lilypond_header&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__paper_block(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body paper_block&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">#    def p_book_body__book_body__score_block(self, p):</span>
    <span class="c1">#        &#39;book_body : book_body score_block&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_body&#39;, p[1:])</span>

    <span class="c1">### bookpart_block ###</span>

    <span class="c1">#    def p_bookpart_block__BOOKPART__Chr123__bookpart_body__Chr125(self, p):</span>
    <span class="c1">#        &quot;bookpart_block : BOOKPART &#39;{&#39; bookpart_body &#39;}&#39;&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_block&#39;, p[1:])</span>

    <span class="c1">### bookpart_body ###</span>

    <span class="c1">#    def p_bookpart_body__Empty(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : &#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__BOOK_IDENTIFIER(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : BOOK_IDENTIFIER&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__bookpart_body__composite_music(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : bookpart_body composite_music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__bookpart_body__embedded_scm(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : bookpart_body embedded_scm&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__bookpart_body__error(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : bookpart_body error&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__bookpart_body__full_markup(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : bookpart_body full_markup&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__bookpart_body__full_markup_list(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : bookpart_body full_markup_list&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__bookpart_body__lilypond_header(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : bookpart_body lilypond_header&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__bookpart_body__paper_block(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : bookpart_body paper_block&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">#    def p_bookpart_body__bookpart_body__score_block(self, p):</span>
    <span class="c1">#        &#39;bookpart_body : bookpart_body score_block&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_body&#39;, p[1:])</span>

    <span class="c1">### br_bass_figure ###</span>

    <span class="c1">#    def p_br_bass_figure__Chr91__bass_figure(self, p):</span>
    <span class="c1">#        &quot;br_bass_figure : &#39;[&#39; bass_figure&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;br_bass_figure&#39;, p[1:])</span>

    <span class="c1">#    def p_br_bass_figure__bass_figure(self, p):</span>
    <span class="c1">#        &#39;br_bass_figure : bass_figure&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;br_bass_figure&#39;, p[1:])</span>

    <span class="c1">### braced_music_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_braced_music_list__Chr123__music_list__Chr125"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_braced_music_list__Chr123__music_list__Chr125">[docs]</a>    <span class="k">def</span> <span class="nf">p_braced_music_list__Chr123__music_list__Chr125</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;braced_music_list : &#39;{&#39; music_list &#39;}&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

    <span class="c1">### chord_body ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_chord_body__ANGLE_OPEN__chord_body_elements__ANGLE_CLOSE"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_chord_body__ANGLE_OPEN__chord_body_elements__ANGLE_CLOSE">[docs]</a>    <span class="k">def</span> <span class="nf">p_chord_body__ANGLE_OPEN__chord_body_elements__ANGLE_CLOSE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;chord_body : ANGLE_OPEN chord_body_elements ANGLE_CLOSE&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

    <span class="c1">### chord_body_element ###</span>

    <span class="c1">#    def p_chord_body_element__DRUM_PITCH__post_events(self, p):</span>
    <span class="c1">#        &#39;chord_body_element : DRUM_PITCH post_events&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_body_element&#39;, p[1:])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_chord_body_element__music_function_chord_body"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_chord_body_element__music_function_chord_body">[docs]</a>    <span class="k">def</span> <span class="nf">p_chord_body_element__music_function_chord_body</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;chord_body_element : music_function_chord_body&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;chord_body_element&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_chord_body_element__pitch__exclamations__questions__octave_check__post_events"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_chord_body_element__pitch__exclamations__questions__octave_check__post_events">[docs]</a>    <span class="k">def</span> <span class="nf">p_chord_body_element__pitch__exclamations__questions__octave_check__post_events</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;chord_body_element : pitch exclamations questions octave_check post_events&quot;</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_lyconst</span><span class="o">.</span><span class="n">drums</span><span class="p">:</span>
            <span class="n">note_head</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">NoteHead</span><span class="p">(</span>
                <span class="n">written_pitch</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">is_cautionary</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
                <span class="n">is_forced</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">note_head</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">DrumNoteHead</span><span class="p">(</span>
                <span class="n">written_pitch</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">is_cautionary</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
                <span class="n">is_forced</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
            <span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;chord_body_element&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">note_head</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]))</span></div>

    <span class="c1">### chord_body_elements ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_chord_body_elements__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_chord_body_elements__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_chord_body_elements__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;chord_body_elements :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_chord_body_elements__chord_body_elements__chord_body_element"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_chord_body_elements__chord_body_elements__chord_body_element">[docs]</a>    <span class="k">def</span> <span class="nf">p_chord_body_elements__chord_body_elements__chord_body_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;chord_body_elements : chord_body_elements chord_body_element&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### chord_item ###</span>

    <span class="c1">#    def p_chord_item__CHORD_MODIFIER(self, p):</span>
    <span class="c1">#        &#39;chord_item : CHORD_MODIFIER&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_item&#39;, p[1:])</span>

    <span class="c1">#    def p_chord_item__chord_separator(self, p):</span>
    <span class="c1">#        &#39;chord_item : chord_separator&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_item&#39;, p[1:])</span>

    <span class="c1">#    def p_chord_item__step_numbers(self, p):</span>
    <span class="c1">#        &#39;chord_item : step_numbers&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_item&#39;, p[1:])</span>

    <span class="c1">### chord_items ###</span>

    <span class="c1">#    def p_chord_items__Empty(self, p):</span>
    <span class="c1">#        &#39;chord_items : &#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_items&#39;, p[1:])</span>

    <span class="c1">#    def p_chord_items__chord_items__chord_item(self, p):</span>
    <span class="c1">#        &#39;chord_items : chord_items chord_item&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_items&#39;, p[1:])</span>

    <span class="c1">### chord_separator ###</span>

    <span class="c1">#    def p_chord_separator__CHORD_BASS__steno_tonic_pitch(self, p):</span>
    <span class="c1">#        &#39;chord_separator : CHORD_BASS steno_tonic_pitch&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_separator&#39;, p[1:])</span>

    <span class="c1">#    def p_chord_separator__CHORD_CARET(self, p):</span>
    <span class="c1">#        &#39;chord_separator : CHORD_CARET&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_separator&#39;, p[1:])</span>

    <span class="c1">#    def p_chord_separator__CHORD_COLON(self, p):</span>
    <span class="c1">#        &#39;chord_separator : CHORD_COLON&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_separator&#39;, p[1:])</span>

    <span class="c1">#    def p_chord_separator__CHORD_SLASH__steno_tonic_pitch(self, p):</span>
    <span class="c1">#        &#39;chord_separator : CHORD_SLASH steno_tonic_pitch&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;chord_separator&#39;, p[1:])</span>

    <span class="c1">### closed_music ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_closed_music__complex_music_prefix__closed_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_closed_music__complex_music_prefix__closed_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_closed_music__complex_music_prefix__closed_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;closed_music : complex_music_prefix closed_music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;closed_music&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_closed_music__music_bare"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_closed_music__music_bare">[docs]</a>    <span class="k">def</span> <span class="nf">p_closed_music__music_bare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;closed_music : music_bare&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;closed_music&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span></div>

    <span class="c1">### command_element ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_command_element__Chr124"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_command_element__Chr124">[docs]</a>    <span class="k">def</span> <span class="nf">p_command_element__Chr124</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;command_element : &#39;|&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondEvent</span><span class="p">(</span><span class="s2">&quot;BarCheck&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_command_element__E_BACKSLASH"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_command_element__E_BACKSLASH">[docs]</a>    <span class="k">def</span> <span class="nf">p_command_element__E_BACKSLASH</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;command_element : E_BACKSLASH&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondEvent</span><span class="p">(</span><span class="s2">&quot;VoiceSeparator&quot;</span><span class="p">)</span></div>

    <span class="c1">#    def p_command_element__E_BRACKET_CLOSE(self, p):</span>
    <span class="c1">#        &#39;command_element : E_BRACKET_CLOSE&#39;</span>
    <span class="c1">#        message = &#39;ligatures not supported.&#39;</span>
    <span class="c1">#        raise Exception(message)</span>

    <span class="c1">#    def p_command_element__E_BRACKET_OPEN(self, p):</span>
    <span class="c1">#        &#39;command_element : E_BRACKET_OPEN&#39;</span>
    <span class="c1">#        message = &#39;ligatures not supported.&#39;</span>
    <span class="c1">#        raise Exception(message)</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_command_element__command_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_command_element__command_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_command_element__command_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;command_element : command_event&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### command_event ###</span>

    <span class="c1">#    def p_command_event__E_TILDE(self, p):</span>
    <span class="c1">#        &#39;command_event : E_TILDE&#39;</span>
    <span class="c1">#        message = &#39;pes and flexa events not supported.&#39;</span>
    <span class="c1">#        raise Exception(message)</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_command_event__tempo_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_command_event__tempo_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_command_event__tempo_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;command_event : tempo_event&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### complex_music ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_complex_music__complex_music_prefix__music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_complex_music__complex_music_prefix__music">[docs]</a>    <span class="k">def</span> <span class="nf">p_complex_music__complex_music_prefix__music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;complex_music : complex_music_prefix music&quot;</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">optional_id</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">optional_context_mod</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">music</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_construct_context_specced_music</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">optional_id</span><span class="p">,</span> <span class="n">optional_context_mod</span><span class="p">,</span> <span class="n">music</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_complex_music__music_function_call"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_complex_music__music_function_call">[docs]</a>    <span class="k">def</span> <span class="nf">p_complex_music__music_function_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;complex_music : music_function_call&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_complex_music__re_rhythmed_music(self, p):</span>
    <span class="c1">#        &#39;complex_music : re_rhythmed_music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;complex_music&#39;, p[1:])</span>

    <span class="c1">#    def p_complex_music__repeated_music(self, p):</span>
    <span class="c1">#        &#39;complex_music : repeated_music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;complex_music&#39;, p[1:])</span>

    <span class="c1">### complex_music_prefix ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_complex_music_prefix__CONTEXT__simple_string__optional_id__optional_context_mod"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_complex_music_prefix__CONTEXT__simple_string__optional_id__optional_context_mod">[docs]</a>    <span class="k">def</span> <span class="nf">p_complex_music_prefix__CONTEXT__simple_string__optional_id__optional_context_mod</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;complex_music_prefix : CONTEXT simple_string optional_id optional_context_mod&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;complex_music_prefix&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_complex_music_prefix__NEWCONTEXT__simple_string__optional_id__optional_context_mod"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_complex_music_prefix__NEWCONTEXT__simple_string__optional_id__optional_context_mod">[docs]</a>    <span class="k">def</span> <span class="nf">p_complex_music_prefix__NEWCONTEXT__simple_string__optional_id__optional_context_mod</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;complex_music_prefix : NEWCONTEXT simple_string optional_id optional_context_mod&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;complex_music_prefix&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### composite_music ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_composite_music__complex_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_composite_music__complex_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_composite_music__complex_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;composite_music : complex_music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_composite_music__music_bare"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_composite_music__music_bare">[docs]</a>    <span class="k">def</span> <span class="nf">p_composite_music__music_bare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;composite_music : music_bare&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### context_change ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_change__CHANGE__STRING__Chr61__STRING"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_change__CHANGE__STRING__Chr61__STRING">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_change__CHANGE__STRING__Chr61__STRING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_change : CHANGE STRING &#39;=&#39; STRING&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_change&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### context_def_mod ###</span>

    <span class="c1">#    def p_context_def_mod__ACCEPTS(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : ACCEPTS&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_def_mod__ALIAS(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : ALIAS&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_def_mod__CONSISTS(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : CONSISTS&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_def_mod__DEFAULTCHILD(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : DEFAULTCHILD&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_def_mod__DENIES(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : DENIES&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_def_mod__DESCRIPTION(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : DESCRIPTION&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_def_mod__NAME(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : NAME&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_def_mod__REMOVE(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : REMOVE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_def_mod__TYPE(self, p):</span>
    <span class="c1">#        &#39;context_def_mod : TYPE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_def_mod&#39;, p[1:])</span>

    <span class="c1">### context_def_spec_block ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_def_spec_block__CONTEXT__Chr123__context_def_spec_body__Chr125"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_def_spec_block__CONTEXT__Chr123__context_def_spec_body__Chr125">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_def_spec_block__CONTEXT__Chr123__context_def_spec_body__Chr125</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;context_def_spec_block : CONTEXT &#39;{&#39; context_def_spec_body &#39;}&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_def_spec_block&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### context_def_spec_body ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_def_spec_body__CONTEXT_DEF_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_def_spec_body__CONTEXT_DEF_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_def_spec_body__CONTEXT_DEF_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_def_spec_body : CONTEXT_DEF_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_def_spec_body&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_def_spec_body__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_def_spec_body__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_def_spec_body__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_def_spec_body :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_def_spec_body&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_def_spec_body__context_def_spec_body__context_mod"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_def_spec_body__context_def_spec_body__context_mod">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_def_spec_body__context_def_spec_body__context_mod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_def_spec_body : context_def_spec_body context_mod&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_def_spec_body&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_def_spec_body__context_def_spec_body__context_modification"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_def_spec_body__context_def_spec_body__context_modification">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_def_spec_body__context_def_spec_body__context_modification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_def_spec_body : context_def_spec_body context_modification&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_def_spec_body&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_def_spec_body__context_def_spec_body__embedded_scm"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_def_spec_body__context_def_spec_body__embedded_scm">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_def_spec_body__context_def_spec_body__embedded_scm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_def_spec_body : context_def_spec_body embedded_scm&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_def_spec_body&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### context_mod ###</span>

    <span class="c1">#    def p_context_mod__context_def_mod__STRING(self, p):</span>
    <span class="c1">#        &#39;context_mod : context_def_mod STRING&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_mod&#39;, p[1:])</span>

    <span class="c1">#    def p_context_mod__context_def_mod__embedded_scm(self, p):</span>
    <span class="c1">#        &#39;context_mod : context_def_mod embedded_scm&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;context_mod&#39;, p[1:])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_mod__property_operation"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_mod__property_operation">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_mod__property_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_mod : property_operation&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### context_mod_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_mod_list__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_mod_list__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_mod_list__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_mod_list :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_mod_list__context_mod_list__CONTEXT_MOD_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_mod_list__context_mod_list__CONTEXT_MOD_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_mod_list__context_mod_list__CONTEXT_MOD_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_mod_list : context_mod_list CONTEXT_MOD_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_mod_list__context_mod_list__context_mod"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_mod_list__context_mod_list__context_mod">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_mod_list__context_mod_list__context_mod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_mod_list : context_mod_list context_mod&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_mod_list__context_mod_list__embedded_scm"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_mod_list__context_mod_list__embedded_scm">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_mod_list__context_mod_list__embedded_scm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_mod_list : context_mod_list embedded_scm&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### context_modification ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_modification__CONTEXT_MOD_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_modification__CONTEXT_MOD_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_modification__CONTEXT_MOD_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_modification : CONTEXT_MOD_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_modification__WITH__CONTEXT_MOD_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_modification__WITH__CONTEXT_MOD_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_modification__WITH__CONTEXT_MOD_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_modification : WITH CONTEXT_MOD_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_modification__WITH__Chr123__context_mod_list__Chr125"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_modification__WITH__Chr123__context_mod_list__Chr125">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_modification__WITH__Chr123__context_mod_list__Chr125</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_modification : WITH &#39;{&#39; context_mod_list &#39;}&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_lexer</span><span class="o">.</span><span class="n">pop_state</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_relex_lookahead</span><span class="p">()</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_modification__WITH__embedded_scm_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_modification__WITH__embedded_scm_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_modification__WITH__embedded_scm_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_modification : WITH embedded_scm_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### context_prop_spec ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_prop_spec__simple_string"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_prop_spec__simple_string">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_prop_spec__simple_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_prop_spec : simple_string&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_prop_spec&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_context_prop_spec__simple_string__Chr46__simple_string"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_context_prop_spec__simple_string__Chr46__simple_string">[docs]</a>    <span class="k">def</span> <span class="nf">p_context_prop_spec__simple_string__Chr46__simple_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;context_prop_spec : simple_string &#39;.&#39; simple_string&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_prop_spec&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### direction_less_char ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__Chr126"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__Chr126">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__Chr126</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : &#39;~&#39;&quot;</span>
        <span class="c1">### p[0] = self.client._resolve_event_identifier(&quot;tildeSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__Chr40"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__Chr40">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__Chr40</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : &#39;(&#39;&quot;</span>
        <span class="c1">### p[0] = self.client._resolve_event_identifier(&quot;parenthesisOpenSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__Chr41"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__Chr41">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__Chr41</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : &#39;)&#39;&quot;</span>
        <span class="c1">### p[0] = self.client._resolve_event_identifier(&quot;parenthesisCloseSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__Chr91"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__Chr91">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__Chr91</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : &#39;[&#39;&quot;</span>
        <span class="c1"># p[0] = self.client._resolve_event_identifier(&quot;bracketOpenSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__Chr93"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__Chr93">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__Chr93</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : &#39;]&#39;&quot;</span>
        <span class="c1"># p[0] = self.client._resolve_event_identifier(&quot;bracketCloseSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__E_ANGLE_CLOSE"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__E_ANGLE_CLOSE">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__E_ANGLE_CLOSE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : E_ANGLE_CLOSE&quot;</span>
        <span class="c1"># p[0] = self.client._resolve_event_identifier(&quot;escapedBiggerSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\&gt;&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__E_ANGLE_OPEN"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__E_ANGLE_OPEN">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__E_ANGLE_OPEN</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : E_ANGLE_OPEN&quot;</span>
        <span class="c1"># p[0] = self.client._resolve_event_identifier(&quot;escapedSmallerSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\&lt;&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__E_CLOSE"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__E_CLOSE">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__E_CLOSE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : E_CLOSE&quot;</span>
        <span class="c1"># p[0] = self.client._resolve_event_identifier(&quot;escapedParenthesisCloseSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\)&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__E_EXCLAMATION"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__E_EXCLAMATION">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__E_EXCLAMATION</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : E_EXCLAMATION&quot;</span>
        <span class="c1"># p[0] = self.client._resolve_event_identifier(&quot;escapedExclamationSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\!&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_char__E_OPEN"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_char__E_OPEN">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_char__E_OPEN</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_char : E_OPEN&quot;</span>
        <span class="c1"># p[0] = self.client._resolve_event_identifier(&quot;escapedParenthesisOpenSymbol&quot;)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\(&quot;</span><span class="p">)</span></div>

    <span class="c1">### direction_less_event ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_event__EVENT_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_event__EVENT_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_event__EVENT_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_event : EVENT_IDENTIFIER&quot;</span>
        <span class="n">identifier</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">identifier</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="n">identifier</span> <span class="o">=</span> <span class="n">identifier</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_resolve_event_identifier</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_event__direction_less_char"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_event__direction_less_char">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_event__direction_less_char</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_event : direction_less_char&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_event__event_function_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_event__event_function_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_event__event_function_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_event : event_function_event&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;direction_less_event&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_less_event__tremolo_type"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_less_event__tremolo_type">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_less_event__tremolo_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_less_event : tremolo_type&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### direction_reqd_event ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_reqd_event__gen_text_def"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_reqd_event__gen_text_def">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_reqd_event__gen_text_def</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_reqd_event : gen_text_def&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_direction_reqd_event__script_abbreviation"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_direction_reqd_event__script_abbreviation">[docs]</a>    <span class="k">def</span> <span class="nf">p_direction_reqd_event__script_abbreviation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;direction_reqd_event : script_abbreviation&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### dots ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_dots__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_dots__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_dots__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;dots :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;dots&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_dots__dots__Chr46"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_dots__dots__Chr46">[docs]</a>    <span class="k">def</span> <span class="nf">p_dots__dots__Chr46</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;dots : dots &#39;.&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;dots&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></div>

    <span class="c1">### duration_length ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_duration_length__multiplied_duration"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_duration_length__multiplied_duration">[docs]</a>    <span class="k">def</span> <span class="nf">p_duration_length__multiplied_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;duration_length : multiplied_duration&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### embedded_lilypond ###</span>

    <span class="c1">#    def p_embedded_lilypond__Empty(self, p):</span>
    <span class="c1">#        &#39;embedded_lilypond : &#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;embedded_lilypond&#39;, p[1:])</span>

    <span class="c1">#    def p_embedded_lilypond__INVALID__embedded_lilypond(self, p):</span>
    <span class="c1">#        &#39;embedded_lilypond : INVALID embedded_lilypond&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;embedded_lilypond&#39;, p[1:])</span>

    <span class="c1">#    def p_embedded_lilypond__error(self, p):</span>
    <span class="c1">#        &#39;embedded_lilypond : error&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;embedded_lilypond&#39;, p[1:])</span>

    <span class="c1">#    def p_embedded_lilypond__identifier_init(self, p):</span>
    <span class="c1">#        &#39;embedded_lilypond : identifier_init&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;embedded_lilypond&#39;, p[1:])</span>

    <span class="c1">#    def p_embedded_lilypond__music__music__music_list(self, p):</span>
    <span class="c1">#        &#39;embedded_lilypond : music music music_list&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;embedded_lilypond&#39;, p[1:])</span>

    <span class="c1">### embedded_scm ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm__embedded_scm_bare"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm__embedded_scm_bare">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm__embedded_scm_bare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm : embedded_scm_bare&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm__scm_function_call"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm__scm_function_call">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm__scm_function_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm : scm_function_call&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### embedded_scm_arg ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_arg__embedded_scm_bare_arg"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_arg__embedded_scm_bare_arg">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_arg__embedded_scm_bare_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_arg : embedded_scm_bare_arg&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_arg__music_arg"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_arg__music_arg">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_arg__music_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_arg : music_arg&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_arg__scm_function_call"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_arg__scm_function_call">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_arg__scm_function_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_arg : scm_function_call&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### embedded_scm_arg_closed ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_arg_closed__closed_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_arg_closed__closed_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_arg_closed__closed_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_arg_closed : closed_music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_arg_closed__embedded_scm_bare_arg"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_arg_closed__embedded_scm_bare_arg">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_arg_closed__embedded_scm_bare_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_arg_closed : embedded_scm_bare_arg&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_arg_closed__scm_function_call_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_arg_closed__scm_function_call_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_arg_closed__scm_function_call_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_arg_closed : scm_function_call_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### embedded_scm_bare ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare__SCM_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare__SCM_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare__SCM_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare : SCM_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare__SCM_TOKEN"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare__SCM_TOKEN">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare__SCM_TOKEN</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare : SCM_TOKEN&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### embedded_scm_bare_arg ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__STRING"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__STRING">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__STRING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : STRING&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__STRING_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__STRING_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__STRING_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : STRING_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_embedded_scm_bare_arg__book_block(self, p):</span>
    <span class="c1">#        &#39;embedded_scm_bare_arg : book_block&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

    <span class="c1">#    def p_embedded_scm_bare_arg__bookpart_block(self, p):</span>
    <span class="c1">#        &#39;embedded_scm_bare_arg : bookpart_block&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__context_def_spec_block"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__context_def_spec_block">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__context_def_spec_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : context_def_spec_block&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__context_modification"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__context_modification">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__context_modification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : context_modification&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__embedded_scm_bare"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__embedded_scm_bare">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__embedded_scm_bare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : embedded_scm_bare&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__full_markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__full_markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__full_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : full_markup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__full_markup_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__full_markup_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__full_markup_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : full_markup_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__output_def"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__output_def">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__output_def</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : output_def&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__score_block"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_bare_arg__score_block">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_bare_arg__score_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_bare_arg : score_block&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### embedded_scm_chord_body ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__SCM_FUNCTION__music_function_chord_body_arglist"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__SCM_FUNCTION__music_function_chord_body_arglist">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_chord_body__SCM_FUNCTION__music_function_chord_body_arglist</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;embedded_scm_chord_body : SCM_FUNCTION music_function_chord_body_arglist&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;embedded_scm_chord_body&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__bare_number"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__bare_number">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_chord_body__bare_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_chord_body : bare_number&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__chord_body_element"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__chord_body_element">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_chord_body__chord_body_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_chord_body : chord_body_element&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__embedded_scm_bare_arg"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__embedded_scm_bare_arg">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_chord_body__embedded_scm_bare_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_chord_body : embedded_scm_bare_arg&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__fraction"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_chord_body__fraction">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_chord_body__fraction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_chord_body : fraction&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_embedded_scm_chord_body__lyric_element(self, p):</span>
    <span class="c1">#        &#39;embedded_scm_chord_body : lyric_element&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

    <span class="c1">### embedded_scm_closed ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_closed__embedded_scm_bare"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_closed__embedded_scm_bare">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_closed__embedded_scm_bare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_closed : embedded_scm_bare&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_embedded_scm_closed__scm_function_call_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_embedded_scm_closed__scm_function_call_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_embedded_scm_closed__scm_function_call_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;embedded_scm_closed : scm_function_call_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### event_chord ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_event_chord__CHORD_REPETITION__optional_notemode_duration__post_events"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_event_chord__CHORD_REPETITION__optional_notemode_duration__post_events">[docs]</a>    <span class="k">def</span> <span class="nf">p_event_chord__CHORD_REPETITION__optional_notemode_duration__post_events</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;event_chord : CHORD_REPETITION optional_notemode_duration post_events&quot;</span>
        <span class="n">pitches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_last_chord</span><span class="o">.</span><span class="n">written_pitches</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span>
        <span class="n">chord</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Chord</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_chord_pitch_orders</span><span class="p">[</span><span class="n">chord</span><span class="p">]</span> <span class="o">=</span> <span class="n">pitches</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">multiplier</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span><span class="p">)</span>
            <span class="n">chord</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">=</span> <span class="n">multiplier</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_process_post_events</span><span class="p">(</span><span class="n">chord</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="n">annotation</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;UnrelativableMusic&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="n">_bind</span><span class="o">.</span><span class="n">_unsafe_attach</span><span class="p">(</span><span class="n">annotation</span><span class="p">,</span> <span class="n">chord</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_last_chord</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_repeated_chords</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_repeated_chords</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_last_chord</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_repeated_chords</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_last_chord</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chord</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">chord</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_event_chord__MULTI_MEASURE_REST__optional_notemode_duration__post_events"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_event_chord__MULTI_MEASURE_REST__optional_notemode_duration__post_events">[docs]</a>    <span class="k">def</span> <span class="nf">p_event_chord__MULTI_MEASURE_REST__optional_notemode_duration__post_events</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;event_chord : MULTI_MEASURE_REST optional_notemode_duration post_events&quot;</span>
        <span class="n">rest</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">MultimeasureRest</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">multiplier</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span><span class="p">)</span>
            <span class="n">rest</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">=</span> <span class="n">_duration</span><span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">multiplier</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_process_post_events</span><span class="p">(</span><span class="n">rest</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">rest</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_event_chord__command_element"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_event_chord__command_element">[docs]</a>    <span class="k">def</span> <span class="nf">p_event_chord__command_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;event_chord : command_element&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_event_chord__note_chord_element"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_event_chord__note_chord_element">[docs]</a>    <span class="k">def</span> <span class="nf">p_event_chord__note_chord_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;event_chord : note_chord_element&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_last_chord</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_event_chord__simple_chord_elements__post_events"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_event_chord__simple_chord_elements__post_events">[docs]</a>    <span class="k">def</span> <span class="nf">p_event_chord__simple_chord_elements__post_events</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;event_chord : simple_chord_elements post_events&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_process_post_events</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### event_function_event ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_event_function_event__EVENT_FUNCTION__function_arglist_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_event_function_event__EVENT_FUNCTION__function_arglist_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_event_function_event__EVENT_FUNCTION__function_arglist_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;event_function_event : EVENT_FUNCTION function_arglist_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;event_function_event&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span></div>

    <span class="c1">### exclamations ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_exclamations__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_exclamations__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_exclamations__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;exclamations :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_exclamations__exclamations__Chr33"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_exclamations__exclamations__Chr33">[docs]</a>    <span class="k">def</span> <span class="nf">p_exclamations__exclamations__Chr33</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;exclamations : exclamations &#39;!&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span></div>

    <span class="c1">### figure_list ###</span>

    <span class="c1">#    def p_figure_list__Empty(self, p):</span>
    <span class="c1">#        &#39;figure_list : &#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figure_list&#39;, p[1:])</span>

    <span class="c1">#    def p_figure_list__figure_list__br_bass_figure(self, p):</span>
    <span class="c1">#        &#39;figure_list : figure_list br_bass_figure&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figure_list&#39;, p[1:])</span>

    <span class="c1">### figure_spec ###</span>

    <span class="c1">#    def p_figure_spec__FIGURE_OPEN__figure_list__FIGURE_CLOSE(self, p):</span>
    <span class="c1">#        &#39;figure_spec : FIGURE_OPEN figure_list FIGURE_CLOSE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figure_spec&#39;, p[1:])</span>

    <span class="c1">### figured_bass_alteration ###</span>

    <span class="c1">#    def p_figured_bass_alteration__Chr33(self, p):</span>
    <span class="c1">#        &quot;figured_bass_alteration : &#39;!&#39;&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figured_bass_alteration&#39;, p[1:])</span>

    <span class="c1">#    def p_figured_bass_alteration__Chr43(self, p):</span>
    <span class="c1">#        &quot;figured_bass_alteration : &#39;+&#39;&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figured_bass_alteration&#39;, p[1:])</span>

    <span class="c1">#    def p_figured_bass_alteration__Chr45(self, p):</span>
    <span class="c1">#        &quot;figured_bass_alteration : &#39;-&#39;&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figured_bass_alteration&#39;, p[1:])</span>

    <span class="c1">### figured_bass_modification ###</span>

    <span class="c1">#    def p_figured_bass_modification__Chr47(self, p):</span>
    <span class="c1">#        &quot;figured_bass_modification : &#39;/&#39;&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figured_bass_modification&#39;, p[1:])</span>

    <span class="c1">#    def p_figured_bass_modification__E_BACKSLASH(self, p):</span>
    <span class="c1">#        &#39;figured_bass_modification : E_BACKSLASH&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figured_bass_modification&#39;, p[1:])</span>

    <span class="c1">#    def p_figured_bass_modification__E_EXCLAMATION(self, p):</span>
    <span class="c1">#        &#39;figured_bass_modification : E_EXCLAMATION&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figured_bass_modification&#39;, p[1:])</span>

    <span class="c1">#    def p_figured_bass_modification__E_PLUS(self, p):</span>
    <span class="c1">#        &#39;figured_bass_modification : E_PLUS&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;figured_bass_modification&#39;, p[1:])</span>

    <span class="c1">### fingering ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_fingering__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_fingering__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_fingering__UNSIGNED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;fingering : UNSIGNED&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;fingering&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span></div>

    <span class="c1">### fraction ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_fraction__FRACTION"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_fraction__FRACTION">[docs]</a>    <span class="k">def</span> <span class="nf">p_fraction__FRACTION</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;fraction : FRACTION&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_fraction__UNSIGNED__Chr47__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_fraction__UNSIGNED__Chr47__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_fraction__UNSIGNED__Chr47__UNSIGNED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;fraction : UNSIGNED &#39;/&#39; UNSIGNED&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span></div>

    <span class="c1">### full_markup ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_full_markup__MARKUP_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_full_markup__MARKUP_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_full_markup__MARKUP_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;full_markup : MARKUP_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;full_markup&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_full_markup__MARKUP__markup_top"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_full_markup__MARKUP__markup_top">[docs]</a>    <span class="k">def</span> <span class="nf">p_full_markup__MARKUP__markup_top</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;full_markup : MARKUP markup_top&quot;</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">MarkupCommand</span><span class="p">):</span>
                <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">_get_lilypond_format</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
        <span class="n">string</span> <span class="o">=</span> <span class="sa">rf</span><span class="s2">&quot;\markup </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span><span class="s2">&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Markup</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_lexer</span><span class="o">.</span><span class="n">pop_state</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_relex_lookahead</span><span class="p">()</span></div>

    <span class="c1">### full_markup_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_full_markup_list__MARKUPLIST_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_full_markup_list__MARKUPLIST_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_full_markup_list__MARKUPLIST_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;full_markup_list : MARKUPLIST_IDENTIFIER&quot;</span>
        <span class="c1"># p[0] = SyntaxNode(&#39;full_markup_list&#39;, p[1:])</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_full_markup_list__MARKUPLIST__markup_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_full_markup_list__MARKUPLIST__markup_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_full_markup_list__MARKUPLIST__markup_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;full_markup_list : MARKUPLIST markup_list&quot;</span>
        <span class="c1"># p[0] = SyntaxNode(&#39;full_markup_list&#39;, p[1:])</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

    <span class="c1">### function_arglist ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist__function_arglist_common"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist__function_arglist_common">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist__function_arglist_common</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist : function_arglist_common&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist__function_arglist_nonbackup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist__function_arglist_nonbackup">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist__function_arglist_nonbackup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist : function_arglist_nonbackup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### function_arglist_backup ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed_keep__duration_length"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed_keep__duration_length">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed_keep__duration_length</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_DURATION function_arglist_closed_keep duration_length&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_keep__pitch_also_in_chords"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_keep__pitch_also_in_chords">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_keep__pitch_also_in_chords</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_PITCH function_arglist_keep pitch_also_in_chords&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_backup__BACKUP"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_backup__BACKUP">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_backup__BACKUP</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_backup BACKUP&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__NUMBER_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__NUMBER_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__NUMBER_IDENTIFIER</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed_keep &#39;-&#39; NUMBER_IDENTIFIER&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;NUMBER_IDENTIFIER&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__REAL"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__REAL">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__REAL</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed_keep &#39;-&#39; REAL&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">n</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_reparse_token</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;REAL&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;REAL&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__Chr45__UNSIGNED</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed_keep &#39;-&#39; UNSIGNED&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicates</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">n</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_reparse_token</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;REAL&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># This would normally create a FingeringEvent, and test that against the predicate</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;REAL&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__FRACTION"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__FRACTION">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__FRACTION</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed_keep FRACTION&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;FRACTION&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__NUMBER_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__NUMBER_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__NUMBER_IDENTIFIER</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed_keep NUMBER_IDENTIFIER&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;NUMBER_IDENTIFIER&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__REAL"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__REAL">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__REAL</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed_keep REAL&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_reparse_token</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;REAL&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;REAL&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__UNSIGNED</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed_keep UNSIGNED&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_reparse_token</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;UNSIGNED&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;UNSIGNED&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__post_event_nofinger"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__post_event_nofinger">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed_keep__post_event_nofinger</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed_keep post_event_nofinger&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;EVENT_IDENTIFIER&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_keep__embedded_scm_arg_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_keep__embedded_scm_arg_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_keep__embedded_scm_arg_closed</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_keep embedded_scm_arg_closed&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_test_scheme_predicate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_backup_token</span><span class="p">(</span><span class="s2">&quot;SCM_IDENTIFIER&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span></div>

    <span class="c1">#    def p_function_arglist_backup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_keep__lyric_element(self, p):</span>
    <span class="c1">#        &#39;function_arglist_backup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_keep lyric_element&#39;</span>
    <span class="c1">#        if self.client._test_scheme_predicate(p[2], p[4]):</span>
    <span class="c1">#            p[0] = p[3] + [p[4]]</span>
    <span class="c1">#        else:</span>
    <span class="c1">#            p[0] = p[3] + [p[1]]</span>
    <span class="c1">#            self.client._backup_token(&#39;LYRICS_STRING&#39;, p[4])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__function_arglist_backup__REPARSE__bare_number"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__function_arglist_backup__REPARSE__bare_number">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__function_arglist_backup__REPARSE__bare_number</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : function_arglist_backup REPARSE bare_number&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_check_scheme_argument</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__function_arglist_backup__REPARSE__embedded_scm_arg_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__function_arglist_backup__REPARSE__embedded_scm_arg_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__function_arglist_backup__REPARSE__embedded_scm_arg_closed</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : function_arglist_backup REPARSE embedded_scm_arg_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_check_scheme_argument</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_backup__function_arglist_backup__REPARSE__fraction"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_backup__function_arglist_backup__REPARSE__fraction">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_backup__function_arglist_backup__REPARSE__fraction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_backup : function_arglist_backup REPARSE fraction&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_check_scheme_argument</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### function_arglist_bare ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_DURATION__function_arglist_closed_optional__duration_length"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_DURATION__function_arglist_closed_optional__duration_length">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_bare__EXPECT_DURATION__function_arglist_closed_optional__duration_length</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_bare : EXPECT_DURATION function_arglist_closed_optional duration_length&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_NO_MORE_ARGS"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_NO_MORE_ARGS">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_bare__EXPECT_NO_MORE_ARGS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_bare : EXPECT_NO_MORE_ARGS&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_skip__DEFAULT"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_skip__DEFAULT">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_skip__DEFAULT</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_bare : EXPECT_OPTIONAL EXPECT_DURATION function_arglist_skip DEFAULT&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_skip__DEFAULT"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_skip__DEFAULT">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_skip__DEFAULT</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_bare : EXPECT_OPTIONAL EXPECT_PITCH function_arglist_skip DEFAULT&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_skip__DEFAULT"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_skip__DEFAULT">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_bare__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_skip__DEFAULT</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_bare : EXPECT_OPTIONAL EXPECT_SCM function_arglist_skip DEFAULT&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_PITCH__function_arglist_optional__pitch_also_in_chords"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_bare__EXPECT_PITCH__function_arglist_optional__pitch_also_in_chords">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_bare__EXPECT_PITCH__function_arglist_optional__pitch_also_in_chords</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_bare : EXPECT_PITCH function_arglist_optional pitch_also_in_chords&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

    <span class="c1">### function_arglist_closed ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed__function_arglist_closed_common"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed__function_arglist_closed_common">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed__function_arglist_closed_common</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed : function_arglist_closed_common&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed__function_arglist_nonbackup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed__function_arglist_nonbackup">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed__function_arglist_nonbackup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed : function_arglist_nonbackup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### function_arglist_closed_common ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__NUMBER_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__NUMBER_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__NUMBER_IDENTIFIER</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_common : EXPECT_SCM function_arglist_closed_optional &#39;-&#39; NUMBER_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__REAL"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__REAL">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__REAL</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_common : EXPECT_SCM function_arglist_closed_optional &#39;-&#39; REAL&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__Chr45__UNSIGNED</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_common : EXPECT_SCM function_arglist_closed_optional &#39;-&#39; UNSIGNED&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__bare_number"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__bare_number">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__bare_number</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_common : EXPECT_SCM function_arglist_closed_optional bare_number&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__fraction"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__fraction">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__fraction</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_common : EXPECT_SCM function_arglist_closed_optional fraction&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__post_event_nofinger"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__post_event_nofinger">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_common__EXPECT_SCM__function_arglist_closed_optional__post_event_nofinger</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_common : EXPECT_SCM function_arglist_closed_optional post_event_nofinger&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_optional__embedded_scm_arg_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_common__EXPECT_SCM__function_arglist_optional__embedded_scm_arg_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_common__EXPECT_SCM__function_arglist_optional__embedded_scm_arg_closed</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_common : EXPECT_SCM function_arglist_optional embedded_scm_arg_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

    <span class="c1">#    def p_function_arglist_closed_common__EXPECT_SCM__function_arglist_optional__lyric_element(self, p):</span>
    <span class="c1">#        &#39;function_arglist_closed_common : EXPECT_SCM function_arglist_optional lyric_element&#39;</span>
    <span class="c1">#        p[0] = p[2] + [p[3]]</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_common__function_arglist_bare"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_common__function_arglist_bare">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_common__function_arglist_bare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_common : function_arglist_bare&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### function_arglist_closed_keep ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_keep__function_arglist_backup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_keep__function_arglist_backup">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_keep__function_arglist_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_keep : function_arglist_backup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_keep__function_arglist_closed_common"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_keep__function_arglist_closed_common">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_keep__function_arglist_closed_common</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_keep : function_arglist_closed_common&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### function_arglist_closed_optional ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_optional__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed_optional"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_optional__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed_optional">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_optional__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed_optional</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_optional : EXPECT_OPTIONAL EXPECT_DURATION function_arglist_closed_optional&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_optional__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_closed_optional"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_optional__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_closed_optional">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_optional__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_closed_optional</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_optional : EXPECT_OPTIONAL EXPECT_PITCH function_arglist_closed_optional&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_optional__function_arglist_backup__BACKUP"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_optional__function_arglist_backup__BACKUP">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_optional__function_arglist_backup__BACKUP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_optional : function_arglist_backup BACKUP&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_closed_optional__function_arglist_closed_keep"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_closed_optional__function_arglist_closed_keep">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_closed_optional__function_arglist_closed_keep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_closed_optional : function_arglist_closed_keep %prec FUNCTION_ARGLIST&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### function_arglist_common ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__bare_number"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__bare_number">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__bare_number</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_common : EXPECT_SCM function_arglist_closed_optional bare_number&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__fraction"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__fraction">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__fraction</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_common : EXPECT_SCM function_arglist_closed_optional fraction&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__post_event_nofinger"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__post_event_nofinger">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common__EXPECT_SCM__function_arglist_closed_optional__post_event_nofinger</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_common : EXPECT_SCM function_arglist_closed_optional post_event_nofinger&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common__EXPECT_SCM__function_arglist_optional__embedded_scm_arg"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common__EXPECT_SCM__function_arglist_optional__embedded_scm_arg">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common__EXPECT_SCM__function_arglist_optional__embedded_scm_arg</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_common : EXPECT_SCM function_arglist_optional embedded_scm_arg&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common__function_arglist_bare"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common__function_arglist_bare">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common__function_arglist_bare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_common : function_arglist_bare&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_function_arglist_common__function_arglist_common_lyric(self, p):</span>
    <span class="c1">#        &#39;function_arglist_common : function_arglist_common_lyric&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common__function_arglist_common_minus"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common__function_arglist_common_minus">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common__function_arglist_common_minus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_common : function_arglist_common_minus&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### function_arglist_common_lyric ###</span>

    <span class="c1">#    def p_function_arglist_common_lyric__EXPECT_SCM__function_arglist_optional__lyric_element(self, p):</span>
    <span class="c1">#        &#39;function_arglist_common_lyric : EXPECT_SCM function_arglist_optional lyric_element&#39;</span>
    <span class="c1">#        p[0] = p[2] + [p[3]]</span>

    <span class="c1">#    def p_function_arglist_common_lyric__function_arglist_common_lyric__REPARSE__lyric_element_arg(self, p):</span>
    <span class="c1">#        &#39;function_arglist_common_lyric : function_arglist_common_lyric REPARSE lyric_element_arg&#39;</span>
    <span class="c1">#        p[0] = p[1] + [p[3]]</span>

    <span class="c1">### function_arglist_common_minus ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__NUMBER_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__NUMBER_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__NUMBER_IDENTIFIER</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_common_minus : EXPECT_SCM function_arglist_closed_optional &#39;-&#39; NUMBER_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__REAL"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__REAL">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__REAL</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_common_minus : EXPECT_SCM function_arglist_closed_optional &#39;-&#39; REAL&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common_minus__EXPECT_SCM__function_arglist_closed_optional__Chr45__UNSIGNED</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_common_minus : EXPECT_SCM function_arglist_closed_optional &#39;-&#39; UNSIGNED&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_common_minus__function_arglist_common_minus__REPARSE__bare_number"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_common_minus__function_arglist_common_minus__REPARSE__bare_number">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_common_minus__function_arglist_common_minus__REPARSE__bare_number</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_common_minus : function_arglist_common_minus REPARSE bare_number&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

    <span class="c1">### function_arglist_keep ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_keep__function_arglist_backup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_keep__function_arglist_backup">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_keep__function_arglist_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_keep : function_arglist_backup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_keep__function_arglist_common"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_keep__function_arglist_common">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_keep__function_arglist_common</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_keep : function_arglist_common&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### function_arglist_nonbackup ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed__duration_length"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed__duration_length">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_closed__duration_length</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_DURATION function_arglist_closed duration_length&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist__pitch_also_in_chords"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist__pitch_also_in_chords">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist__pitch_also_in_chords</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_PITCH function_arglist pitch_also_in_chords&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist__embedded_scm_arg_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist__embedded_scm_arg_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist__embedded_scm_arg_closed</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_SCM function_arglist embedded_scm_arg_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__NUMBER_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__NUMBER_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__NUMBER_IDENTIFIER</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed &#39;-&#39; NUMBER_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__REAL"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__REAL">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__REAL</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed &#39;-&#39; REAL&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__Chr45__UNSIGNED</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed &#39;-&#39; UNSIGNED&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__FRACTION"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__FRACTION">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__FRACTION</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed FRACTION&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__bare_number_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__bare_number_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__bare_number_closed</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed bare_number_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__post_event_nofinger"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__post_event_nofinger">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_nonbackup__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_closed__post_event_nofinger</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_nonbackup : EXPECT_OPTIONAL EXPECT_SCM function_arglist_closed post_event_nofinger&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span></div>

    <span class="c1">### function_arglist_optional ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_optional__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_optional"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_optional__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_optional">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_optional__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_optional</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_optional : EXPECT_OPTIONAL EXPECT_DURATION function_arglist_optional&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_optional__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_optional"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_optional__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_optional">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_optional__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_optional</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_optional : EXPECT_OPTIONAL EXPECT_PITCH function_arglist_optional&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_optional__function_arglist_backup__BACKUP"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_optional__function_arglist_backup__BACKUP">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_optional__function_arglist_backup__BACKUP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_optional : function_arglist_backup BACKUP&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_optional__function_arglist_keep"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_optional__function_arglist_keep">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_optional__function_arglist_keep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_optional : function_arglist_keep %prec FUNCTION_ARGLIST&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### function_arglist_skip ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_skip"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_skip">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_DURATION__function_arglist_skip</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_skip : EXPECT_OPTIONAL EXPECT_DURATION function_arglist_skip %prec FUNCTION_ARGLIST&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_skip"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_skip">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_PITCH__function_arglist_skip</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_skip : EXPECT_OPTIONAL EXPECT_PITCH function_arglist_skip %prec FUNCTION_ARGLIST&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_skip"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_skip">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_skip__EXPECT_OPTIONAL__EXPECT_SCM__function_arglist_skip</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;function_arglist_skip : EXPECT_OPTIONAL EXPECT_SCM function_arglist_skip %prec FUNCTION_ARGLIST&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_function_arglist_skip__function_arglist_common"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_function_arglist_skip__function_arglist_common">[docs]</a>    <span class="k">def</span> <span class="nf">p_function_arglist_skip__function_arglist_common</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;function_arglist_skip : function_arglist_common&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### gen_text_def ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_gen_text_def__full_markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_gen_text_def__full_markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_gen_text_def__full_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;gen_text_def : full_markup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_gen_text_def__simple_string"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_gen_text_def__simple_string">[docs]</a>    <span class="k">def</span> <span class="nf">p_gen_text_def__simple_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;gen_text_def : simple_string&quot;</span>
        <span class="c1"># assert isinstance(p[1], str), repr(p[1])</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Markup</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;\markup </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span></div>

    <span class="c1">### grouped_music_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_grouped_music_list__sequential_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_grouped_music_list__sequential_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_grouped_music_list__sequential_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;grouped_music_list : sequential_music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_grouped_music_list__simultaneous_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_grouped_music_list__simultaneous_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_grouped_music_list__simultaneous_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;grouped_music_list : simultaneous_music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### identifier_init ###</span>

    <span class="c1">#    def p_identifier_init__book_block(self, p):</span>
    <span class="c1">#        &#39;identifier_init : book_block&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;book_block&#39;, p[1])</span>

    <span class="c1">#    def p_identifier_init__bookpart_block(self, p):</span>
    <span class="c1">#        &#39;identifier_init : bookpart_block&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;bookpart_block&#39;, p[1])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__context_def_spec_block"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__context_def_spec_block">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__context_def_spec_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : context_def_spec_block&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_def_spec_block&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__context_modification"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__context_modification">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__context_modification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : context_modification&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;context_modification&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__embedded_scm"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__embedded_scm">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__embedded_scm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : embedded_scm&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;embedded_scm&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__full_markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__full_markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__full_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : full_markup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;full_markup&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__full_markup_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__full_markup_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__full_markup_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : full_markup_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;full_markup_list&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__music">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;music&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__number_expression"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__number_expression">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__number_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : number_expression&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;number_expression&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__output_def"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__output_def">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__output_def</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : output_def&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;output_def&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__post_event_nofinger"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__post_event_nofinger">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__post_event_nofinger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : post_event_nofinger&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;post_event_nofinger&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__score_block"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__score_block">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__score_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : score_block&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;score_block&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_identifier_init__string"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_identifier_init__string">[docs]</a>    <span class="k">def</span> <span class="nf">p_identifier_init__string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;identifier_init : string&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

    <span class="c1">### lilypond ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_lilypond__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_lilypond__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_lilypond__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;lilypond :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

    <span class="c1">#    def p_lilypond__lilypond__INVALID(self, p):</span>
    <span class="c1">#        &#39;lilypond : lilypond INVALID&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_lilypond__lilypond__assignment"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_lilypond__lilypond__assignment">[docs]</a>    <span class="k">def</span> <span class="nf">p_lilypond__lilypond__assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;lilypond : lilypond assignment&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_assign_variable</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_lilypond__lilypond__error"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_lilypond__lilypond__error">[docs]</a>    <span class="k">def</span> <span class="nf">p_lilypond__lilypond__error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;lilypond : lilypond error&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_lilypond__lilypond__toplevel_expression"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_lilypond__lilypond__toplevel_expression">[docs]</a>    <span class="k">def</span> <span class="nf">p_lilypond__lilypond__toplevel_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;lilypond : lilypond toplevel_expression&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### lilypond_header ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_lilypond_header__HEADER__Chr123__lilypond_header_body__Chr125"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_lilypond_header__HEADER__Chr123__lilypond_header_body__Chr125">[docs]</a>    <span class="k">def</span> <span class="nf">p_lilypond_header__HEADER__Chr123__lilypond_header_body__Chr125</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;lilypond_header : HEADER &#39;{&#39; lilypond_header_body &#39;}&#39;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_pop_variable_scope</span><span class="p">()</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></div>

    <span class="c1">### lilypond_header_body ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_lilypond_header_body__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_lilypond_header_body__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_lilypond_header_body__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;lilypond_header_body :&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_variable_scope</span><span class="p">()</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_lilypondfile</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_lilypond_header_body__lilypond_header_body__assignment"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_lilypond_header_body__lilypond_header_body__assignment">[docs]</a>    <span class="k">def</span> <span class="nf">p_lilypond_header_body__lilypond_header_body__assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;lilypond_header_body : lilypond_header_body assignment&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_assign_variable</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### lyric_element ###</span>

    <span class="c1">#    def p_lyric_element__LYRICS_STRING(self, p):</span>
    <span class="c1">#        &#39;lyric_element : LYRICS_STRING&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_element&#39;, p[1:])</span>

    <span class="c1">#    def p_lyric_element__lyric_markup(self, p):</span>
    <span class="c1">#        &#39;lyric_element : lyric_markup&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_element&#39;, p[1:])</span>

    <span class="c1">### lyric_element_arg ###</span>

    <span class="c1">#    def p_lyric_element_arg__LYRIC_ELEMENT__optional_notemode_duration__post_events(self, p):</span>
    <span class="c1">#        &#39;lyric_element_arg : LYRIC_ELEMENT optional_notemode_duration post_events&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_element_arg&#39;, p[1:])</span>

    <span class="c1">#    def p_lyric_element_arg__lyric_element(self, p):</span>
    <span class="c1">#        &#39;lyric_element_arg : lyric_element&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_element_arg&#39;, p[1:])</span>

    <span class="c1">#    def p_lyric_element_arg__lyric_element__multiplied_duration__post_events(self, p):</span>
    <span class="c1">#        &#39;lyric_element_arg : lyric_element multiplied_duration post_events&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_element_arg&#39;, p[1:])</span>

    <span class="c1">#    def p_lyric_element_arg__lyric_element__post_event__post_events(self, p):</span>
    <span class="c1">#        &#39;lyric_element_arg : lyric_element post_event post_events&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_element_arg&#39;, p[1:])</span>

    <span class="c1">### lyric_element_music ###</span>

    <span class="c1">#    def p_lyric_element_music__lyric_element__optional_notemode_duration__post_events(self, p):</span>
    <span class="c1">#        &#39;lyric_element_music : lyric_element optional_notemode_duration post_events&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_element_music&#39;, p[1:])</span>

    <span class="c1">### lyric_markup ###</span>

    <span class="c1">#    def p_lyric_markup__LYRIC_MARKUP_IDENTIFIER(self, p):</span>
    <span class="c1">#        &#39;lyric_markup : LYRIC_MARKUP_IDENTIFIER&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_markup&#39;, p[1:])</span>

    <span class="c1">#    def p_lyric_markup__LYRIC_MARKUP__markup_top(self, p):</span>
    <span class="c1">#        &#39;lyric_markup : LYRIC_MARKUP markup_top&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;lyric_markup&#39;, p[1:])</span>

    <span class="c1">### markup ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup__markup_head_1_list__simple_markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup__markup_head_1_list__simple_markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup__markup_head_1_list__simple_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup : markup_head_1_list simple_markup&quot;</span>
        <span class="n">markup</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">markup</span><span class="p">)</span>
            <span class="n">markup</span> <span class="o">=</span> <span class="n">MarkupCommand</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="o">*</span><span class="n">arguments</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">markup</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup__simple_markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup__simple_markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup__simple_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup : simple_markup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### markup_braced_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_braced_list__Chr123__markup_braced_list_body__Chr125"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_braced_list__Chr123__markup_braced_list_body__Chr125">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_braced_list__Chr123__markup_braced_list_body__Chr125</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_braced_list : &#39;{&#39; markup_braced_list_body &#39;}&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

    <span class="c1">### markup_braced_list_body ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_braced_list_body__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_braced_list_body__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_braced_list_body__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_braced_list_body :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_braced_list_body__markup_braced_list_body__markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_braced_list_body__markup_braced_list_body__markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_braced_list_body__markup_braced_list_body__markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_braced_list_body : markup_braced_list_body markup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_braced_list_body__markup_braced_list_body__markup_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_braced_list_body__markup_braced_list_body__markup_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_braced_list_body__markup_braced_list_body__markup_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_braced_list_body : markup_braced_list_body markup_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### markup_command_basic_arguments ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_command_basic_arguments__EXPECT_MARKUP_LIST__markup_command_list_arguments__markup_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_command_basic_arguments__EXPECT_MARKUP_LIST__markup_command_list_arguments__markup_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_command_basic_arguments__EXPECT_MARKUP_LIST__markup_command_list_arguments__markup_list</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;markup_command_basic_arguments : EXPECT_MARKUP_LIST markup_command_list_arguments markup_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_command_basic_arguments__EXPECT_NO_MORE_ARGS"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_command_basic_arguments__EXPECT_NO_MORE_ARGS">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_command_basic_arguments__EXPECT_NO_MORE_ARGS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_command_basic_arguments : EXPECT_NO_MORE_ARGS&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_command_basic_arguments__EXPECT_SCM__markup_command_list_arguments__embedded_scm_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_command_basic_arguments__EXPECT_SCM__markup_command_list_arguments__embedded_scm_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_command_basic_arguments__EXPECT_SCM__markup_command_list_arguments__embedded_scm_closed</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;markup_command_basic_arguments : EXPECT_SCM markup_command_list_arguments embedded_scm_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

    <span class="c1">### markup_command_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_command_list__MARKUP_LIST_FUNCTION__markup_command_list_arguments"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_command_list__MARKUP_LIST_FUNCTION__markup_command_list_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_command_list__MARKUP_LIST_FUNCTION__markup_command_list_arguments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;markup_command_list : MARKUP_LIST_FUNCTION markup_command_list_arguments&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">MarkupCommand</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:],</span> <span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### markup_command_list_arguments ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_command_list_arguments__EXPECT_MARKUP__markup_command_list_arguments__markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_command_list_arguments__EXPECT_MARKUP__markup_command_list_arguments__markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_command_list_arguments__EXPECT_MARKUP__markup_command_list_arguments__markup</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;markup_command_list_arguments : EXPECT_MARKUP markup_command_list_arguments markup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_command_list_arguments__markup_command_basic_arguments"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_command_list_arguments__markup_command_basic_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_command_list_arguments__markup_command_basic_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_command_list_arguments : markup_command_basic_arguments&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### markup_composed_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_composed_list__markup_head_1_list__markup_braced_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_composed_list__markup_head_1_list__markup_braced_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_composed_list__markup_head_1_list__markup_braced_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_composed_list : markup_head_1_list markup_braced_list&quot;</span>
        <span class="n">markup</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">markup</span><span class="p">)</span>
            <span class="n">markup</span> <span class="o">=</span> <span class="n">MarkupCommand</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="o">*</span><span class="n">arguments</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">markup</span></div>

    <span class="c1">### markup_head_1_item ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_head_1_item__MARKUP_FUNCTION__EXPECT_MARKUP__markup_command_list_arguments"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_head_1_item__MARKUP_FUNCTION__EXPECT_MARKUP__markup_command_list_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_head_1_item__MARKUP_FUNCTION__EXPECT_MARKUP__markup_command_list_arguments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;markup_head_1_item : MARKUP_FUNCTION EXPECT_MARKUP markup_command_list_arguments&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></div>

    <span class="c1">### markup_head_1_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_head_1_list__markup_head_1_item"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_head_1_list__markup_head_1_item">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_head_1_list__markup_head_1_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_head_1_list : markup_head_1_item&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_head_1_list__markup_head_1_list__markup_head_1_item"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_head_1_list__markup_head_1_list__markup_head_1_item">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_head_1_list__markup_head_1_list__markup_head_1_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_head_1_list : markup_head_1_list markup_head_1_item&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### markup_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_list__MARKUPLIST_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_list__MARKUPLIST_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_list__MARKUPLIST_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_list : MARKUPLIST_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_list__markup_braced_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_list__markup_braced_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_list__markup_braced_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_list : markup_braced_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_list__markup_command_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_list__markup_command_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_list__markup_command_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_list : markup_command_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_list__markup_composed_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_list__markup_composed_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_list__markup_composed_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_list : markup_composed_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_list__markup_scm__MARKUPLIST_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_list__markup_scm__MARKUPLIST_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_list__markup_scm__MARKUPLIST_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_list : markup_scm MARKUPLIST_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;markup_list&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### markup_scm ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_scm__embedded_scm_bare__BACKUP"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_scm__embedded_scm_bare__BACKUP">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_scm__embedded_scm_bare__BACKUP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_scm : embedded_scm_bare BACKUP&quot;</span>

        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">token</span> <span class="o">=</span> <span class="n">lex</span><span class="o">.</span><span class="n">LexToken</span><span class="p">()</span>
        <span class="n">token</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s2">&quot;MARKUP_IDENTIFIER&quot;</span>
        <span class="n">token</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">token</span><span class="o">.</span><span class="n">lexpos</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">token</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">slice</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_extra_token</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_parser</span><span class="o">.</span><span class="n">lookahead</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="c1">### markup_top ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_top__markup_head_1_list__simple_markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_top__markup_head_1_list__simple_markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_top__markup_head_1_list__simple_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_top : markup_head_1_list simple_markup&quot;</span>
        <span class="n">markup</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">markup</span><span class="p">)</span>
            <span class="n">markup</span> <span class="o">=</span> <span class="n">MarkupCommand</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="o">*</span><span class="n">arguments</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">markup</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_top__markup_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_top__markup_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_top__markup_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_top : markup_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_markup_top__simple_markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_markup_top__simple_markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_markup_top__simple_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;markup_top : simple_markup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### mode_changed_music ###</span>

    <span class="c1">#    def p_mode_changed_music__mode_changing_head__grouped_music_list(self, p):</span>
    <span class="c1">#        &#39;mode_changed_music : mode_changing_head grouped_music_list&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changed_music&#39;, p[1:])</span>

    <span class="c1">#    def p_mode_changed_music__mode_changing_head_with_context__optional_context_mod__grouped_music_list(self, p):</span>
    <span class="c1">#        &#39;mode_changed_music : mode_changing_head_with_context optional_context_mod grouped_music_list&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changed_music&#39;, p[1:])</span>

    <span class="c1">### mode_changing_head ###</span>

    <span class="c1">#    def p_mode_changing_head__CHORDMODE(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head : CHORDMODE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head&#39;, p[1:])</span>

    <span class="c1">#    def p_mode_changing_head__DRUMMODE(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head : DRUMMODE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head&#39;, p[1:])</span>

    <span class="c1">#    def p_mode_changing_head__FIGUREMODE(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head : FIGUREMODE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head&#39;, p[1:])</span>

    <span class="c1">#    def p_mode_changing_head__LYRICMODE(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head : LYRICMODE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head&#39;, p[1:])</span>

    <span class="c1">#    def p_mode_changing_head__NOTEMODE(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head : NOTEMODE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head&#39;, p[1:])</span>

    <span class="c1">### mode_changing_head_with_context ###</span>

    <span class="c1">#    def p_mode_changing_head_with_context__CHORDS(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head_with_context : CHORDS&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head_with_context&#39;, p[1:])</span>

    <span class="c1">#    def p_mode_changing_head_with_context__DRUMS(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head_with_context : DRUMS&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head_with_context&#39;, p[1:])</span>

    <span class="c1">#    def p_mode_changing_head_with_context__FIGURES(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head_with_context : FIGURES&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head_with_context&#39;, p[1:])</span>

    <span class="c1">#    def p_mode_changing_head_with_context__LYRICS(self, p):</span>
    <span class="c1">#        &#39;mode_changing_head_with_context : LYRICS&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;mode_changing_head_with_context&#39;, p[1:])</span>

    <span class="c1">### multiplied_duration ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_multiplied_duration__multiplied_duration__Chr42__FRACTION"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_multiplied_duration__multiplied_duration__Chr42__FRACTION">[docs]</a>    <span class="k">def</span> <span class="nf">p_multiplied_duration__multiplied_duration__Chr42__FRACTION</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;multiplied_duration : multiplied_duration &#39;*&#39; FRACTION&quot;</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span>
                <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">numerator</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">denominator</span><span class="p">)</span>
            <span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_multiplied_duration__multiplied_duration__Chr42__bare_unsigned"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_multiplied_duration__multiplied_duration__Chr42__bare_unsigned">[docs]</a>    <span class="k">def</span> <span class="nf">p_multiplied_duration__multiplied_duration__Chr42__bare_unsigned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;multiplied_duration : multiplied_duration &#39;*&#39; bare_unsigned&quot;</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_multiplied_duration__steno_duration"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_multiplied_duration__steno_duration">[docs]</a>    <span class="k">def</span> <span class="nf">p_multiplied_duration__steno_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;multiplied_duration : steno_duration&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### music ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music__composite_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music__composite_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_music__composite_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music : composite_music %prec COMPOSITE&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_music__lyric_element_music(self, p):</span>
    <span class="c1">#        &#39;music : lyric_element_music&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music__simple_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music__simple_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_music__simple_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music : simple_music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### music_arg ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_arg__composite_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_arg__composite_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_arg__composite_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_arg : composite_music %prec COMPOSITE&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_arg__simple_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_arg__simple_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_arg__simple_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_arg : simple_music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### music_bare ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_bare__MUSIC_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_bare__MUSIC_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_bare__MUSIC_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_bare : MUSIC_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_bare__grouped_music_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_bare__grouped_music_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_bare__grouped_music_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_bare : grouped_music_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_music_bare__mode_changed_music(self, p):</span>
    <span class="c1">#        &#39;music_bare : mode_changed_music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;music_bare&#39;, p[1:])</span>

    <span class="c1">### music_function_call ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_function_call__MUSIC_FUNCTION__function_arglist"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_function_call__MUSIC_FUNCTION__function_arglist">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_function_call__MUSIC_FUNCTION__function_arglist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_function_call : MUSIC_FUNCTION function_arglist&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_guile</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### music_function_chord_body ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_function_chord_body__MUSIC_FUNCTION__music_function_chord_body_arglist"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_function_chord_body__MUSIC_FUNCTION__music_function_chord_body_arglist">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_function_chord_body__MUSIC_FUNCTION__music_function_chord_body_arglist</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;music_function_chord_body : MUSIC_FUNCTION music_function_chord_body_arglist&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;music_function_chord_body&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### music_function_chord_body_arglist ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_function_chord_body_arglist__EXPECT_SCM__music_function_chord_body_arglist__embedded_scm_chord_body"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_function_chord_body_arglist__EXPECT_SCM__music_function_chord_body_arglist__embedded_scm_chord_body">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_function_chord_body_arglist__EXPECT_SCM__music_function_chord_body_arglist__embedded_scm_chord_body</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;music_function_chord_body_arglist : EXPECT_SCM music_function_chord_body_arglist embedded_scm_chord_body&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_function_chord_body_arglist__function_arglist_bare"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_function_chord_body_arglist__function_arglist_bare">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_function_chord_body_arglist__function_arglist_bare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_function_chord_body_arglist : function_arglist_bare&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### music_function_event ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_function_event__MUSIC_FUNCTION__function_arglist_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_function_event__MUSIC_FUNCTION__function_arglist_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_function_event__MUSIC_FUNCTION__function_arglist_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_function_event : MUSIC_FUNCTION function_arglist_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;music_function_event&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### music_list ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_list__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_list__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_list__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_list :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_list__music_list__embedded_scm"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_list__music_list__embedded_scm">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_list__music_list__embedded_scm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_list : music_list embedded_scm&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_list__music_list__error"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_list__music_list__error">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_list__music_list__error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_list : music_list error&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_list__music_list__music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_list__music_list__music">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_list__music_list__music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_list : music_list music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### music_property_def ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_music_property_def__simple_music_property_def"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_music_property_def__simple_music_property_def">[docs]</a>    <span class="k">def</span> <span class="nf">p_music_property_def__simple_music_property_def</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;music_property_def : simple_music_property_def&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;music_property_def&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### new_chord ###</span>

    <span class="c1">#    def p_new_chord__steno_tonic_pitch__optional_notemode_duration(self, p):</span>
    <span class="c1">#        &#39;new_chord : steno_tonic_pitch optional_notemode_duration&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;new_chord&#39;, p[1:])</span>

    <span class="c1">#    def p_new_chord__steno_tonic_pitch__optional_notemode_duration__chord_separator__chord_items(self, p):</span>
    <span class="c1">#        &#39;new_chord : steno_tonic_pitch optional_notemode_duration chord_separator chord_items&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;new_chord&#39;, p[1:])</span>

    <span class="c1">### new_lyrics ###</span>

    <span class="c1">#    def p_new_lyrics__ADDLYRICS__composite_music(self, p):</span>
    <span class="c1">#        &#39;new_lyrics : ADDLYRICS composite_music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;new_lyrics&#39;, p[1:])</span>

    <span class="c1">#    def p_new_lyrics__new_lyrics__ADDLYRICS__composite_music(self, p):</span>
    <span class="c1">#        &#39;new_lyrics : new_lyrics ADDLYRICS composite_music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;new_lyrics&#39;, p[1:])</span>

    <span class="c1">### note_chord_element ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_note_chord_element__chord_body__optional_notemode_duration__post_events"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_note_chord_element__chord_body__optional_notemode_duration__post_events">[docs]</a>    <span class="k">def</span> <span class="nf">p_note_chord_element__chord_body__optional_notemode_duration__post_events</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;note_chord_element : chord_body optional_notemode_duration post_events&quot;</span>
        <span class="n">chord</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Chord</span><span class="p">([],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="n">pitches</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">post_events</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">pitches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">written_pitch</span><span class="p">)</span>
            <span class="n">chord</span><span class="o">.</span><span class="n">note_heads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">post_events</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">post_events</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_chord_pitch_orders</span><span class="p">[</span><span class="n">chord</span><span class="p">]</span> <span class="o">=</span> <span class="n">pitches</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">multiplier</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span><span class="p">)</span>
            <span class="n">chord</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">=</span> <span class="n">_duration</span><span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">multiplier</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_process_post_events</span><span class="p">(</span><span class="n">chord</span><span class="p">,</span> <span class="n">post_events</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">chord</span></div>

    <span class="c1">### number_expression ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_number_expression__number_expression__Chr43__number_term"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_number_expression__number_expression__Chr43__number_term">[docs]</a>    <span class="k">def</span> <span class="nf">p_number_expression__number_expression__Chr43__number_term</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;number_expression : number_expression &#39;+&#39; number_term&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_number_expression__number_expression__Chr45__number_term"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_number_expression__number_expression__Chr45__number_term">[docs]</a>    <span class="k">def</span> <span class="nf">p_number_expression__number_expression__Chr45__number_term</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;number_expression : number_expression &#39;-&#39; number_term&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_number_expression__number_term"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_number_expression__number_term">[docs]</a>    <span class="k">def</span> <span class="nf">p_number_expression__number_term</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;number_expression : number_term&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### number_factor ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_number_factor__Chr45__number_factor"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_number_factor__Chr45__number_factor">[docs]</a>    <span class="k">def</span> <span class="nf">p_number_factor__Chr45__number_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;number_factor : &#39;-&#39; number_factor&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_number_factor__bare_number"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_number_factor__bare_number">[docs]</a>    <span class="k">def</span> <span class="nf">p_number_factor__bare_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;number_factor : bare_number&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### number_term ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_number_term__number_factor"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_number_term__number_factor">[docs]</a>    <span class="k">def</span> <span class="nf">p_number_term__number_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;number_term : number_factor&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_number_term__number_factor__Chr42__number_factor"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_number_term__number_factor__Chr42__number_factor">[docs]</a>    <span class="k">def</span> <span class="nf">p_number_term__number_factor__Chr42__number_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;number_term : number_factor &#39;*&#39; number_factor&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_number_term__number_factor__Chr47__number_factor"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_number_term__number_factor__Chr47__number_factor">[docs]</a>    <span class="k">def</span> <span class="nf">p_number_term__number_factor__Chr47__number_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;number_term : number_factor &#39;/&#39; number_factor&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></div>

    <span class="c1">### octave_check ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_octave_check__Chr61"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_octave_check__Chr61">[docs]</a>    <span class="k">def</span> <span class="nf">p_octave_check__Chr61</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;octave_check : &#39;=&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;octave_check&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_octave_check__Chr61__sub_quotes"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_octave_check__Chr61__sub_quotes">[docs]</a>    <span class="k">def</span> <span class="nf">p_octave_check__Chr61__sub_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;octave_check : &#39;=&#39; sub_quotes&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;octave_check&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_octave_check__Chr61__sup_quotes"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_octave_check__Chr61__sup_quotes">[docs]</a>    <span class="k">def</span> <span class="nf">p_octave_check__Chr61__sup_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;octave_check : &#39;=&#39; sup_quotes&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;octave_check&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_octave_check__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_octave_check__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_octave_check__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;octave_check :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;octave_check&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### optional_context_mod ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_optional_context_mod__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_optional_context_mod__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_optional_context_mod__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;optional_context_mod :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_optional_context_mod__context_modification"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_optional_context_mod__context_modification">[docs]</a>    <span class="k">def</span> <span class="nf">p_optional_context_mod__context_modification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;optional_context_mod : context_modification&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### optional_id ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_optional_id__Chr61__simple_string"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_optional_id__Chr61__simple_string">[docs]</a>    <span class="k">def</span> <span class="nf">p_optional_id__Chr61__simple_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;optional_id : &#39;=&#39; simple_string&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_optional_id__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_optional_id__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_optional_id__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;optional_id :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="c1">### optional_notemode_duration ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_optional_notemode_duration__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_optional_notemode_duration__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_optional_notemode_duration__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;optional_notemode_duration :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_default_duration</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_optional_notemode_duration__multiplied_duration"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_optional_notemode_duration__multiplied_duration">[docs]</a>    <span class="k">def</span> <span class="nf">p_optional_notemode_duration__multiplied_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;optional_notemode_duration : multiplied_duration&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_default_duration</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### optional_rest ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_optional_rest__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_optional_rest__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_optional_rest__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;optional_rest :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_optional_rest__REST"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_optional_rest__REST">[docs]</a>    <span class="k">def</span> <span class="nf">p_optional_rest__REST</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;optional_rest : REST&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span></div>

    <span class="c1">### output_def ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_output_def__output_def_body__Chr125"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_output_def__output_def_body__Chr125">[docs]</a>    <span class="k">def</span> <span class="nf">p_output_def__output_def_body__Chr125</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;output_def : output_def_body &#39;}&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_pop_variable_scope</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_lexer</span><span class="o">.</span><span class="n">pop_state</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_relex_lookahead</span><span class="p">()</span></div>

    <span class="c1">### output_def_body ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_output_def_body__output_def_body__assignment"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_output_def_body__output_def_body__assignment">[docs]</a>    <span class="k">def</span> <span class="nf">p_output_def_body__output_def_body__assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;output_def_body : output_def_body assignment&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_assign_variable</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_output_def_body__output_def_body__context_def_spec_block(self, p):</span>
    <span class="c1">#        &#39;output_def_body : output_def_body context_def_spec_block&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;output_def_body&#39;, p[1:])</span>

    <span class="c1">#    def p_output_def_body__output_def_body__error(self, p):</span>
    <span class="c1">#        &#39;output_def_body : output_def_body error&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;output_def_body&#39;, p[1:])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_output_def_body__output_def_head_with_mode_switch__Chr123"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_output_def_body__output_def_head_with_mode_switch__Chr123">[docs]</a>    <span class="k">def</span> <span class="nf">p_output_def_body__output_def_head_with_mode_switch__Chr123</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;output_def_body : output_def_head_with_mode_switch &#39;{&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_output_def_body__output_def_head_with_mode_switch__Chr123__OUTPUT_DEF_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_output_def_body__output_def_head_with_mode_switch__Chr123__OUTPUT_DEF_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_output_def_body__output_def_head_with_mode_switch__Chr123__OUTPUT_DEF_IDENTIFIER</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;output_def_body : output_def_head_with_mode_switch &#39;{&#39; OUTPUT_DEF_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

    <span class="c1">### output_def_head ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_output_def_head__LAYOUT"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_output_def_head__LAYOUT">[docs]</a>    <span class="k">def</span> <span class="nf">p_output_def_head__LAYOUT</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;output_def_head : LAYOUT&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_lilypondfile</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;layout&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_variable_scope</span><span class="p">()</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_output_def_head__MIDI"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_output_def_head__MIDI">[docs]</a>    <span class="k">def</span> <span class="nf">p_output_def_head__MIDI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;output_def_head : MIDI&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_lilypondfile</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;midi&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_variable_scope</span><span class="p">()</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_output_def_head__PAPER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_output_def_head__PAPER">[docs]</a>    <span class="k">def</span> <span class="nf">p_output_def_head__PAPER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;output_def_head : PAPER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_lilypondfile</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;paper&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_push_variable_scope</span><span class="p">()</span></div>

    <span class="c1">### output_def_head_with_mode_switch ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_output_def_head_with_mode_switch__output_def_head"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_output_def_head_with_mode_switch__output_def_head">[docs]</a>    <span class="k">def</span> <span class="nf">p_output_def_head_with_mode_switch__output_def_head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;output_def_head_with_mode_switch : output_def_head&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_lexer</span><span class="o">.</span><span class="n">push_state</span><span class="p">(</span><span class="s2">&quot;INITIAL&quot;</span><span class="p">)</span></div>

    <span class="c1">### paper_block ###</span>

    <span class="c1">#    def p_paper_block__output_def(self, p):</span>
    <span class="c1">#        &#39;paper_block : output_def&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

    <span class="c1">### pitch ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_pitch__PITCH_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_pitch__PITCH_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_pitch__PITCH_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;pitch : PITCH_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_pitch__steno_pitch"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_pitch__steno_pitch">[docs]</a>    <span class="k">def</span> <span class="nf">p_pitch__steno_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;pitch : steno_pitch&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### pitch_also_in_chords ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_pitch_also_in_chords__pitch"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_pitch_also_in_chords__pitch">[docs]</a>    <span class="k">def</span> <span class="nf">p_pitch_also_in_chords__pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;pitch_also_in_chords : pitch&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_pitch_also_in_chords__steno_tonic_pitch"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_pitch_also_in_chords__steno_tonic_pitch">[docs]</a>    <span class="k">def</span> <span class="nf">p_pitch_also_in_chords__steno_tonic_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;pitch_also_in_chords : steno_tonic_pitch&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### post_event ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event__Chr45__fingering"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event__Chr45__fingering">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event__Chr45__fingering</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event : &#39;-&#39; fingering&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event__post_event_nofinger"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event__post_event_nofinger">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event__post_event_nofinger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event : post_event_nofinger&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### post_event_nofinger ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__Chr94__fingering"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__Chr94__fingering">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__Chr94__fingering</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : &#39;^&#39; fingering&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__Chr95__fingering"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__Chr95__fingering">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__Chr95__fingering</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : &#39;_&#39; fingering&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__EXTENDER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__EXTENDER">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__EXTENDER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : EXTENDER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__HYPHEN"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__HYPHEN">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__HYPHEN</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : HYPHEN&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__direction_less_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__direction_less_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__direction_less_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : direction_less_event&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__script_dir__direction_less_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__script_dir__direction_less_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__script_dir__direction_less_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : script_dir direction_less_event&quot;</span>
        <span class="c1">#        try:</span>
        <span class="c1">#            p[2].direction = p[1]</span>
        <span class="c1">#            direction = _string.to_tridirectional_lilypond_symbol(p[1])</span>
        <span class="c1">#        except AttributeError:</span>
        <span class="c1">#            direction = _string.to_tridirectional_lilypond_symbol(p[1])</span>
        <span class="c1">#            # assert hasattr(p[2], &quot;_direction&quot;)</span>
        <span class="c1">#            # p[2]._direction = direction</span>
        <span class="c1"># p[0] = p[2]</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="n">_string</span><span class="o">.</span><span class="n">to_tridirectional_lilypond_symbol</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">direction</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__script_dir__direction_reqd_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__script_dir__direction_reqd_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__script_dir__direction_reqd_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : script_dir direction_reqd_event&quot;</span>
        <span class="c1">#        if isinstance(p[2], _indicators.Markup):</span>
        <span class="c1">#            direction = _string.to_tridirectional_ordinal_constant(p[1])</span>
        <span class="c1">#            p[2].direction = direction</span>
        <span class="c1">#        else:</span>
        <span class="c1">#            try:</span>
        <span class="c1">#                p[2].direction = p[1]</span>
        <span class="c1">#            except AttributeError:</span>
        <span class="c1">#                direction = _string.to_tridirectional_ordinal_constant(p[1])</span>
        <span class="c1">#                assert hasattr(p[2], &quot;_direction&quot;)</span>
        <span class="c1">#                p[2]._direction = direction</span>
        <span class="c1">#        p[0] = p[2]</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="n">_string</span><span class="o">.</span><span class="n">to_tridirectional_ordinal_constant</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">direction</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__script_dir__music_function_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__script_dir__music_function_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__script_dir__music_function_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : script_dir music_function_event&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_event_nofinger__string_number_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_event_nofinger__string_number_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_event_nofinger__string_number_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_event_nofinger : string_number_event&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="c1">### post_events ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_events__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_events__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_events__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_events :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_post_events__post_events__post_event"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_post_events__post_events__post_event">[docs]</a>    <span class="k">def</span> <span class="nf">p_post_events__post_events__post_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;post_events : post_events post_event&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### property_operation ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_property_operation__OVERRIDE__simple_string__property_path__Chr61__scalar"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_property_operation__OVERRIDE__simple_string__property_path__Chr61__scalar">[docs]</a>    <span class="k">def</span> <span class="nf">p_property_operation__OVERRIDE__simple_string__property_path__Chr61__scalar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;property_operation : OVERRIDE simple_string property_path &#39;=&#39; scalar&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondEvent</span><span class="p">(</span>
            <span class="s2">&quot;PropertyOperation&quot;</span><span class="p">,</span>
            <span class="n">keyword</span><span class="o">=</span><span class="s2">&quot;override&quot;</span><span class="p">,</span>
            <span class="n">context</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="nb">property</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
            <span class="n">value</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_property_operation__REVERT__simple_string__embedded_scm"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_property_operation__REVERT__simple_string__embedded_scm">[docs]</a>    <span class="k">def</span> <span class="nf">p_property_operation__REVERT__simple_string__embedded_scm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;property_operation : REVERT simple_string embedded_scm&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondEvent</span><span class="p">(</span>
            <span class="s2">&quot;PropertyOperation&quot;</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s2">&quot;revert&quot;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">property</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_property_operation__STRING__Chr61__scalar"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_property_operation__STRING__Chr61__scalar">[docs]</a>    <span class="k">def</span> <span class="nf">p_property_operation__STRING__Chr61__scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;property_operation : STRING &#39;=&#39; scalar&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondEvent</span><span class="p">(</span>
            <span class="s2">&quot;PropertyOperation&quot;</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s2">&quot;set&quot;</span><span class="p">,</span> <span class="nb">property</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_property_operation__UNSET__simple_string"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_property_operation__UNSET__simple_string">[docs]</a>    <span class="k">def</span> <span class="nf">p_property_operation__UNSET__simple_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;property_operation : UNSET simple_string&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondEvent</span><span class="p">(</span><span class="s2">&quot;PropertyOperation&quot;</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s2">&quot;unset&quot;</span><span class="p">,</span> <span class="nb">property</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### property_path ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_property_path__property_path_revved"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_property_path__property_path_revved">[docs]</a>    <span class="k">def</span> <span class="nf">p_property_path__property_path_revved</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;property_path : property_path_revved&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### property_path_revved ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_property_path_revved__embedded_scm_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_property_path_revved__embedded_scm_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_property_path_revved__embedded_scm_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;property_path_revved : embedded_scm_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_property_path_revved__property_path_revved__embedded_scm_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_property_path_revved__property_path_revved__embedded_scm_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_property_path_revved__property_path_revved__embedded_scm_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;property_path_revved : property_path_revved embedded_scm_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### questions ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_questions__Empty"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_questions__Empty">[docs]</a>    <span class="k">def</span> <span class="nf">p_questions__Empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;questions :&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_questions__questions__Chr63"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_questions__questions__Chr63">[docs]</a>    <span class="k">def</span> <span class="nf">p_questions__questions__Chr63</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;questions : questions &#39;?&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span></div>

    <span class="c1">### re_rhythmed_music ###</span>

    <span class="c1">#    def p_re_rhythmed_music__LYRICSTO__simple_string__music(self, p):</span>
    <span class="c1">#        &#39;re_rhythmed_music : LYRICSTO simple_string music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;re_rhythmed_music&#39;, p[1:])</span>

    <span class="c1">#    def p_re_rhythmed_music__composite_music__new_lyrics(self, p):</span>
    <span class="c1">#        &#39;re_rhythmed_music : composite_music new_lyrics %prec COMPOSITE&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;re_rhythmed_music&#39;, p[1:])</span>

    <span class="c1">### repeated_music ###</span>

    <span class="c1">#    def p_repeated_music__REPEAT__simple_string__unsigned_number__music(self, p):</span>
    <span class="c1">#        &#39;repeated_music : REPEAT simple_string unsigned_number music&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;repeated_music&#39;, p[1:])</span>

    <span class="c1">#    def p_repeated_music__REPEAT__simple_string__unsigned_number__music__ALTERNATIVE__braced_music_list(self, p):</span>
    <span class="c1">#        &#39;repeated_music : REPEAT simple_string unsigned_number music ALTERNATIVE braced_music_list&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;repeated_music&#39;, p[1:])</span>

    <span class="c1">### scalar ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_scalar__bare_number"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_scalar__bare_number">[docs]</a>    <span class="k">def</span> <span class="nf">p_scalar__bare_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;scalar : bare_number&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_scalar__embedded_scm_arg"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_scalar__embedded_scm_arg">[docs]</a>    <span class="k">def</span> <span class="nf">p_scalar__embedded_scm_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;scalar : embedded_scm_arg&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_scalar__lyric_element(self, p):</span>
    <span class="c1">#        &#39;scalar : lyric_element&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

    <span class="c1">### scalar_closed ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_scalar_closed__bare_number"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_scalar_closed__bare_number">[docs]</a>    <span class="k">def</span> <span class="nf">p_scalar_closed__bare_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;scalar_closed : bare_number&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_scalar_closed__embedded_scm_arg_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_scalar_closed__embedded_scm_arg_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_scalar_closed__embedded_scm_arg_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;scalar_closed : embedded_scm_arg_closed&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">#    def p_scalar_closed__lyric_element(self, p):</span>
    <span class="c1">#        &#39;scalar_closed : lyric_element&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

    <span class="c1">### scm_function_call ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_scm_function_call__SCM_FUNCTION__function_arglist"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_scm_function_call__SCM_FUNCTION__function_arglist">[docs]</a>    <span class="k">def</span> <span class="nf">p_scm_function_call__SCM_FUNCTION__function_arglist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;scm_function_call : SCM_FUNCTION function_arglist&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_guile</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### scm_function_call_closed ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_scm_function_call_closed__SCM_FUNCTION__function_arglist_closed"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_scm_function_call_closed__SCM_FUNCTION__function_arglist_closed">[docs]</a>    <span class="k">def</span> <span class="nf">p_scm_function_call_closed__SCM_FUNCTION__function_arglist_closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;scm_function_call_closed : SCM_FUNCTION function_arglist_closed %prec FUNCTION_ARGLIST&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_guile</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### score_block ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_score_block__SCORE__Chr123__score_body__Chr125"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_score_block__SCORE__Chr123__score_body__Chr125">[docs]</a>    <span class="k">def</span> <span class="nf">p_score_block__SCORE__Chr123__score_body__Chr125</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;score_block : SCORE &#39;{&#39; score_body &#39;}&#39;&quot;</span>
        <span class="n">score_block</span> <span class="o">=</span> <span class="n">_lilypondfile</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;score&quot;</span><span class="p">)</span>
        <span class="n">score_block</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">score_block</span></div>

    <span class="c1">### score_body ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_score_body__SCORE_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_score_body__SCORE_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_score_body__SCORE_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;score_body : SCORE_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_score_body__music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_score_body__music">[docs]</a>    <span class="k">def</span> <span class="nf">p_score_body__music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;score_body : music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span></div>

    <span class="c1">#    def p_score_body__score_body__error(self, p):</span>
    <span class="c1">#        &#39;score_body : score_body error&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;score_body&#39;, p[1:])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_score_body__score_body__lilypond_header"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_score_body__score_body__lilypond_header">[docs]</a>    <span class="k">def</span> <span class="nf">p_score_body__score_body__lilypond_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;score_body : score_body lilypond_header&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_score_body__score_body__output_def"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_score_body__score_body__output_def">[docs]</a>    <span class="k">def</span> <span class="nf">p_score_body__score_body__output_def</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;score_body : score_body output_def&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span></div>

    <span class="c1">### script_abbreviation ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_abbreviation__ANGLE_CLOSE"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_abbreviation__ANGLE_CLOSE">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_abbreviation__ANGLE_CLOSE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_abbreviation : ANGLE_CLOSE&quot;</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="s2">&quot;dashLarger&quot;</span><span class="p">][</span><span class="s2">&quot;articulation-type&quot;</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_abbreviation__Chr33"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_abbreviation__Chr33">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_abbreviation__Chr33</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_abbreviation : &#39;!&#39;&quot;</span>
        <span class="c1"># kind = self.client._current_module[&quot;dashBar&quot;][&quot;articulation-type&quot;]</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="s2">&quot;dashBang&quot;</span><span class="p">][</span><span class="s2">&quot;articulation-type&quot;</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_abbreviation__Chr43"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_abbreviation__Chr43">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_abbreviation__Chr43</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_abbreviation : &#39;+&#39;&quot;</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="s2">&quot;dashPlus&quot;</span><span class="p">][</span><span class="s2">&quot;articulation-type&quot;</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_abbreviation__Chr45"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_abbreviation__Chr45">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_abbreviation__Chr45</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_abbreviation : &#39;-&#39;&quot;</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="s2">&quot;dashDash&quot;</span><span class="p">][</span><span class="s2">&quot;articulation-type&quot;</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_abbreviation__Chr46"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_abbreviation__Chr46">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_abbreviation__Chr46</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_abbreviation : &#39;.&#39;&quot;</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="s2">&quot;dashDot&quot;</span><span class="p">][</span><span class="s2">&quot;articulation-type&quot;</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_abbreviation__Chr94"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_abbreviation__Chr94">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_abbreviation__Chr94</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_abbreviation : &#39;^&#39;&quot;</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="s2">&quot;dashHat&quot;</span><span class="p">][</span><span class="s2">&quot;articulation-type&quot;</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_abbreviation__Chr95"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_abbreviation__Chr95">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_abbreviation__Chr95</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_abbreviation : &#39;_&#39;&quot;</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_current_module</span><span class="p">[</span><span class="s2">&quot;dashUnderscore&quot;</span><span class="p">][</span><span class="s2">&quot;articulation-type&quot;</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">Articulation</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span></div>

    <span class="c1">### script_dir ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_dir__Chr45"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_dir__Chr45">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_dir__Chr45</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_dir : &#39;-&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_dir__Chr94"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_dir__Chr94">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_dir__Chr94</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_dir : &#39;^&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_script_dir__Chr95"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_script_dir__Chr95">[docs]</a>    <span class="k">def</span> <span class="nf">p_script_dir__Chr95</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;script_dir : &#39;_&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### sequential_music ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_sequential_music__SEQUENTIAL__braced_music_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_sequential_music__SEQUENTIAL__braced_music_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_sequential_music__SEQUENTIAL__braced_music_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;sequential_music : SEQUENTIAL braced_music_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_construct_sequential_music</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_sequential_music__braced_music_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_sequential_music__braced_music_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_sequential_music__braced_music_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;sequential_music : braced_music_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_construct_sequential_music</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

    <span class="c1">### simple_chord_elements ###</span>

    <span class="c1">#    def p_simple_chord_elements__figure_spec__optional_notemode_duration(self, p):</span>
    <span class="c1">#        &#39;simple_chord_elements : figure_spec optional_notemode_duration&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;simple_chord_elements&#39;, p[1:])</span>

    <span class="c1">#    def p_simple_chord_elements__new_chord(self, p):</span>
    <span class="c1">#        &#39;simple_chord_elements : new_chord&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;simple_chord_elements&#39;, p[1:])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_chord_elements__simple_element"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_chord_elements__simple_element">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_chord_elements__simple_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_chord_elements : simple_element&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### simple_element ###</span>

    <span class="c1">#    def p_simple_element__DRUM_PITCH__optional_notemode_duration(self, p):</span>
    <span class="c1">#        &#39;simple_element : DRUM_PITCH optional_notemode_duration&#39;</span>
    <span class="c1">#        message = &#39;drum pitches not supported.&#39;</span>
    <span class="c1">#        raise Exception(message)</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_element__RESTNAME__optional_notemode_duration"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_element__RESTNAME__optional_notemode_duration">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_element__RESTNAME__optional_notemode_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_element : RESTNAME optional_notemode_duration&quot;</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span>
            <span class="n">rest</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Rest</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rest</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Skip</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">multiplier</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span><span class="p">)</span>
            <span class="n">rest</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">=</span> <span class="n">_duration</span><span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">multiplier</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">rest</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_element__pitch__exclamations__questions__octave_check__optional_notemode_duration__optional_rest"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_element__pitch__exclamations__questions__octave_check__optional_notemode_duration__optional_rest">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_element__pitch__exclamations__questions__octave_check__optional_notemode_duration__optional_rest</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;simple_element : pitch exclamations questions octave_check optional_notemode_duration optional_rest&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">p</span><span class="p">[</span><span class="mi">6</span><span class="p">]:</span>
            <span class="n">leaf</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
            <span class="n">leaf</span><span class="o">.</span><span class="n">note_head</span><span class="o">.</span><span class="n">is_forced</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">leaf</span><span class="o">.</span><span class="n">note_head</span><span class="o">.</span><span class="n">is_cautionary</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">leaf</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Rest</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">multiplier</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span><span class="p">)</span>
            <span class="n">leaf</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">=</span> <span class="n">_duration</span><span class="o">.</span><span class="n">pair</span><span class="p">(</span><span class="n">multiplier</span><span class="p">)</span>
        <span class="c1"># TODO: handle exclamations, questions, octave_check</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">leaf</span></div>

    <span class="c1">### simple_markup ###</span>

    <span class="c1">#    def p_simple_markup__LYRIC_MARKUP_IDENTIFIER(self, p):</span>
    <span class="c1">#        &#39;simple_markup : LYRIC_MARKUP_IDENTIFIER&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;simple_markup&#39;, p[1:])</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_markup__MARKUP_FUNCTION__markup_command_basic_arguments"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_markup__MARKUP_FUNCTION__markup_command_basic_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_markup__MARKUP_FUNCTION__markup_command_basic_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_markup : MARKUP_FUNCTION markup_command_basic_arguments&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">MarkupCommand</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="o">*</span><span class="n">arguments</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_markup__MARKUP_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_markup__MARKUP_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_markup__MARKUP_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_markup : MARKUP_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_markup__SCORE__Chr123__score_body__Chr125"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_markup__SCORE__Chr123__score_body__Chr125">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_markup__SCORE__Chr123__score_body__Chr125</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_markup : SCORE &#39;{&#39; score_body &#39;}&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;simple_markup&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_markup__STRING"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_markup__STRING">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_markup__STRING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_markup : STRING&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_markup__STRING_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_markup__STRING_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_markup__STRING_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_markup : STRING_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### simple_music ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_music__context_change"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_music__context_change">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_music__context_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_music : context_change&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_music__event_chord"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_music__event_chord">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_music__event_chord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_music : event_chord&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_music__music_property_def"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_music__music_property_def">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_music__music_property_def</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_music : music_property_def&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### simple_music_property_def ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_music_property_def__OVERRIDE__context_prop_spec__property_path__Chr61__scalar"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_music_property_def__OVERRIDE__context_prop_spec__property_path__Chr61__scalar">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_music_property_def__OVERRIDE__context_prop_spec__property_path__Chr61__scalar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;simple_music_property_def : OVERRIDE context_prop_spec property_path &#39;=&#39; scalar&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondEvent</span><span class="p">(</span>
            <span class="s2">&quot;PropertyOperation&quot;</span><span class="p">,</span>
            <span class="n">keyword</span><span class="o">=</span><span class="s2">&quot;override&quot;</span><span class="p">,</span>
            <span class="n">context</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="nb">property</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
            <span class="n">value</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_music_property_def__REVERT__context_prop_spec__embedded_scm"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_music_property_def__REVERT__context_prop_spec__embedded_scm">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_music_property_def__REVERT__context_prop_spec__embedded_scm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_music_property_def : REVERT context_prop_spec embedded_scm&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;simple_music_property_def&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_music_property_def__SET__context_prop_spec__Chr61__scalar"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_music_property_def__SET__context_prop_spec__Chr61__scalar">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_music_property_def__SET__context_prop_spec__Chr61__scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_music_property_def : SET context_prop_spec &#39;=&#39; scalar&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;simple_music_property_def&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_music_property_def__UNSET__context_prop_spec"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_music_property_def__UNSET__context_prop_spec">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_music_property_def__UNSET__context_prop_spec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_music_property_def : UNSET context_prop_spec&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;simple_music_property_def&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### simple_string ###</span>

    <span class="c1">#    def p_simple_string__LYRICS_STRING(self, p):</span>
    <span class="c1">#        &#39;simple_string : LYRICS_STRING&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_string__STRING"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_string__STRING">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_string__STRING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_string : STRING&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simple_string__STRING_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simple_string__STRING_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_simple_string__STRING_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simple_string : STRING_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### simultaneous_music ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simultaneous_music__DOUBLE_ANGLE_OPEN__music_list__DOUBLE_ANGLE_CLOSE"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simultaneous_music__DOUBLE_ANGLE_OPEN__music_list__DOUBLE_ANGLE_CLOSE">[docs]</a>    <span class="k">def</span> <span class="nf">p_simultaneous_music__DOUBLE_ANGLE_OPEN__music_list__DOUBLE_ANGLE_CLOSE</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;simultaneous_music : DOUBLE_ANGLE_OPEN music_list DOUBLE_ANGLE_CLOSE&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_construct_simultaneous_music</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_simultaneous_music__SIMULTANEOUS__braced_music_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_simultaneous_music__SIMULTANEOUS__braced_music_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_simultaneous_music__SIMULTANEOUS__braced_music_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;simultaneous_music : SIMULTANEOUS braced_music_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_construct_simultaneous_music</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### steno_duration ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_steno_duration__DURATION_IDENTIFIER__dots"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_steno_duration__DURATION_IDENTIFIER__dots">[docs]</a>    <span class="k">def</span> <span class="nf">p_steno_duration__DURATION_IDENTIFIER__dots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;steno_duration : DURATION_IDENTIFIER dots&quot;</span>
        <span class="n">dots</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span>
        <span class="n">multiplier</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span>
        <span class="k">if</span> <span class="n">dots</span><span class="p">:</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">lilypond_duration_string</span>
            <span class="n">duration</span> <span class="o">+=</span> <span class="s2">&quot;.&quot;</span> <span class="o">*</span> <span class="n">dots</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="n">_duration</span><span class="o">.</span><span class="n">Duration</span><span class="o">.</span><span class="n">from_lilypond_duration_string</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_steno_duration__bare_unsigned__dots"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_steno_duration__bare_unsigned__dots">[docs]</a>    <span class="k">def</span> <span class="nf">p_steno_duration__bare_unsigned__dots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;steno_duration : bare_unsigned dots&quot;</span>
        <span class="k">assert</span> <span class="n">_duration</span><span class="o">.</span><span class="n">Duration</span><span class="o">.</span><span class="n">is_token</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">dots</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
        <span class="n">token</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">*</span> <span class="n">dots</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="n">_duration</span><span class="o">.</span><span class="n">Duration</span><span class="o">.</span><span class="n">from_lilypond_duration_string</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">LilyPondDuration</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>

    <span class="c1">### steno_pitch ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_steno_pitch__NOTENAME_PITCH"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_steno_pitch__NOTENAME_PITCH">[docs]</a>    <span class="k">def</span> <span class="nf">p_steno_pitch__NOTENAME_PITCH</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;steno_pitch : NOTENAME_PITCH&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitchClass</span><span class="p">):</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">_lyconst</span><span class="o">.</span><span class="n">drums</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_steno_pitch__NOTENAME_PITCH__sub_quotes"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_steno_pitch__NOTENAME_PITCH__sub_quotes">[docs]</a>    <span class="k">def</span> <span class="nf">p_steno_pitch__NOTENAME_PITCH__sub_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;steno_pitch : NOTENAME_PITCH sub_quotes&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_steno_pitch__NOTENAME_PITCH__sup_quotes"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_steno_pitch__NOTENAME_PITCH__sup_quotes">[docs]</a>    <span class="k">def</span> <span class="nf">p_steno_pitch__NOTENAME_PITCH__sup_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;steno_pitch : NOTENAME_PITCH sup_quotes&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_pitch</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### steno_tonic_pitch ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_steno_tonic_pitch__TONICNAME_PITCH"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_steno_tonic_pitch__TONICNAME_PITCH">[docs]</a>    <span class="k">def</span> <span class="nf">p_steno_tonic_pitch__TONICNAME_PITCH</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;steno_tonic_pitch : TONICNAME_PITCH&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;steno_tonic_pitch&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_steno_tonic_pitch__TONICNAME_PITCH__sub_quotes"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_steno_tonic_pitch__TONICNAME_PITCH__sub_quotes">[docs]</a>    <span class="k">def</span> <span class="nf">p_steno_tonic_pitch__TONICNAME_PITCH__sub_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;steno_tonic_pitch : TONICNAME_PITCH sub_quotes&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;steno_tonic_pitch&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_steno_tonic_pitch__TONICNAME_PITCH__sup_quotes"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_steno_tonic_pitch__TONICNAME_PITCH__sup_quotes">[docs]</a>    <span class="k">def</span> <span class="nf">p_steno_tonic_pitch__TONICNAME_PITCH__sup_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;steno_tonic_pitch : TONICNAME_PITCH sup_quotes&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;steno_tonic_pitch&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__getslice__</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

    <span class="c1">### step_number ###</span>

    <span class="c1">#    def p_step_number__bare_unsigned(self, p):</span>
    <span class="c1">#        &#39;step_number : bare_unsigned&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;step_number&#39;, p[1:])</span>

    <span class="c1">#    def p_step_number__bare_unsigned__CHORD_MINUS(self, p):</span>
    <span class="c1">#        &#39;step_number : bare_unsigned CHORD_MINUS&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;step_number&#39;, p[1:])</span>

    <span class="c1">#    def p_step_number__bare_unsigned__Chr43(self, p):</span>
    <span class="c1">#        &quot;step_number : bare_unsigned &#39;+&#39;&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;step_number&#39;, p[1:])</span>

    <span class="c1">### step_numbers ###</span>

    <span class="c1">#    def p_step_numbers__step_number(self, p):</span>
    <span class="c1">#        &#39;step_numbers : step_number&#39;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;step_numbers&#39;, p[1:])</span>

    <span class="c1">#    def p_step_numbers__step_numbers__Chr46__step_number(self, p):</span>
    <span class="c1">#        &quot;step_numbers : step_numbers &#39;.&#39; step_number&quot;</span>
    <span class="c1">#        p[0] = SyntaxNode(&#39;step_numbers&#39;, p[1:])</span>

    <span class="c1">### string ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_string__STRING"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_string__STRING">[docs]</a>    <span class="k">def</span> <span class="nf">p_string__STRING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;string : STRING&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_string__STRING_IDENTIFIER"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_string__STRING_IDENTIFIER">[docs]</a>    <span class="k">def</span> <span class="nf">p_string__STRING_IDENTIFIER</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;string : STRING_IDENTIFIER&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_string__string__Chr43__string"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_string__string__Chr43__string">[docs]</a>    <span class="k">def</span> <span class="nf">p_string__string__Chr43__string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;string : string &#39;+&#39; string&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></div>

    <span class="c1">### string_number_event ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_string_number_event__E_UNSIGNED"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_string_number_event__E_UNSIGNED">[docs]</a>    <span class="k">def</span> <span class="nf">p_string_number_event__E_UNSIGNED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;string_number_event : E_UNSIGNED&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">SyntaxNode</span><span class="p">(</span><span class="s2">&quot;string_number_event&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span></div>

    <span class="c1">### sub_quotes ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_sub_quotes__Chr44"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_sub_quotes__Chr44">[docs]</a>    <span class="k">def</span> <span class="nf">p_sub_quotes__Chr44</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;sub_quotes : &#39;,&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_sub_quotes__sub_quotes__Chr44"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_sub_quotes__sub_quotes__Chr44">[docs]</a>    <span class="k">def</span> <span class="nf">p_sub_quotes__sub_quotes__Chr44</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;sub_quotes : sub_quotes &#39;,&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span></div>

    <span class="c1">### sup_quotes ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_sup_quotes__Chr39"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_sup_quotes__Chr39">[docs]</a>    <span class="k">def</span> <span class="nf">p_sup_quotes__Chr39</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;sup_quotes : &#39;</span><span class="se">\\</span><span class="s2">&#39;&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_sup_quotes__sup_quotes__Chr39"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_sup_quotes__sup_quotes__Chr39">[docs]</a>    <span class="k">def</span> <span class="nf">p_sup_quotes__sup_quotes__Chr39</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;sup_quotes : sup_quotes &#39;</span><span class="se">\\</span><span class="s2">&#39;&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span></div>

    <span class="c1">### tempo_event ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_tempo_event__TEMPO__scalar"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_tempo_event__TEMPO__scalar">[docs]</a>    <span class="k">def</span> <span class="nf">p_tempo_event__TEMPO__scalar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;tempo_event : TEMPO scalar&quot;</span>
        <span class="k">if</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">string</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">MetronomeMark</span><span class="p">(</span><span class="n">textual_indication</span><span class="o">=</span><span class="n">string</span><span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_tempo_event__TEMPO__scalar_closed__steno_duration__Chr61__tempo_range"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_tempo_event__TEMPO__scalar_closed__steno_duration__Chr61__tempo_range">[docs]</a>    <span class="k">def</span> <span class="nf">p_tempo_event__TEMPO__scalar_closed__steno_duration__Chr61__tempo_range</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">p</span>
    <span class="p">):</span>
        <span class="s2">&quot;tempo_event : TEMPO scalar_closed steno_duration &#39;=&#39; tempo_range&quot;</span>
        <span class="k">if</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">string</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">MetronomeMark</span><span class="p">(</span>
            <span class="n">reference_duration</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span>
            <span class="n">units_per_minute</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
            <span class="n">textual_indication</span><span class="o">=</span><span class="n">string</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_tempo_event__TEMPO__steno_duration__Chr61__tempo_range"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_tempo_event__TEMPO__steno_duration__Chr61__tempo_range">[docs]</a>    <span class="k">def</span> <span class="nf">p_tempo_event__TEMPO__steno_duration__Chr61__tempo_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;tempo_event : TEMPO steno_duration &#39;=&#39; tempo_range&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">MetronomeMark</span><span class="p">(</span>
            <span class="n">reference_duration</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">units_per_minute</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="p">)</span></div>

    <span class="c1">### tempo_range ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_tempo_range__bare_unsigned"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_tempo_range__bare_unsigned">[docs]</a>    <span class="k">def</span> <span class="nf">p_tempo_range__bare_unsigned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;tempo_range : bare_unsigned&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_tempo_range__bare_unsigned__Chr45__bare_unsigned"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_tempo_range__bare_unsigned__Chr45__bare_unsigned">[docs]</a>    <span class="k">def</span> <span class="nf">p_tempo_range__bare_unsigned__Chr45__bare_unsigned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;tempo_range : bare_unsigned &#39;-&#39; bare_unsigned&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span></div>

    <span class="c1">### toplevel_expression ###</span>

    <span class="c1">#    def p_toplevel_expression__book_block(self, p):</span>
    <span class="c1">#        &#39;toplevel_expression : book_block&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

    <span class="c1">#    def p_toplevel_expression__bookpart_block(self, p):</span>
    <span class="c1">#        &#39;toplevel_expression : bookpart_block&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_toplevel_expression__composite_music"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_toplevel_expression__composite_music">[docs]</a>    <span class="k">def</span> <span class="nf">p_toplevel_expression__composite_music</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;toplevel_expression : composite_music&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_toplevel_expression__full_markup"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_toplevel_expression__full_markup">[docs]</a>    <span class="k">def</span> <span class="nf">p_toplevel_expression__full_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;toplevel_expression : full_markup&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_toplevel_expression__full_markup_list"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_toplevel_expression__full_markup_list">[docs]</a>    <span class="k">def</span> <span class="nf">p_toplevel_expression__full_markup_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;toplevel_expression : full_markup_list&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_toplevel_expression__lilypond_header"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_toplevel_expression__lilypond_header">[docs]</a>    <span class="k">def</span> <span class="nf">p_toplevel_expression__lilypond_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;toplevel_expression : lilypond_header&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_toplevel_expression__output_def"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_toplevel_expression__output_def">[docs]</a>    <span class="k">def</span> <span class="nf">p_toplevel_expression__output_def</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;toplevel_expression : output_def&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_toplevel_expression__score_block"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_toplevel_expression__score_block">[docs]</a>    <span class="k">def</span> <span class="nf">p_toplevel_expression__score_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;toplevel_expression : score_block&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="c1">### tremolo_type ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_tremolo_type__Chr58"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_tremolo_type__Chr58">[docs]</a>    <span class="k">def</span> <span class="nf">p_tremolo_type__Chr58</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;tremolo_type : &#39;:&#39;&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_tremolo_type__Chr58__bare_unsigned"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_tremolo_type__Chr58__bare_unsigned">[docs]</a>    <span class="k">def</span> <span class="nf">p_tremolo_type__Chr58__bare_unsigned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="s2">&quot;tremolo_type : &#39;:&#39; bare_unsigned&quot;</span>
        <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_indicators</span><span class="o">.</span><span class="n">StemTremolo</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

    <span class="c1">### unsigned_number ###</span>

    <span class="c1">#    def p_unsigned_number__NUMBER_IDENTIFIER(self, p):</span>
    <span class="c1">#        &#39;unsigned_number : NUMBER_IDENTIFIER&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

    <span class="c1">#    def p_unsigned_number__UNSIGNED(self, p):</span>
    <span class="c1">#        &#39;unsigned_number : UNSIGNED&#39;</span>
    <span class="c1">#        p[0] = p[1]</span>

    <span class="c1">### PLY error ###</span>

<div class="viewcode-block" id="LilyPondSyntacticalDefinition.p_error"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.LilyPondSyntacticalDefinition.p_error">[docs]</a>    <span class="k">def</span> <span class="nf">p_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="c1"># print p</span>
        <span class="k">raise</span> <span class="n">_exceptions</span><span class="o">.</span><span class="n">LilyPondParserError</span><span class="p">(</span><span class="n">p</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="SequentialMusic"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.SequentialMusic">[docs]</a><span class="k">class</span> <span class="nc">SequentialMusic</span><span class="p">(</span><span class="n">Music</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abjad model of the LilyPond AST sequential music node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

<div class="viewcode-block" id="SequentialMusic.construct"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.SequentialMusic.construct">[docs]</a>    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs sequential music.</span>

<span class="sd">        Returns Abjad container.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">container</span> <span class="o">=</span> <span class="n">_score</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">music</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">_score</span><span class="o">.</span><span class="n">Component</span><span class="p">):</span>
                <span class="n">container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
                <span class="n">container</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">construct</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">container</span></div></div>


<div class="viewcode-block" id="SimultaneousMusic"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.SimultaneousMusic">[docs]</a><span class="k">class</span> <span class="nc">SimultaneousMusic</span><span class="p">(</span><span class="n">Music</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abjad model of the LilyPond AST simultaneous music node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span></div>


<div class="viewcode-block" id="SyntaxNode"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.SyntaxNode">[docs]</a><span class="k">class</span> <span class="nc">SyntaxNode</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A node in an abstract syntax tree (AST).</span>

<span class="sd">    Not composer-safe.</span>

<span class="sd">    Used internally by LilyPondParser.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="SyntaxNode.__getitem__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.SyntaxNode.__getitem__">[docs]</a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets item or slice identified by ``argument``.</span>

<span class="sd">        Returns item or slice.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;can not get: </span><span class="si">{</span><span class="n">argument</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="SyntaxNode.__len__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.SyntaxNode.__len__">[docs]</a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets length.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;value must be list or tuple.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="SyntaxNode.__repr__"><a class="viewcode-back" href="../../../api/abjad/parsers/parser.html#abjad.parsers.parser.SyntaxNode.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets repr.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span></div>

    <span class="k">def</span> <span class="nf">_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">space</span> <span class="o">=</span> <span class="s2">&quot;.  &quot;</span> <span class="o">*</span> <span class="n">indent</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">space</span><span class="si">}</span><span class="s2">&lt;</span><span class="si">{</span><span class="n">obj</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&gt;: [&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">indent</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="n">result</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="s2">&quot; ]&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">space</span><span class="si">}</span><span class="s2">&lt;</span><span class="si">{</span><span class="n">obj</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&gt;: </span><span class="si">{</span><span class="n">obj</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">space</span><span class="si">}</span><span class="s2">[&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">indent</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">result</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="s2">&quot; ]&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">space</span><span class="si">}{</span><span class="n">obj</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>
</pre></div>

    </div>
    
    </div>
    

<footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

</div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>