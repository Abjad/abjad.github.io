

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Leaf, Container, Spanner, Indicator &mdash; Abjad 3.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script defer="defer" type="text/javascript" src="../_static/copybutton.js"></script>
        <script type="text/javascript" src="../_static/ga.js"></script>
        <script defer="defer" type="text/javascript" src="../_static/lightbox2/js/lightbox.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/abjad.css" type="text/css" />
  <link rel="stylesheet" href="../_static/uqbar.css" type="text/css" />
  <link rel="stylesheet" href="../_static/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Durations" href="durations.html" />
    <link rel="prev" title="From Abjad’s developers" href="from_abjads_developers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Abjad
          

          
            
            <img src="../_static/abjad-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery.html">Score gallery</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../for_beginners/index.html">For beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../literature_examples/index.html">Literature examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Core concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="from_abjads_developers.html">From Abjad’s developers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Leaf, Container, Spanner, Indicator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-1">Example 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-2">Example 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="durations.html">Durations</a></li>
<li class="toctree-l2"><a class="reference internal" href="parentage.html">Component parentage</a></li>
<li class="toctree-l2"><a class="reference internal" href="logical_voices.html">Logical voices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference_manual/index.html">Reference manual</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Abjad API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendices/index.html">Appendices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Abjad</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Core concepts</a> &raquo;</li>
        
      <li>Leaf, Container, Spanner, Indicator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/core_concepts/lcsi.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="leaf-container-spanner-indicator">
<h1>Leaf, Container, Spanner, Indicator<a class="headerlink" href="#leaf-container-spanner-indicator" title="Permalink to this headline">¶</a></h1>
<p>At the heart of Abjad’s Symbolic Score-Control lies a powerful model that we
call the <strong>Leaf Container Spanner Indicator</strong>, or LCSI, model of the musical
score.</p>
<p>The LCSI model can be schematically visualized as a superposition of two
complementary and completely independent layers of structure: a <em>tree</em> that
includes the Containers and the Leaves, and a layer of free floating
<em>connectors</em> or Spanners.</p>
<img alt="../_images/container-spanner.png" src="../_images/container-spanner.png" />
<p>There can be any number of Spanners, they may overlap, and they may connect to
different levels of the tree hierarchy. The spanners attach to the elements of
the tree, so a tree structure must exist for spanners to be made manifest.</p>
<div class="section" id="example-1">
<h2>Example 1<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h2>
<p>To understand the whys and hows of the LCSI model implemented in Abjad, it is
probably easier to base the discussion on concrete musical examples. Let’s
begin with a simple and rather abstract musical fragment: a measure with nested
tuplets.</p>
<img alt="../_images/lcs-1.png" src="../_images/lcs-1.png" />
<p>What we see in this little fragment is a measure with 4/4 meter, 14 notes and
four tuplet brackets prolating the notes. The three bottom tuplets (with ratios
5:4, 3:2, 5:4) prolate all but the last note. The topmost tuplet prolates all
the notes in the measure and combines with the bottom three tuplets to doubly
prolate all but the last note. The topmost tuplet as thus prolates three
tuplets, each of which in turn prolates a group of notes. We can think of a
tuplet as <em>containing</em> notes or other tuplets or both. Thus, in our example,
the topmost tuplet contains three tuplets and a half note. Each of the tuplets
contained by the topmost tuplet in turn contains five, three, and five notes
respectively. If we add the measure, then we have a measure that contains a
tuplet that contains tuplets that contain notes. The structure of the measure
with nested tuplets as we have just described it has two important properties:</p>
<ol class="arabic simple">
<li><p>It is a <em>hierarchical</em> structure.</p></li>
<li><p>It follows <em>exclusive membership</em>, meaning that each element in
the hierarchy (a note, a tuplet or a measure) has one and only one
<em>parent</em>. In other words a single note is not contained in more than
one tuplet simultaneously, and no one tuplet is contained in more
than one other tuplet at the same time.</p></li>
</ol>
<p>What we are describing here is a tree, and it is the structure of Abjad
<em>containers</em>.</p>
<p>While this tree structure seem like the right way to represent the
relationships between the elements of a score, it is not enough. Consider the
tuplet example again with the following beaming alternatives:</p>
<p>Beaming alternative 1:</p>
<img alt="../_images/lcs-2.png" src="../_images/lcs-2.png" />
<p>Beaming alternative 2:</p>
<img alt="../_images/lcs-3.png" src="../_images/lcs-3.png" />
<p>Beaming alternative 3:</p>
<img alt="../_images/lcs-4.png" src="../_images/lcs-4.png" />
<p>Clearly the beaming of notes can be totally independent from the tuplet
groupings. Beaming across tuplet groups implies beaming across nodes in the
tree structure, which means that the beams do not adhere to the <em>exclusive
(parenthood) membership</em> characteristic of the tree. Beams must then be modeled
independently as a separate and complementary structure. These are the Abjad
<em>spanners</em>.</p>
<p>Below we have the score of our tuplet example with alternative beaming and its
the Leaf-Container-Spanner graph. Notice that the colored blocks represent
spanners.</p>
<p>Beaming alternative 3 (graph):</p>
<img alt="../_images/lcs-tuplet-spanned.png" src="../_images/lcs-tuplet-spanned.png" />
</div>
<div class="section" id="example-2">
<h2>Example 2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h2>
<p>As a second example let’s look at the last five measures of Bartók’s
<em>Wandering</em> from Mikrokosmos vol. III. As simple as it may seem, these five
measures carry with them a lot of information pertaining to musical notation.</p>
<div class="uqbar-book">
    <a href="../_images/lilypond-46bec36d60d73012054437254e3f72c61093d05144d498ff9793e17a6900b51d.ly"><img src="../_images/lilypond-46bec36d60d73012054437254e3f72c61093d05144d498ff9793e17a6900b51d.cropped.svg"/></a>
</div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please refer to the <a class="reference internal" href="../literature_examples/bartok.html"><span class="doc">Bartok example</span></a> for a
step by step construction of the musical fragment and its full Abjad code.</p>
</div>
<p>There are many musical signs of different types on the pages: notes, dynamics,
clefs, staves, slurs, etc. These signs are structurally related to each other
in different ways. Let’s start by looking at the larger picture. The piano
piece is written in two staves. As is customary, the staves are graphically
grouped with a large curly brace attaching to them at the beginning or each
system. Notice that each staff has a variety of signs associated with it. There
are notes printed on the staff lines as well as meter indications and bar
lines. Each note, for example, is in one and only one staff. A note is never in
two staves at the same time. This is also true for measures. A measure in the
top staff is not simultaneously drawn on the top staff and the bottom staff. It
is better to think of each staff as having its own set of measures. Notice also
that the notes in each staff fall within the region of one and only one
measure, i.e. measures seem to contain notes. There is not one note that is at
once in two measures  (this is standard practice in musical notation, but it
need not always be the case.)</p>
<p>As we continue describing the relationships between the musical signs in the
page, we begin to discover a certain structure, or a convenient way of
structuring the score for conceptualization and manipulation. All the music in
a piano score seems to be written in what we might call a <em>staff group</em>. The
staff group is <em>composed of</em> two staves. Each staff in turn appears to be
composed of a series or measures, and each measure is composed of a series of
notes. So again we find that the score structure can be organized
hierarchically as a tree. This tree structure looks like this:</p>
<img alt="../_images/bartok-wandering-graph.png" src="../_images/bartok-wandering-graph.png" />
<p>Notice again though that there are elements in the score that imply and require
a different kind of grouping. The two four eighth-note runs in the lower staff
are beamed together across the bar line and, based on our tree structure,
across tree nodes. So do the slurs, the dynamics markings and the ritardando
indication at the top of the score. As we have seen in the tuplets example, all
these groups running across the tree structure can be defined with <em>spanners</em>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="durations.html" class="btn btn-neutral float-right" title="Durations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="from_abjads_developers.html" class="btn btn-neutral float-left" title="From Abjad’s developers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-2019, Trevor Bača &amp; Josiah Wolf Oberholtzer
      <span class="lastupdated">
        Last updated on Dec 18, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>